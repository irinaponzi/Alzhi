(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(vn,gt,x)=>{"use strict";x.d(gt,{E_:()=>qe,F3:()=>ke});var a=x(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Oe=function(Ye){return Ye.Unimplemented="UNIMPLEMENTED",Ye.Unavailable="UNAVAILABLE",Ye}(Oe||{});class ze extends Error{constructor(ot,Je,We){super(ot),this.message=ot,this.code=Je,this.data=We}}const he=Ye=>{var ot,Je,We,At,Ie;const W=Ye.CapacitorCustomPlatform||null,M=Ye.Capacitor||{},S=M.Plugins=M.Plugins||{},L=Ye.CapacitorPlatforms,je=(null===(ot=L?.currentPlatform)||void 0===ot?void 0:ot.getPlatform)||(()=>null!==W?W.name:(Ye=>{var ot,Je;return Ye?.androidBridge?"android":null!==(Je=null===(ot=Ye?.webkit)||void 0===ot?void 0:ot.messageHandlers)&&void 0!==Je&&Je.bridge?"ios":"web"})(Ye)),Bt=(null===(Je=L?.currentPlatform)||void 0===Je?void 0:Je.isNativePlatform)||(()=>"web"!==je()),Cn=(null===(We=L?.currentPlatform)||void 0===We?void 0:We.isPluginAvailable)||(sn=>{const $t=en.get(sn);return!(!$t?.platforms.has(je())&&!rn(sn))}),rn=(null===(At=L?.currentPlatform)||void 0===At?void 0:At.getPluginHeader)||(sn=>{var $t;return null===($t=M.PluginHeaders)||void 0===$t?void 0:$t.find(ct=>ct.name===sn)}),en=new Map,Gn=(null===(Ie=L?.currentPlatform)||void 0===Ie?void 0:Ie.registerPlugin)||((sn,$t={})=>{const ct=en.get(sn);if(ct)return console.warn(`Capacitor plugin "${sn}" already registered. Cannot register plugins twice.`),ct.proxy;const st=je(),Tt=rn(sn);let Kt;const Ht=function(){var Rn=(0,a.A)(function*(){return!Kt&&st in $t?Kt=Kt="function"==typeof $t[st]?yield $t[st]():$t[st]:null!==W&&!Kt&&"web"in $t&&(Kt=Kt="function"==typeof $t.web?yield $t.web():$t.web),Kt});return function(){return Rn.apply(this,arguments)}}(),zn=Rn=>{let Jn;const wn=(...Vt)=>{const _t=Ht().then(Ut=>{const wt=((Rn,Jn)=>{var wn,Vt;if(!Tt){if(Rn)return null===(Vt=Rn[Jn])||void 0===Vt?void 0:Vt.bind(Rn);throw new ze(`"${sn}" plugin is not implemented on ${st}`,Oe.Unimplemented)}{const _t=Tt?.methods.find(Ut=>Jn===Ut.name);if(_t)return"promise"===_t.rtype?Ut=>M.nativePromise(sn,Jn.toString(),Ut):(Ut,wt)=>M.nativeCallback(sn,Jn.toString(),Ut,wt);if(Rn)return null===(wn=Rn[Jn])||void 0===wn?void 0:wn.bind(Rn)}})(Ut,Rn);if(wt){const qt=wt(...Vt);return Jn=qt?.remove,qt}throw new ze(`"${sn}.${Rn}()" is not implemented on ${st}`,Oe.Unimplemented)});return"addListener"===Rn&&(_t.remove=(0,a.A)(function*(){return Jn()})),_t};return wn.toString=()=>`${Rn.toString()}() { [capacitor code] }`,Object.defineProperty(wn,"name",{value:Rn,writable:!1,configurable:!1}),wn},fn=zn("addListener"),gn=zn("removeListener"),Un=(Rn,Jn)=>{const wn=fn({eventName:Rn},Jn),Vt=function(){var Ut=(0,a.A)(function*(){const wt=yield wn;gn({eventName:Rn,callbackId:wt},Jn)});return function(){return Ut.apply(this,arguments)}}(),_t=new Promise(Ut=>wn.then(()=>Ut({remove:Vt})));return _t.remove=(0,a.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Vt()}),_t},Yn=new Proxy({},{get(Rn,Jn){switch(Jn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Tt?Un:fn;case"removeListener":return gn;default:return zn(Jn)}}});return S[sn]=Yn,en.set(sn,{name:sn,proxy:Yn,platforms:new Set([...Object.keys($t),...Tt?[st]:[]])}),Yn});return M.convertFileSrc||(M.convertFileSrc=sn=>sn),M.getPlatform=je,M.handleError=sn=>Ye.console.error(sn),M.isNativePlatform=Bt,M.isPluginAvailable=Cn,M.pluginMethodNoop=(sn,$t,ct)=>Promise.reject(`${ct} does not have an implementation of "${$t}".`),M.registerPlugin=Gn,M.Exception=ze,M.DEBUG=!!M.DEBUG,M.isLoggingEnabled=!!M.isLoggingEnabled,M.platform=M.getPlatform(),M.isNative=M.isNativePlatform(),M},Fe=(Ye=>Ye.Capacitor=he(Ye))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ke=Fe.registerPlugin;class qe{constructor(ot){this.listeners={},this.retainedEventArguments={},this.windowListeners={},ot&&(console.warn(`Capacitor WebPlugin "${ot.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ot)}addListener(ot,Je){var We=this;let At=!1;this.listeners[ot]||(this.listeners[ot]=[],At=!0),this.listeners[ot].push(Je);const W=this.windowListeners[ot];W&&!W.registered&&this.addWindowListener(W),At&&this.sendRetainedArgumentsForEvent(ot);const M=function(){var L=(0,a.A)(function*(){return We.removeListener(ot,Je)});return function(){return L.apply(this,arguments)}}();return Promise.resolve({remove:M})}removeAllListeners(){var ot=this;return(0,a.A)(function*(){ot.listeners={};for(const Je in ot.windowListeners)ot.removeWindowListener(ot.windowListeners[Je]);ot.windowListeners={}})()}notifyListeners(ot,Je,We){const At=this.listeners[ot];if(At)At.forEach(Ie=>Ie(Je));else if(We){let Ie=this.retainedEventArguments[ot];Ie||(Ie=[]),Ie.push(Je),this.retainedEventArguments[ot]=Ie}}hasListeners(ot){return!!this.listeners[ot].length}registerWindowListener(ot,Je){this.windowListeners[Je]={registered:!1,windowEventName:ot,pluginEventName:Je,handler:We=>{this.notifyListeners(Je,We)}}}unimplemented(ot="not implemented"){return new Fe.Exception(ot,Oe.Unimplemented)}unavailable(ot="not available"){return new Fe.Exception(ot,Oe.Unavailable)}removeListener(ot,Je){var We=this;return(0,a.A)(function*(){const At=We.listeners[ot];if(!At)return;const Ie=At.indexOf(Je);We.listeners[ot].splice(Ie,1),We.listeners[ot].length||We.removeWindowListener(We.windowListeners[ot])})()}addWindowListener(ot){window.addEventListener(ot.windowEventName,ot.handler),ot.registered=!0}removeWindowListener(ot){ot&&(window.removeEventListener(ot.windowEventName,ot.handler),ot.registered=!1)}sendRetainedArgumentsForEvent(ot){const Je=this.retainedEventArguments[ot];Je&&(delete this.retainedEventArguments[ot],Je.forEach(We=>{this.notifyListeners(ot,We)}))}}const It=Ye=>encodeURIComponent(Ye).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ge=Ye=>Ye.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class tt extends qe{getCookies(){return(0,a.A)(function*(){const ot=document.cookie,Je={};return ot.split(";").forEach(We=>{if(We.length<=0)return;let[At,Ie]=We.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");At=Ge(At).trim(),Ie=Ge(Ie).trim(),Je[At]=Ie}),Je})()}setCookie(ot){return(0,a.A)(function*(){try{const Je=It(ot.key),We=It(ot.value),At=`; expires=${(ot.expires||"").replace("expires=","")}`,Ie=(ot.path||"/").replace("path=",""),W=null!=ot.url&&ot.url.length>0?`domain=${ot.url}`:"";document.cookie=`${Je}=${We||""}${At}; path=${Ie}; ${W};`}catch(Je){return Promise.reject(Je)}})()}deleteCookie(ot){return(0,a.A)(function*(){try{document.cookie=`${ot.key}=; Max-Age=0`}catch(Je){return Promise.reject(Je)}})()}clearCookies(){return(0,a.A)(function*(){try{const ot=document.cookie.split(";")||[];for(const Je of ot)document.cookie=Je.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(ot){return Promise.reject(ot)}})()}clearAllCookies(){var ot=this;return(0,a.A)(function*(){try{yield ot.clearCookies()}catch(Je){return Promise.reject(Je)}})()}}ke("CapacitorCookies",{web:()=>new tt});const xe=function(){var Ye=(0,a.A)(function*(ot){return new Promise((Je,We)=>{const At=new FileReader;At.onload=()=>{const Ie=At.result;Je(Ie.indexOf(",")>=0?Ie.split(",")[1]:Ie)},At.onerror=Ie=>We(Ie),At.readAsDataURL(ot)})});return function(Je){return Ye.apply(this,arguments)}}();class me extends qe{request(ot){return(0,a.A)(function*(){const Je=((Ye,ot={})=>{const Je=Object.assign({method:Ye.method||"GET",headers:Ye.headers},ot),At=((Ye={})=>{const ot=Object.keys(Ye);return Object.keys(Ye).map(At=>At.toLocaleLowerCase()).reduce((At,Ie,W)=>(At[Ie]=Ye[ot[W]],At),{})})(Ye.headers)["content-type"]||"";if("string"==typeof Ye.data)Je.body=Ye.data;else if(At.includes("application/x-www-form-urlencoded")){const Ie=new URLSearchParams;for(const[W,M]of Object.entries(Ye.data||{}))Ie.set(W,M);Je.body=Ie.toString()}else if(At.includes("multipart/form-data")||Ye.data instanceof FormData){const Ie=new FormData;if(Ye.data instanceof FormData)Ye.data.forEach((M,S)=>{Ie.append(S,M)});else for(const M of Object.keys(Ye.data))Ie.append(M,Ye.data[M]);Je.body=Ie;const W=new Headers(Je.headers);W.delete("content-type"),Je.headers=W}else(At.includes("application/json")||"object"==typeof Ye.data)&&(Je.body=JSON.stringify(Ye.data));return Je})(ot,ot.webFetchExtra),We=((Ye,ot=!0)=>Ye?Object.entries(Ye).reduce((We,At)=>{const[Ie,W]=At;let M,S;return Array.isArray(W)?(S="",W.forEach(L=>{M=ot?encodeURIComponent(L):L,S+=`${Ie}=${M}&`}),S.slice(0,-1)):(M=ot?encodeURIComponent(W):W,S=`${Ie}=${M}`),`${We}&${S}`},"").substr(1):null)(ot.params,ot.shouldEncodeUrlParams),At=We?`${ot.url}?${We}`:ot.url,Ie=yield fetch(At,Je),W=Ie.headers.get("content-type")||"";let S,L,{responseType:M="text"}=Ie.ok?ot:{};switch(W.includes("application/json")&&(M="json"),M){case"arraybuffer":case"blob":L=yield Ie.blob(),S=yield xe(L);break;case"json":S=yield Ie.json();break;default:S=yield Ie.text()}const se={};return Ie.headers.forEach((je,we)=>{se[we]=je}),{data:S,headers:se,status:Ie.status,url:Ie.url}})()}get(ot){var Je=this;return(0,a.A)(function*(){return Je.request(Object.assign(Object.assign({},ot),{method:"GET"}))})()}post(ot){var Je=this;return(0,a.A)(function*(){return Je.request(Object.assign(Object.assign({},ot),{method:"POST"}))})()}put(ot){var Je=this;return(0,a.A)(function*(){return Je.request(Object.assign(Object.assign({},ot),{method:"PUT"}))})()}patch(ot){var Je=this;return(0,a.A)(function*(){return Je.request(Object.assign(Object.assign({},ot),{method:"PATCH"}))})()}delete(ot){var Je=this;return(0,a.A)(function*(){return Je.request(Object.assign(Object.assign({},ot),{method:"DELETE"}))})()}}ke("CapacitorHttp",{web:()=>new me})},4033:(vn,gt,x)=>{"use strict";x.d(gt,{$:()=>Io,A:()=>he,C:()=>Lr,G:()=>ke,K:()=>ro,L:()=>Rr,N:()=>Bn,P:()=>Cu,R:()=>ta,U:()=>nr,V:()=>po,W:()=>br,X:()=>Es,Y:()=>Sa,Z:()=>Xi,_:()=>Ui,a:()=>os,a0:()=>Yi,a1:()=>us,a2:()=>cl,a3:()=>Pc,a4:()=>Pa,a5:()=>Fs,a6:()=>Hl,a7:()=>Ls,a8:()=>ha,a9:()=>As,aA:()=>Di,aB:()=>_e,aC:()=>me,aD:()=>yd,aE:()=>hn,aF:()=>mr,aG:()=>Tu,aH:()=>Dh,aI:()=>wl,aJ:()=>Zn,aN:()=>$s,aQ:()=>Bo,aa:()=>fl,ab:()=>pl,ac:()=>qs,ad:()=>ws,ae:()=>Xs,af:()=>fa,ag:()=>wo,ah:()=>Qs,ak:()=>bo,al:()=>Ys,am:()=>vl,ap:()=>G,aq:()=>Nt,as:()=>Bi,at:()=>ka,au:()=>Ye,av:()=>oi,aw:()=>bi,ax:()=>tt,ay:()=>Mo,az:()=>na,b:()=>eo,c:()=>Ch,d:()=>gd,e:()=>Jl,f:()=>_s,g:()=>Jt,h:()=>Th,i:()=>_,j:()=>wh,k:()=>Bc,l:()=>Tl,m:()=>Lp,o:()=>cc,p:()=>Oe,r:()=>hd,s:()=>Mp,u:()=>Ih});var a=x(467),C=x(7852),V=x(1076),le=x(8041),Se=x(1635),Ve=x(1362);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xe=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new V.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new le.Vy("@firebase/auth");function Ge(I,...h){Be.logLevel<=le.$b.ERROR&&Be.error(`Auth (${C.SDK_VERSION}): ${I}`,...h)}function tt(I,...h){throw Ne(I,...h)}function _e(I,...h){return Ne(I,...h)}function xe(I,h,p){const D=Object.assign(Object.assign({},Xe()),{[h]:p});return new V.FA("auth","Firebase",D).create(h,{appName:I.name})}function Pe(I){return xe(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lt(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&tt(I,"argument-error"),xe(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(I,...h){if("string"!=typeof I){const p=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(p,...D)}return et.create(I,...h)}function me(I,h,...p){if(!I)throw Ne(h,...p)}function Et(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Ge(h),new Error(h)}function Ye(I,h){I||Et(h)}function ot(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Je(){return"http:"===We()||"https:"===We()}function We(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class W{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ye(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.jZ)()||(0,V.lV)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Je()||(0,V.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M(I,h){Ye(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class S{static initialize(h,p,D){this.fetchImpl=h,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},se=new W(3e4,6e4);function je(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function we(I,h,p,D){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.A)(function*(I,h,p,D,K={}){return tn(I,K,(0,a.A)(function*(){let ge={},ht={};D&&("GET"===h?ht=D:ge={body:JSON.stringify(D)});const kt=(0,V.Am)(Object.assign({key:I.config.apiKey},ht)).slice(1),un=yield I._getAdditionalHeaders();return un["Content-Type"]="application/json",I.languageCode&&(un["X-Firebase-Locale"]=I.languageCode),S.fetch()(Pn(I,I.config.apiHost,p,kt),Object.assign({method:h,headers:un,referrerPolicy:"no-referrer"},ge))}))})).apply(this,arguments)}function tn(I,h,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.A)(function*(I,h,p){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},L),h);try{const K=new en(I),ge=yield Promise.race([p(),K.promise]);K.clearNetworkTimeout();const ht=yield ge.json();if("needConfirmation"in ht)throw kn(I,"account-exists-with-different-credential",ht);if(ge.ok&&!("errorMessage"in ht))return ht;{const kt=ge.ok?ht.errorMessage:ht.error.message,[un,jn]=kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===un)throw kn(I,"credential-already-in-use",ht);if("EMAIL_EXISTS"===un)throw kn(I,"email-already-in-use",ht);if("USER_DISABLED"===un)throw kn(I,"user-disabled",ht);const rr=D[un]||un.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw xe(I,rr,jn);tt(I,rr)}}catch(K){if(K instanceof V.g)throw K;tt(I,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function ln(I,h,p,D){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.A)(function*(I,h,p,D,K={}){const ge=yield we(I,h,p,D,K);return"mfaPendingCredential"in ge&&tt(I,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function Pn(I,h,p,D){const K=`${h}${p}?${D}`;return I.config.emulator?M(I.config,K):`${I.config.apiScheme}://${K}`}function hr(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class en{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(_e(this.auth,"network-request-failed")),se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(I,h,p){const D={appName:I.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const K=_e(I,h,D);return K.customData._tokenResponse=p,K}function Gn(I){return void 0!==I&&void 0!==I.getResponse}function sn(I){return void 0!==I&&void 0!==I.enterprise}class $t{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return hr(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function st(){return(st=(0,a.A)(function*(I){return(yield we(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tt(I,h){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.A)(function*(I,h){return we(I,"GET","/v2/recaptchaConfig",je(I,h))})).apply(this,arguments)}function cr(){return(cr=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function fn(){return(fn=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gn(I,h){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Yn(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function wn(){return(wn=(0,a.A)(function*(I,h=!1){const p=(0,V.Ku)(I),D=yield p.getIdToken(h),K=_t(D);me(K&&K.exp&&K.auth_time&&K.iat,p.auth,"internal-error");const ge="object"==typeof K.firebase?K.firebase:void 0,ht=ge?.sign_in_provider;return{claims:K,token:D,authTime:Yn(Vt(K.auth_time)),issuedAtTime:Yn(Vt(K.iat)),expirationTime:Yn(Vt(K.exp)),signInProvider:ht||null,signInSecondFactor:ge?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(I){return 1e3*Number(I)}function _t(I){const[h,p,D]=I.split(".");if(void 0===h||void 0===p||void 0===D)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,V.u)(p);return K?JSON.parse(K):(Ge("Failed to decode base64 JWT payload"),null)}catch(K){return Ge("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Ut(I){const h=_t(I);return me(h,"internal-error"),me(typeof h.exp<"u","internal-error"),me(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function wt(I,h){return qt.apply(this,arguments)}function qt(){return(qt=(0,a.A)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(D){throw D instanceof V.g&&function $n({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}class $e{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const K=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,a.A)(function*(){yield p.iteration()}),D)}iteration(){var h=this;return(0,a.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Dn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.A)(function*(I){var h;const p=I.auth,D=yield I.getIdToken(),K=yield wt(I,gn(p,{idToken:D}));me(K?.users.length,p,"internal-error");const ge=K.users[0];I._notifyReloadListener(ge);const ht=null!==(h=ge.providerUserInfo)&&void 0!==h&&h.length?Me(ge.providerUserInfo):[],kt=function dt(I,h){return[...I.filter(D=>!h.some(K=>K.providerId===D.providerId)),...h]}(I.providerData,ht),rr=!!I.isAnonymous&&!(I.email&&ge.passwordHash||kt?.length),Gr={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:kt,metadata:new Dn(ge.createdAt,ge.lastLoginAt),isAnonymous:rr};Object.assign(I,Gr)})).apply(this,arguments)}function nt(){return(nt=(0,a.A)(function*(I){const h=(0,V.Ku)(I);yield Fn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Me(I){return I.map(h=>{var{providerId:p}=h,D=(0,Se.Tt)(h,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function pe(){return(pe=(0,a.A)(function*(I,h){const p=yield tn(I,{},(0,a.A)(function*(){const D=(0,V.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:ge}=I.config,ht=Pn(I,K,"/v1/token",`key=${ge}`),kt=yield I._getAdditionalHeaders();return kt["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(ht,{method:"POST",headers:kt,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function ne(){return(ne=(0,a.A)(function*(I,h){return we(I,"POST","/v2/accounts:revokeToken",je(I,h))})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){me(h.idToken,"internal-error"),me(typeof h.idToken<"u","internal-error"),me(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Ut(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){me(0!==h.length,"internal-error");const p=Ut(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var D=this;return(0,a.A)(function*(){return p||!D.accessToken||D.isExpired?(me(D.refreshToken,h,"user-token-expired"),D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null):D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var D=this;return(0,a.A)(function*(){const{accessToken:K,refreshToken:ge,expiresIn:ht}=yield function ut(I,h){return pe.apply(this,arguments)}(h,p);D.updateTokensAndExpiration(K,ge,Number(ht))})()}updateTokensAndExpiration(h,p,D){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,p){const{refreshToken:D,accessToken:K,expirationTime:ge}=p,ht=new de;return D&&(me("string"==typeof D,"internal-error",{appName:h}),ht.refreshToken=D),K&&(me("string"==typeof K,"internal-error",{appName:h}),ht.accessToken=K),ge&&(me("number"==typeof ge,"internal-error",{appName:h}),ht.expirationTime=ge),ht}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return Et("not implemented")}}function J(I,h){me("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class rt{constructor(h){var{uid:p,auth:D,stsTokenManager:K}=h,ge=(0,Se.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Dn(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,a.A)(function*(){const D=yield wt(p,p.stsTokenManager.getToken(p.auth,h));return me(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(h){return function Jn(I){return wn.apply(this,arguments)}(this,h)}reload(){return function tr(I){return nt.apply(this,arguments)}(this)}_assign(h){this!==h&&(me(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new rt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var D=this;return(0,a.A)(function*(){let K=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),K=!0),p&&(yield Fn(D)),yield D.auth._persistUserIfCurrent(D),K&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,a.A)(function*(){if((0,C._isFirebaseServerApp)(h.auth.app))return Promise.reject(Pe(h.auth));const p=yield h.getIdToken();return yield wt(h,function Ht(I,h){return cr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var D,K,ge,ht,kt,un,jn,rr;const Gr=null!==(D=p.displayName)&&void 0!==D?D:void 0,Ko=null!==(K=p.email)&&void 0!==K?K:void 0,_a=null!==(ge=p.phoneNumber)&&void 0!==ge?ge:void 0,Ia=null!==(ht=p.photoURL)&&void 0!==ht?ht:void 0,Hc=null!==(kt=p.tenantId)&&void 0!==kt?kt:void 0,Ha=null!==(un=p._redirectEventId)&&void 0!==un?un:void 0,Ml=null!==(jn=p.createdAt)&&void 0!==jn?jn:void 0,zs=null!==(rr=p.lastLoginAt)&&void 0!==rr?rr:void 0,{uid:Wa,emailVerified:Wc,isAnonymous:ku,providerData:ia,stsTokenManager:Ea}=p;me(Wa&&Ea,h,"internal-error");const Pi=de.fromJSON(this.name,Ea);me("string"==typeof Wa,h,"internal-error"),J(Gr,h.name),J(Ko,h.name),me("boolean"==typeof Wc,h,"internal-error"),me("boolean"==typeof ku,h,"internal-error"),J(_a,h.name),J(Ia,h.name),J(Hc,h.name),J(Ha,h.name),J(Ml,h.name),J(zs,h.name);const Fu=new rt({uid:Wa,auth:h,email:Ko,emailVerified:Wc,displayName:Gr,isAnonymous:ku,photoURL:Ia,phoneNumber:_a,tenantId:Hc,stsTokenManager:Pi,createdAt:Ml,lastLoginAt:zs});return ia&&Array.isArray(ia)&&(Fu.providerData=ia.map(kh=>Object.assign({},kh))),Ha&&(Fu._redirectEventId=Ha),Fu}static _fromIdTokenResponse(h,p,D=!1){return(0,a.A)(function*(){const K=new de;K.updateFromServerResponse(p);const ge=new rt({uid:p.localId,auth:h,stsTokenManager:K,isAnonymous:D});return yield Fn(ge),ge})()}static _fromGetAccountInfoResponse(h,p,D){return(0,a.A)(function*(){const K=p.users[0];me(void 0!==K.localId,"internal-error");const ge=void 0!==K.providerUserInfo?Me(K.providerUserInfo):[],ht=!(K.email&&K.passwordHash||ge?.length),kt=new de;kt.updateFromIdToken(D);const un=new rt({uid:K.localId,auth:h,stsTokenManager:kt,isAnonymous:ht}),jn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:ge,metadata:new Dn(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||ge?.length)};return Object.assign(un,jn),un})()}}const Mt=new Map;function hn(I){Ye(I instanceof Function,"Expected a class definition");let h=Mt.get(I);return h?(Ye(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,Mt.set(I,h),h)}const nr=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(p,D){var K=this;return(0,a.A)(function*(){K.storage[p]=D})()}_get(p){var D=this;return(0,a.A)(function*(){const K=D.storage[p];return void 0===K?null:K})()}_remove(p){var D=this;return(0,a.A)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return I.type="NONE",I})();function mr(I,h,p){return`firebase:${I}:${h}:${p}`}class En{constructor(h,p,D){this.persistence=h,this.auth=p,this.userKey=D;const{config:K,name:ge}=this.auth;this.fullUserKey=mr(this.userKey,K.apiKey,ge),this.fullPersistenceKey=mr("persistence",K.apiKey,ge),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?rt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,a.A)(function*(){if(p.persistence===h)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,D="authUser"){return(0,a.A)(function*(){if(!p.length)return new En(hn(nr),h,D);const K=(yield Promise.all(p.map(function(){var jn=(0,a.A)(function*(rr){if(yield rr._isAvailable())return rr});return function(rr){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let ge=K[0]||hn(nr);const ht=mr(D,h.config.apiKey,h.name);let kt=null;for(const jn of p)try{const rr=yield jn._get(ht);if(rr){const Gr=rt._fromJSON(h,rr);jn!==ge&&(kt=Gr),ge=jn;break}}catch{}const un=K.filter(jn=>jn._shouldAllowMigration);return ge._shouldAllowMigration&&un.length?(ge=un[0],kt&&(yield ge._set(ht,kt.toJSON())),yield Promise.all(p.map(function(){var jn=(0,a.A)(function*(rr){if(rr!==ge)try{yield rr._remove(ht)}catch{}});return function(rr){return jn.apply(this,arguments)}}())),new En(ge,h,D)):new En(ge,h,D)})()}}function yn(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ci(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Hn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(pr(h))return"Blackberry";if(Mi(h))return"Webos";if(Or(h))return"Safari";if((h.includes("chrome/")||jr(h))&&!h.includes("edge/"))return"Chrome";if(bi(h))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Hn(I=(0,V.ZQ)()){return/firefox\//i.test(I)}function Or(I=(0,V.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function jr(I=(0,V.ZQ)()){return/crios\//i.test(I)}function Ci(I=(0,V.ZQ)()){return/iemobile/i.test(I)}function bi(I=(0,V.ZQ)()){return/android/i.test(I)}function pr(I=(0,V.ZQ)()){return/blackberry/i.test(I)}function Mi(I=(0,V.ZQ)()){return/webos/i.test(I)}function oi(I=(0,V.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Di(I=(0,V.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function H(I=(0,V.ZQ)()){return oi(I)||bi(I)||Mi(I)||pr(I)||/windows phone/i.test(I)||Ci(I)}function Ke(I,h=[]){let p;switch(I){case"Browser":p=yn((0,V.ZQ)());break;case"Worker":p=`${yn((0,V.ZQ)())}-${I}`;break;default:p=I}const D=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${C.SDK_VERSION}/${D}`}class Te{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const D=ge=>new Promise((ht,kt)=>{try{ht(h(ge))}catch(un){kt(un)}});D.onAbort=p,this.queue.push(D);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,a.A)(function*(){if(p.auth.currentUser===h)return;const D=[];try{for(const K of p.queue)yield K(h),K.onAbort&&D.push(K.onAbort)}catch(K){D.reverse();for(const ge of D)try{ge()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function zt(){return(zt=(0,a.A)(function*(I,h={}){return we(I,"GET","/v2/passwordPolicy",je(I,h))})).apply(this,arguments)}class on{constructor(h){var p,D,K,ge;const ht=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=ht.minPasswordLength)&&void 0!==p?p:6,ht.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ht.maxPasswordLength),void 0!==ht.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ht.containsLowercaseCharacter),void 0!==ht.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ht.containsUppercaseCharacter),void 0!==ht.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ht.containsNumericCharacter),void 0!==ht.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ht.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(D=h.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(ge=h.forceUpgradeOnSignin)&&void 0!==ge&&ge,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,D,K,ge,ht,kt;const un={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,un),this.validatePasswordCharacterOptions(h,un),un.isValid&&(un.isValid=null===(p=un.meetsMinPasswordLength)||void 0===p||p),un.isValid&&(un.isValid=null===(D=un.meetsMaxPasswordLength)||void 0===D||D),un.isValid&&(un.isValid=null===(K=un.containsLowercaseLetter)||void 0===K||K),un.isValid&&(un.isValid=null===(ge=un.containsUppercaseLetter)||void 0===ge||ge),un.isValid&&(un.isValid=null===(ht=un.containsNumericCharacter)||void 0===ht||ht),un.isValid&&(un.isValid=null===(kt=un.containsNonAlphanumericCharacter)||void 0===kt||kt),un}validatePasswordLengthOptions(h,p){const D=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;D&&(p.meetsMinPasswordLength=h.length>=D),K&&(p.meetsMaxPasswordLength=h.length<=K)}validatePasswordCharacterOptions(h,p){let D;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let K=0;K<h.length;K++)D=h.charAt(K),this.updatePasswordCharacterOptionsStatuses(p,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(h,p,D,K,ge){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ge))}}class ir{constructor(h,p,D,K){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qr(this),this.idTokenSubscription=new qr(this),this.beforeStateQueue=new Te(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,p){var D=this;return p&&(this._popupRedirectResolver=hn(p)),this._initializationPromise=this.queue((0,a.A)(function*(){var K,ge;if(!D._deleted&&(D.persistenceManager=yield En.create(D,h),!D._deleted)){if(null!==(K=D._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(ge=D.currentUser)||void 0===ge?void 0:ge.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,a.A)(function*(){try{const D=yield gn(p,{idToken:h}),K=yield rt._fromGetAccountInfoResponse(p,D,h);yield p.directlySetCurrentUser(K)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,a.A)(function*(){var D;if((0,C._isFirebaseServerApp)(p.app)){const kt=p.app.settings.authIdToken;return kt?new Promise(un=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(kt).then(un,un))}):p.directlySetCurrentUser(null)}const K=yield p.assertedPersistence.getCurrentUser();let ge=K,ht=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const kt=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,un=ge?._redirectEventId,jn=yield p.tryRedirectSignIn(h);(!kt||kt===un)&&jn?.user&&(ge=jn.user,ht=!0)}if(!ge)return p.directlySetCurrentUser(null);if(!ge._redirectEventId){if(ht)try{yield p.beforeStateQueue.runMiddleware(ge)}catch(kt){ge=K,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(kt))}return ge?p.reloadAndSetCurrentUserOrClear(ge):p.directlySetCurrentUser(null)}return me(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ge._redirectEventId?p.directlySetCurrentUser(ge):p.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(h){var p=this;return(0,a.A)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,a.A)(function*(){try{yield Fn(h)}catch(D){if("auth/network-request-failed"!==D?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,a.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,a.A)(function*(){if((0,C._isFirebaseServerApp)(p.app))return Promise.reject(Pe(p));const D=h?(0,V.Ku)(h):null;return D&&me(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(h,p=!1){var D=this;return(0,a.A)(function*(){if(!D._deleted)return h&&me(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,a.A)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.A)(function*(){return(0,C._isFirebaseServerApp)(h.app)?Promise.reject(Pe(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,C._isFirebaseServerApp)(this.app)?Promise.reject(Pe(this)):this.queue((0,a.A)(function*(){yield p.assertedPersistence.setPersistence(hn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,a.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const D=p._getPasswordPolicyInternal();return D.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,a.A)(function*(){const p=yield function mt(I){return zt.apply(this,arguments)}(h),D=new on(p);null===h.tenantId?h._projectPasswordPolicy=D:h._tenantPasswordPolicies[h.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new V.FA("auth","Firebase",h())}onAuthStateChanged(h,p,D){return this.registerStateListener(this.authStateSubscription,h,p,D)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,D){return this.registerStateListener(this.idTokenSubscription,h,p,D)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const D=this.onAuthStateChanged(()=>{D(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,a.A)(function*(){if(p.currentUser){const D=yield p.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:D};null!=p.tenantId&&(K.tenantId=p.tenantId),yield function ve(I,h){return ne.apply(this,arguments)}(p,K)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var D=this;return(0,a.A)(function*(){const K=yield D.getOrInitRedirectPersistenceManager(p);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,a.A)(function*(){if(!p.redirectPersistenceManager){const D=h&&hn(h)||p._popupRedirectResolver;me(D,p,"argument-error"),p.redirectPersistenceManager=yield En.create(p,[hn(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,a.A)(function*(){var D,K;return p._isInitialized&&(yield p.queue((0,a.A)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===h?p._currentUser:(null===(K=p.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,a.A)(function*(){if(h===p.currentUser)return p.queue((0,a.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,D,K){if(this._deleted)return()=>{};const ge="function"==typeof p?p:p.next.bind(p);let ht=!1;const kt=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(kt,this,"internal-error"),kt.then(()=>{ht||ge(this.currentUser)}),"function"==typeof p){const un=h.addObserver(p,D,K);return()=>{ht=!0,un()}}{const un=h.addObserver(p);return()=>{ht=!0,un()}}}directlySetCurrentUser(h){var p=this;return(0,a.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.A)(function*(){var p;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();K&&(D["X-Firebase-Client"]=K);const ge=yield h._getAppCheckToken();return ge&&(D["X-Firebase-AppCheck"]=ge),D})()}_getAppCheckToken(){var h=this;return(0,a.A)(function*(){var p;const D=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return D?.error&&function It(I,...h){Be.logLevel<=le.$b.WARN&&Be.warn(`Auth (${C.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Zn(I){return(0,V.Ku)(I)}class qr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,V.tD)(p=>this.observer=p)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pi={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nn(I){return pi.loadJS(I)}function zr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Hr{constructor(h){this.type="recaptcha-enterprise",this.auth=Zn(h)}verify(h="verify",p=!1){var D=this;return(0,a.A)(function*(){function ge(){return ge=(0,a.A)(function*(kt){if(!p){if(null==kt.tenantId&&null!=kt._agentRecaptchaConfig)return kt._agentRecaptchaConfig.siteKey;if(null!=kt.tenantId&&void 0!==kt._tenantRecaptchaConfigs[kt.tenantId])return kt._tenantRecaptchaConfigs[kt.tenantId].siteKey}return new Promise(function(){var un=(0,a.A)(function*(jn,rr){Tt(kt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gr=>{if(void 0!==Gr.recaptchaKey){const Ko=new $t(Gr);return null==kt.tenantId?kt._agentRecaptchaConfig=Ko:kt._tenantRecaptchaConfigs[kt.tenantId]=Ko,jn(Ko.siteKey)}rr(new Error("recaptcha Enterprise site key undefined"))}).catch(Gr=>{rr(Gr)})});return function(jn,rr){return un.apply(this,arguments)}}())}),ge.apply(this,arguments)}function ht(kt,un,jn){const rr=window.grecaptcha;sn(rr)?rr.enterprise.ready(()=>{rr.enterprise.execute(kt,{action:h}).then(Gr=>{un(Gr)}).catch(()=>{un("NO_RECAPTCHA")})}):jn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((kt,un)=>{(function K(kt){return ge.apply(this,arguments)})(D.auth).then(jn=>{if(!p&&sn(window.grecaptcha))ht(jn,kt,un);else{if(typeof window>"u")return void un(new Error("RecaptchaVerifier is only supported in browser"));let rr=function si(){return pi.recaptchaEnterpriseScript}();0!==rr.length&&(rr+=jn),Nn(rr).then(()=>{ht(jn,kt,un)}).catch(Gr=>{un(Gr)})}}).catch(jn=>{un(jn)})})})()}}function _r(I,h,p){return no.apply(this,arguments)}function no(){return(no=(0,a.A)(function*(I,h,p,D=!1){const K=new Hr(I);let ge;try{ge=yield K.verify(p)}catch{ge=yield K.verify(p,!0)}const ht=Object.assign({},h);return Object.assign(ht,D?{captchaResp:ge}:{captchaResponse:ge}),Object.assign(ht,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ht,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ht})).apply(this,arguments)}function Ai(I,h,p,D){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,a.A)(function*(I,h,p,D){var K;if(null!==(K=I._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ge=yield _r(I,h,p,"getOobCode"===p);return D(I,ge)}return D(I,h).catch(function(){var ge=(0,a.A)(function*(ht){if("auth/missing-recaptcha-token"===ht.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const kt=yield _r(I,h,p,"getOobCode"===p);return D(I,kt)}return Promise.reject(ht)});return function(ht){return ge.apply(this,arguments)}}())}),Vr.apply(this,arguments)}function ro(I,h,p){const D=Zn(I);me(D._canInitEmulator,D,"emulator-config-failed"),me(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const K=!!p?.disableWarnings,ge=Jr(h),{host:ht,port:kt}=function qi(I){const h=Jr(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(D);if(K){const ge=K[1];return{host:ge,port:_o(D.substr(ge.length+1))}}{const[ge,ht]=D.split(":");return{host:ge,port:_o(ht)}}}(h);D.config.emulator={url:`${ge}//${ht}${null===kt?"":`:${kt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ht,port:kt,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function or(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Jr(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function _o(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class Rr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Et("not implemented")}_getIdTokenResponse(h){return Et("not implemented")}_linkToIdToken(h,p){return Et("not implemented")}_getReauthenticationResolver(h){return Et("not implemented")}}function cs(I,h){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:resetPassword",je(I,h))})).apply(this,arguments)}function io(){return(io=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Do(I,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function j(){return(j=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:update",je(I,h))})).apply(this,arguments)}function sr(I,h){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithPassword",je(I,h))})).apply(this,arguments)}function O(I,h){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:sendOobCode",je(I,h))})).apply(this,arguments)}function wr(){return(wr=(0,a.A)(function*(I,h){return O(I,h)})).apply(this,arguments)}function Ur(I,h){return so.apply(this,arguments)}function so(){return(so=(0,a.A)(function*(I,h){return O(I,h)})).apply(this,arguments)}function $(I,h){return oe.apply(this,arguments)}function oe(){return(oe=(0,a.A)(function*(I,h){return O(I,h)})).apply(this,arguments)}function He(){return(He=(0,a.A)(function*(I,h){return O(I,h)})).apply(this,arguments)}function pt(){return(pt=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithEmailLink",je(I,h))})).apply(this,arguments)}function Qt(){return(Qt=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithEmailLink",je(I,h))})).apply(this,arguments)}class jt extends Rr{constructor(h,p,D,K=null){super("password",D),this._email=h,this._password=p,this._tenantId=K}static _fromEmailAndPassword(h,p){return new jt(h,p,"password")}static _fromEmailAndCode(h,p,D=null){return new jt(h,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,a.A)(function*(){switch(p.signInMethod){case"password":return Ai(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",sr);case"emailLink":return function yt(I,h){return pt.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:tt(h,"internal-error")}})()}_linkToIdToken(h,p){var D=this;return(0,a.A)(function*(){switch(D.signInMethod){case"password":return Ai(h,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Do);case"emailLink":return function Wt(I,h){return Qt.apply(this,arguments)}(h,{idToken:p,email:D._email,oobCode:D._password});default:tt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Yt(I,h){return an.apply(this,arguments)}function an(){return(an=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithIdp",je(I,h))})).apply(this,arguments)}class Bn extends Rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Bn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):tt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:K}=p,ge=(0,Se.Tt)(p,["providerId","signInMethod"]);if(!D||!K)return null;const ht=new Bn(D,K);return ht.idToken=ge.idToken||void 0,ht.accessToken=ge.accessToken||void 0,ht.secret=ge.secret,ht.nonce=ge.nonce,ht.pendingToken=ge.pendingToken||null,ht}_getIdTokenResponse(h){return Yt(h,this.buildRequest())}_linkToIdToken(h,p){const D=this.buildRequest();return D.idToken=p,Yt(h,D)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Yt(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,V.Am)(p)}return h}}function Ir(){return(Ir=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:sendVerificationCode",je(I,h))})).apply(this,arguments)}function Er(){return(Er=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithPhoneNumber",je(I,h))})).apply(this,arguments)}function ar(){return(ar=(0,a.A)(function*(I,h){const p=yield ln(I,"POST","/v1/accounts:signInWithPhoneNumber",je(I,h));if(p.temporaryProof)throw kn(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ri={USER_NOT_FOUND:"user-not-found"};function ko(){return(ko=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithPhoneNumber",je(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ri)})).apply(this,arguments)}class ao extends Rr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new ao({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new ao({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function xi(I,h){return Er.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Wn(I,h){return ar.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function fo(I,h){return ko.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:D,verificationCode:K}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:D,code:K}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:D,phoneNumber:K,temporaryProof:ge}=h;return D||p||K||ge?new ao({verificationId:p,verificationCode:D,phoneNumber:K,temporaryProof:ge}):null}}class Fi{constructor(h){var p,D,K,ge,ht,kt;const un=(0,V.I9)((0,V.hp)(h)),jn=null!==(p=un.apiKey)&&void 0!==p?p:null,rr=null!==(D=un.oobCode)&&void 0!==D?D:null,Gr=function ba(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=un.mode)&&void 0!==K?K:null);me(jn&&rr&&Gr,"argument-error"),this.apiKey=jn,this.operation=Gr,this.code=rr,this.continueUrl=null!==(ge=un.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(ht=un.languageCode)&&void 0!==ht?ht:null,this.tenantId=null!==(kt=un.tenantId)&&void 0!==kt?kt:null}static parseLink(h){const p=function Ks(I){const h=(0,V.I9)((0,V.hp)(I)).link,p=h?(0,V.I9)((0,V.hp)(h)).deep_link_id:null,D=(0,V.I9)((0,V.hp)(I)).deep_link_id;return(D?(0,V.I9)((0,V.hp)(D)).link:null)||D||p||h||I}(h);try{return new Fi(p)}catch{return null}}}let po=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,D){return jt._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const K=Fi.parseLink(D);return me(K,"argument-error"),jt._fromEmailAndCode(p,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ao{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Wi extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Xi extends Wi{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return me("providerId"in p&&"signInMethod"in p,"argument-error"),Bn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return me(h.idToken||h.accessToken,"argument-error"),Bn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Xi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Xi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:D,oauthTokenSecret:K,pendingToken:ge,nonce:ht,providerId:kt}=h;if(!D&&!K&&!p&&!ge||!kt)return null;try{return new Xi(kt)._credential({idToken:p,accessToken:D,nonce:ht,pendingToken:ge})}catch{return null}}}let br=(()=>{class I extends Wi{constructor(){super("facebook.com")}static credential(p){return Bn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Es=(()=>{class I extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,D){return Bn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:D})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:K}=p;if(!D&&!K)return null;try{return I.credential(D,K)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Sa=(()=>{class I extends Wi{constructor(){super("github.com")}static credential(p){return Bn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Bo extends Rr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Yt(h,this.buildRequest())}_linkToIdToken(h,p){const D=this.buildRequest();return D.idToken=p,Yt(h,D)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Yt(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:K,pendingToken:ge}=p;return D&&K&&ge&&D===K?new Bo(D,ge):null}static _create(h,p){return new Bo(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends Ao{constructor(h){me(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ui.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ui.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Bo.fromJSON(h);return me(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:D}=h;if(!p||!D)return null;try{return Bo._create(D,p)}catch{return null}}}let Io=(()=>{class I extends Wi{constructor(){super("twitter.com")}static credential(p,D){return Bn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:D})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:D,oauthTokenSecret:K}=p;if(!D||!K)return null;try{return I.credential(D,K)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function jo(I,h){return To.apply(this,arguments)}function To(){return(To=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signUp",je(I,h))})).apply(this,arguments)}class Qi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,D,K=!1){return(0,a.A)(function*(){const ge=yield rt._fromIdTokenResponse(h,D,K),ht=ua(D);return new Qi({user:ge,providerId:ht,_tokenResponse:D,operationType:p})})()}static _forOperation(h,p,D){return(0,a.A)(function*(){yield h._updateTokensIfNecessary(D,!0);const K=ua(D);return new Qi({user:h,providerId:K,_tokenResponse:D,operationType:p})})()}}function ua(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Yi(I){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.A)(function*(I){var h;if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const p=Zn(I);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Qi({user:p.currentUser,providerId:null,operationType:"signIn"});const D=yield jo(p,{returnSecureToken:!0}),K=yield Qi._fromIdTokenResponse(p,"signIn",D,!0);return yield p._updateCurrentUser(K.user),K})).apply(this,arguments)}class zo extends V.g{constructor(h,p,D,K){var ge;super(p.code,p.message),this.operationType=D,this.user=K,Object.setPrototypeOf(this,zo.prototype),this.customData={appName:h.name,tenantId:null!==(ge=h.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,p,D,K){return new zo(h,p,D,K)}}function da(I,h,p,D){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?zo._fromErrorAndOperation(I,ge,h,D):ge})}function Ns(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function G(I,h){return Q.apply(this,arguments)}function Q(){return Q=(0,a.A)(function*(I,h){const p=(0,V.Ku)(I);yield Ze(!0,p,h);const{providerUserInfo:D}=yield function zn(I,h){return fn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),K=Ns(D||[]);return p.providerData=p.providerData.filter(ge=>K.has(ge.providerId)),K.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Q.apply(this,arguments)}function P(I,h){return fe.apply(this,arguments)}function fe(){return(fe=(0,a.A)(function*(I,h,p=!1){const D=yield wt(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Qi._forOperation(I,"link",D)})).apply(this,arguments)}function Ze(I,h,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.A)(function*(I,h,p){yield Fn(h);const K=!1===I?"provider-already-linked":"no-such-provider";me(Ns(h.providerData).has(p)===I,h.auth,K)})).apply(this,arguments)}function dr(I,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,a.A)(function*(I,h,p=!1){const{auth:D}=I;if((0,C._isFirebaseServerApp)(D.app))return Promise.reject(Pe(D));const K="reauthenticate";try{const ge=yield wt(I,da(D,K,h,I),p);me(ge.idToken,D,"internal-error");const ht=_t(ge.idToken);me(ht,D,"internal-error");const{sub:kt}=ht;return me(I.uid===kt,D,"user-mismatch"),Qi._forOperation(I,K,ge)}catch(ge){throw"auth/user-not-found"===ge?.code&&tt(D,"user-mismatch"),ge}})).apply(this,arguments)}function Eo(I,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.A)(function*(I,h,p=!1){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const D="signIn",K=yield da(I,D,h),ge=yield Qi._fromIdTokenResponse(I,D,K);return p||(yield I._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function us(I,h){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.A)(function*(I,h){return Eo(Zn(I),h)})).apply(this,arguments)}function cl(I,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.A)(function*(I,h){const p=(0,V.Ku)(I);return yield Ze(!1,p,h.providerId),P(p,h)})).apply(this,arguments)}function Pc(I,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,a.A)(function*(I,h){return dr((0,V.Ku)(I),h)})).apply(this,arguments)}function ds(){return(ds=(0,a.A)(function*(I,h){return ln(I,"POST","/v1/accounts:signInWithCustomToken",je(I,h))})).apply(this,arguments)}function Pa(I,h){return $i.apply(this,arguments)}function $i(){return $i=(0,a.A)(function*(I,h){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const p=Zn(I),D=yield function ul(I,h){return ds.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),K=yield Qi._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(K.user),K}),$i.apply(this,arguments)}class Dr{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?ui._fromServerResponse(h,p):"totpInfo"in p?Oi._fromServerResponse(h,p):tt(h,"internal-error")}}class ui extends Dr{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new ui(p)}}class Oi extends Dr{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Oi(p)}}function go(I,h,p){var D;me((null===(D=p.url)||void 0===D?void 0:D.length)>0,I,"invalid-continue-uri"),me(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(me(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(me(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Qn(I){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.A)(function*(I){const h=Zn(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Fs(I,h,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.A)(function*(I,h,p){const D=Zn(I),K={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&go(D,K,p),yield Ai(D,K,"getOobCode",Ur)})).apply(this,arguments)}function Hl(I,h,p){return hl.apply(this,arguments)}function hl(){return hl=(0,a.A)(function*(I,h,p){yield cs((0,V.Ku)(I),{oobCode:h,newPassword:p}).catch(function(){var D=(0,a.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&Qn(I),K});return function(K){return D.apply(this,arguments)}}())}),hl.apply(this,arguments)}function Ls(I,h){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,a.A)(function*(I,h){yield function oo(I,h){return j.apply(this,arguments)}((0,V.Ku)(I),{oobCode:h})}),Ma.apply(this,arguments)}function ha(I,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,a.A)(function*(I,h){const p=(0,V.Ku)(I),D=yield cs(p,{oobCode:h}),K=D.requestType;switch(me(K,p,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(D.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(D.mfaInfo,p,"internal-error");default:me(D.email,p,"internal-error")}let ge=null;return D.mfaInfo&&(ge=Dr._fromServerResponse(Zn(p),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ge},operation:K}})).apply(this,arguments)}function As(I,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.A)(function*(I,h){const{data:p}=yield ha((0,V.Ku)(I),h);return p.email})).apply(this,arguments)}function fl(I,h,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.A)(function*(I,h,p){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const D=Zn(I),ht=yield Ai(D,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jo).catch(un=>{throw"auth/password-does-not-meet-requirements"===un.code&&Qn(I),un}),kt=yield Qi._fromIdTokenResponse(D,"signIn",ht);return yield D._updateCurrentUser(kt.user),kt})).apply(this,arguments)}function pl(I,h,p){return(0,C._isFirebaseServerApp)(I.app)?Promise.reject(Pe(I)):us((0,V.Ku)(I),po.credential(h,p)).catch(function(){var D=(0,a.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&Qn(I),K});return function(K){return D.apply(this,arguments)}}())}function qs(I,h,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.A)(function*(I,h,p){const D=Zn(I),K={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ge(ht,kt){me(kt.handleCodeInApp,D,"argument-error"),kt&&go(D,ht,kt)})(K,p),yield Ai(D,K,"getOobCode",$)})).apply(this,arguments)}function ws(I,h){const p=Fi.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function Xs(I,h,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.A)(function*(I,h,p){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const D=(0,V.Ku)(I),K=po.credentialWithLink(h,p||ot());return me(K._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),us(D,K)})).apply(this,arguments)}function ai(){return(ai=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:createAuthUri",je(I,h))})).apply(this,arguments)}function fa(I,h){return hs.apply(this,arguments)}function hs(){return hs=(0,a.A)(function*(I,h){const D={identifier:h,continueUri:Je()?ot():"http://localhost"},{signinMethods:K}=yield function gl(I,h){return ai.apply(this,arguments)}((0,V.Ku)(I),D);return K||[]}),hs.apply(this,arguments)}function wo(I,h){return Us.apply(this,arguments)}function Us(){return Us=(0,a.A)(function*(I,h){const p=(0,V.Ku)(I),K={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&go(p.auth,K,h);const{email:ge}=yield function Kn(I,h){return wr.apply(this,arguments)}(p.auth,K);ge!==I.email&&(yield I.reload())}),Us.apply(this,arguments)}function Qs(I,h,p){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};p&&go(D.auth,ge,p);const{email:ht}=yield function Ae(I,h){return He.apply(this,arguments)}(D.auth,ge);ht!==I.email&&(yield I.reload())}),Wl.apply(this,arguments)}function fs(){return(fs=(0,a.A)(function*(I,h){return we(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function bo(I,h){return bs.apply(this,arguments)}function bs(){return bs=(0,a.A)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const D=(0,V.Ku)(I),ge={idToken:yield D.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},ht=yield wt(D,function ml(I,h){return fs.apply(this,arguments)}(D.auth,ge));D.displayName=ht.displayName||null,D.photoURL=ht.photoUrl||null;const kt=D.providerData.find(({providerId:un})=>"password"===un);kt&&(kt.displayName=D.displayName,kt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ht)}),bs.apply(this,arguments)}function Ys(I,h){const p=(0,V.Ku)(I);return(0,C._isFirebaseServerApp)(p.auth.app)?Promise.reject(Pe(p.auth)):Ss(p,h,null)}function vl(I,h){return Ss((0,V.Ku)(I),null,h)}function Ss(I,h,p){return is.apply(this,arguments)}function is(){return is=(0,a.A)(function*(I,h,p){const{auth:D}=I,ge={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(ge.email=h),p&&(ge.password=p);const ht=yield wt(I,function ho(I,h){return io.apply(this,arguments)}(D,ge));yield I._updateTokensIfNecessary(ht,!0)}),is.apply(this,arguments)}class Fo{constructor(h,p,D={}){this.isNewUser=h,this.providerId=p,this.profile=D}}class T extends Fo{constructor(h,p,D,K){super(h,p,D),this.username=K}}class te extends Fo{constructor(h,p){super(h,"facebook.com",p)}}class F extends T{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class B extends Fo{constructor(h,p){super(h,"google.com",p)}}class be extends T{constructor(h,p,D){super(h,"twitter.com",p,D)}}function Nt(I){const{user:h,_tokenResponse:p}=I;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Na(I){var h,p;if(!I)return null;const{providerId:D}=I,K=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ge=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!D&&I?.idToken){const ht=null===(p=null===(h=_t(I.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(ht)return new Fo(ge,"anonymous"!==ht&&"custom"!==ht?ht:null)}if(!D)return null;switch(D){case"facebook.com":return new te(ge,K);case"github.com":return new F(ge,K);case"google.com":return new B(ge,K);case"twitter.com":return new be(ge,K,I.screenName||null);case"custom":case"anonymous":return new Fo(ge,null);default:return new Fo(ge,D,K)}}(p)}function Lr(I){return(0,V.Ku)(I).signOut()}class _i{constructor(h,p,D){this.type=h,this.credential=p,this.user=D}static _fromIdtoken(h,p){return new _i("enroll",h,p)}static _fromMfaPendingCredential(h){return new _i("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,D;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return _i._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(D=h.multiFactorSession)&&void 0!==D&&D.idToken)return _i._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Zr{constructor(h,p,D){this.session=h,this.hints=p,this.signInResolver=D}static _fromError(h,p){const D=Zn(h),K=p.customData._serverResponse,ge=(K.mfaInfo||[]).map(kt=>Dr._fromServerResponse(D,kt));me(K.mfaPendingCredential,D,"internal-error");const ht=_i._fromMfaPendingCredential(K.mfaPendingCredential);return new Zr(ht,ge,function(){var kt=(0,a.A)(function*(un){const jn=yield un._process(D,ht);delete K.mfaInfo,delete K.mfaPendingCredential;const rr=Object.assign(Object.assign({},K),{idToken:jn.idToken,refreshToken:jn.refreshToken});switch(p.operationType){case"signIn":const Gr=yield Qi._fromIdTokenResponse(D,p.operationType,rr);return yield D._updateCurrentUser(Gr.user),Gr;case"reauthenticate":return me(p.user,D,"internal-error"),Qi._forOperation(p.user,p.operationType,rr);default:tt(D,"internal-error")}});return function(un){return kt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,a.A)(function*(){return p.signInResolver(h)})()}}function Bi(I,h){var p;const D=(0,V.Ku)(I),K=h;return me(h.customData.operationType,D,"argument-error"),me(null===(p=K.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,D,"argument-error"),Zr._fromError(D,K)}class gs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(D=>Dr._fromServerResponse(h.auth,D)))})}static _fromUser(h){return new gs(h)}getSession(){var h=this;return(0,a.A)(function*(){return _i._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var D=this;return(0,a.A)(function*(){const K=h,ge=yield D.getSession(),ht=yield wt(D.user,K._process(D.user.auth,ge,p));return yield D.user._updateTokensIfNecessary(ht),D.user.reload()})()}unenroll(h){var p=this;return(0,a.A)(function*(){const D="string"==typeof h?h:h.uid,K=yield p.user.getIdToken();try{const ge=yield wt(p.user,function vr(I,h){return we(I,"POST","/v2/accounts/mfaEnrollment:withdraw",je(I,h))}(p.user.auth,{idToken:K,mfaEnrollmentId:D}));p.enrolledFactors=p.enrolledFactors.filter(({uid:ht})=>ht!==D),yield p.user._updateTokensIfNecessary(ge),yield p.user.reload()}catch(ge){throw ge}})()}}const Ps=new WeakMap;function ka(I){const h=(0,V.Ku)(I);return Ps.has(h)||Ps.set(h,gs._fromUser(h)),Ps.get(h)}const fi="__sak";class Wr{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(fi,"1"),this.storage.removeItem(fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const eo=(()=>{class I extends Wr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Js(){const I=(0,V.ZQ)();return Or(I)||oi(I)}()&&function ie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=H(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const K=this.storage.getItem(D),ge=this.localCache[D];K!==ge&&p(D,ge,K)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((kt,un,jn)=>{this.notifyListeners(kt,jn)});const K=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const kt=this.storage.getItem(K);if(p.newValue!==kt)null!==p.newValue?this.storage.setItem(K,p.newValue):this.storage.removeItem(K);else if(this.localCache[K]===p.newValue&&!D)return}const ge=()=>{const kt=this.storage.getItem(K);!D&&this.localCache[K]===kt||this.notifyListeners(K,kt)},ht=this.storage.getItem(K);!function ee(){return(0,V.lT)()&&10===document.documentMode}()||ht===p.newValue||p.newValue===p.oldValue?ge():setTimeout(ge,10)}notifyListeners(p,D){this.localCache[p]=D;const K=this.listeners[p];if(K)for(const ge of Array.from(K))ge(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var K=()=>super._set,ge=this;return(0,a.A)(function*(){yield K().call(ge,p,D),ge.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,K=this;return(0,a.A)(function*(){const ge=yield D().call(K,p);return K.localCache[p]=JSON.stringify(ge),ge})()}_remove(p){var D=()=>super._remove,K=this;return(0,a.A)(function*(){yield D().call(K,p),delete K.localCache[p]})()}}return I.type="LOCAL",I})(),os=(()=>{class I extends Wr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return I.type="SESSION",I})();let Kl=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(ge=>ge.isListeningto(p));if(D)return D;const K=new I(p);return this.receivers.push(K),K}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,a.A)(function*(){const K=p,{eventId:ge,eventType:ht,data:kt}=K.data,un=D.handlersMap[ht];if(!un?.size)return;K.ports[0].postMessage({status:"ack",eventId:ge,eventType:ht});const jn=Array.from(un).map(function(){var Gr=(0,a.A)(function*(Ko){return Ko(K.origin,kt)});return function(Ko){return Gr.apply(this,arguments)}}()),rr=yield function yr(I){return Promise.all(I.map(function(){var h=(0,a.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return h.apply(this,arguments)}}()))}(jn);K.ports[0].postMessage({status:"done",eventId:ge,eventType:ht,response:rr})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function $s(I="",h=10){let p="";for(let D=0;D<h;D++)p+=Math.floor(10*Math.random());return I+p}class ss{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,D=50){var K=this;return(0,a.A)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let ht,kt;return new Promise((un,jn)=>{const rr=$s("",20);ge.port1.start();const Gr=setTimeout(()=>{jn(new Error("unsupported_event"))},D);kt={messageChannel:ge,onMessage(Ko){const _a=Ko;if(_a.data.eventId===rr)switch(_a.data.status){case"ack":clearTimeout(Gr),ht=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ht),un(_a.data.response);break;default:clearTimeout(Gr),clearTimeout(ht),jn(new Error("invalid_response"))}}},K.handlers.add(kt),ge.port1.addEventListener("message",kt.onMessage),K.target.postMessage({eventType:h,eventId:rr,data:p},[ge.port2])}).finally(()=>{kt&&K.removeMessageHandler(kt)})})()}}function Ni(){return window}function Ii(){return typeof Ni().WorkerGlobalScope<"u"&&"function"==typeof Ni().importScripts}function lo(){return(lo=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xs="firebaseLocalStorageDb",Lo="firebaseLocalStorage",Dl="fbase_key";class Al{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Xl(I,h){return I.transaction([Lo],h?"readwrite":"readonly").objectStore(Lo)}function ms(){const I=indexedDB.open(xs,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(Lo,{keyPath:Dl})}catch(K){p(K)}}),I.addEventListener("success",(0,a.A)(function*(){const D=I.result;D.objectStoreNames.contains(Lo)?h(D):(D.close(),yield function Mc(){const I=indexedDB.deleteDatabase(xs);return new Al(I).toPromise()}(),h(yield ms()))}))})}function Zs(I,h,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.A)(function*(I,h,p){const D=Xl(I,!0).put({[Dl]:h,value:p});return new Al(D).toPromise()})).apply(this,arguments)}function Iu(){return(Iu=(0,a.A)(function*(I,h){const p=Xl(I,!1).get(h),D=yield new Al(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ea(I,h){const p=Xl(I,!0).delete(h);return new Al(p).toPromise()}const _=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.A)(function*(){return p.db||(p.db=yield ms()),p.db})()}_withRetries(p){var D=this;return(0,a.A)(function*(){let K=0;for(;;)try{const ge=yield D._openDb();return yield p(ge)}catch(ge){if(K++>3)throw ge;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.A)(function*(){return Ii()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.A)(function*(){p.receiver=Kl._getInstance(function El(){return Ii()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,a.A)(function*(K,ge){return{keyProcessed:(yield p._poll()).includes(ge.key)}});return function(K,ge){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,a.A)(function*(K,ge){return["keyChanged"]});return function(K,ge){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.A)(function*(){var D,K;if(p.activeServiceWorker=yield function ql(){return lo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ss(p.activeServiceWorker);const ge=yield p.sender._send("ping",{},800);ge&&null!==(D=ge[0])&&void 0!==D&&D.fulfilled&&null!==(K=ge[0])&&void 0!==K&&K.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,a.A)(function*(){if(D.sender&&D.activeServiceWorker&&function mo(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const p=yield ms();return yield Zs(p,fi,"1"),yield ea(p,fi),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,a.A)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var K=this;return(0,a.A)(function*(){return K._withPendingWrite((0,a.A)(function*(){return yield K._withRetries(ge=>Zs(ge,p,D)),K.localCache[p]=D,K.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,a.A)(function*(){const K=yield D._withRetries(ge=>function Sp(I,h){return Iu.apply(this,arguments)}(ge,p));return D.localCache[p]=K,K})()}_remove(p){var D=this;return(0,a.A)(function*(){return D._withPendingWrite((0,a.A)(function*(){return yield D._withRetries(K=>ea(K,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.A)(function*(){const D=yield p._withRetries(ht=>{const kt=Xl(ht,!1).getAll();return new Al(kt).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const K=[],ge=new Set;if(0!==D.length)for(const{fbase_key:ht,value:kt}of D)ge.add(ht),JSON.stringify(p.localCache[ht])!==JSON.stringify(kt)&&(p.notifyListeners(ht,kt),K.push(ht));for(const ht of Object.keys(p.localCache))p.localCache[ht]&&!ge.has(ht)&&(p.notifyListeners(ht,null),K.push(ht));return K})()}notifyListeners(p,D){this.localCache[p]=D;const K=this.listeners[p];if(K)for(const ge of Array.from(K))ge(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Ue=1e12;class Ft{constructor(h){this.auth=h,this.counter=Ue,this._widgets=new Map}render(h,p){const D=this.counter;return this._widgets.set(D,new xt(h,this.auth.name,p||{})),this.counter++,D}reset(h){var p;const D=h||Ue;null===(p=this._widgets.get(D))||void 0===p||p.delete(),this._widgets.delete(D)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Ue))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,a.A)(function*(){var D;return null===(D=p._widgets.get(h||Ue))||void 0===D||D.execute(),""})()}}class xt{constructor(h,p,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof h?document.getElementById(h):h;me(K,"argument-error",{appName:p}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xn(I){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<I;D++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mr=zr("rcb"),kr=new W(3e4,6e4);class ji{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ni().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return me(function Bs(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&Gn(Ni().grecaptcha)?Promise.resolve(Ni().grecaptcha):new Promise((D,K)=>{const ge=Ni().setTimeout(()=>{K(_e(h,"network-request-failed"))},kr.get());Ni()[Mr]=()=>{Ni().clearTimeout(ge),delete Ni()[Mr];const kt=Ni().grecaptcha;if(!kt||!Gn(kt))return void K(_e(h,"internal-error"));const un=kt.render;kt.render=(jn,rr)=>{const Gr=un(jn,rr);return this.counter++,Gr},this.hostLanguage=p,D(kt)},Nn(`${function Vi(){return pi.recaptchaV2Script}()}?${(0,V.Am)({onload:Mr,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ge),K(_e(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Ni().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vs{load(h){return(0,a.A)(function*(){return new Ft(h)})()}clearedOneInstance(){}}const Wo="recaptcha",xc={theme:"light",type:"image"};class ta{constructor(h,p,D=Object.assign({},xc)){this.parameters=D,this.type=Wo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(h),this.isInvisible="invisible"===this.parameters.size,me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof p?document.getElementById(p):p;me(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vs:new ji,this.validateStartingState()}verify(){var h=this;return(0,a.A)(function*(){h.assertNotDestroyed();const p=yield h.render(),D=h.getAssertedRecaptcha();return D.getResponse(p)||new Promise(ge=>{const ht=kt=>{kt&&(h.tokenChangeListeners.delete(ht),ge(kt))};h.tokenChangeListeners.add(ht),h.isInvisible&&D.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(D=>D(p)),"function"==typeof h)h(p);else if("string"==typeof h){const D=Ni()[h];"function"==typeof D&&D(p)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.A)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const D=document.createElement("div");p.appendChild(D),p=D}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.A)(function*(){me(Je()&&!Ii(),h.auth,"internal-error"),yield function _h(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function ct(I){return st.apply(this,arguments)}(h.auth);me(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Eu{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=ao._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Mp(I,h,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,a.A)(function*(I,h,p){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const D=Zn(I),K=yield Ql(D,h,(0,V.Ku)(p));return new Eu(K,ge=>us(D,ge))})).apply(this,arguments)}function Tl(I,h,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I);yield Ze(!1,D,"phone");const K=yield Ql(D.auth,h,(0,V.Ku)(p));return new Eu(K,ge=>cl(D,ge))})).apply(this,arguments)}function hd(I,h,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I);if((0,C._isFirebaseServerApp)(D.auth.app))return Promise.reject(Pe(D.auth));const K=yield Ql(D.auth,h,(0,V.Ku)(p));return new Eu(K,ge=>Pc(D,ge))})).apply(this,arguments)}function Ql(I,h,p){return fd.apply(this,arguments)}function fd(){return fd=(0,a.A)(function*(I,h,p){var D;const K=yield p.verify();try{let ge;if(me("string"==typeof K,I,"argument-error"),me(p.type===Wo,I,"argument-error"),ge="string"==typeof h?{phoneNumber:h}:h,"session"in ge){const ht=ge.session;if("phoneNumber"in ge)return me("enroll"===ht.type,I,"internal-error"),(yield function ps(I,h){return we(I,"POST","/v2/accounts/mfaEnrollment:start",je(I,h))}(I,{idToken:ht.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{me("signin"===ht.type,I,"internal-error");const kt=(null===(D=ge.multiFactorHint)||void 0===D?void 0:D.uid)||ge.multiFactorUid;return me(kt,I,"missing-multi-factor-info"),(yield function b(I,h){return we(I,"POST","/v2/accounts/mfaSignIn:start",je(I,h))}(I,{mfaPendingCredential:ht.credential,mfaEnrollmentId:kt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ht}=yield function Xn(I,h){return Ir.apply(this,arguments)}(I,{phoneNumber:ge.phoneNumber,recaptchaToken:K});return ht}}finally{p._reset()}}),fd.apply(this,arguments)}function Ih(I,h){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.A)(function*(I,h){const p=(0,V.Ku)(I);if((0,C._isFirebaseServerApp)(p.auth.app))return Promise.reject(Pe(p.auth));yield P(p,h)})).apply(this,arguments)}let Cu=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=Zn(p)}verifyPhoneNumber(p,D){return Ql(this.auth,p,(0,V.Ku)(D))}static credential(p,D){return ao._fromVerification(p,D)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:D,temporaryProof:K}=p;return D&&K?ao._fromTokenResponse(D,K):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ys(I,h){return h?hn(h):(me(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class yo extends Rr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Yt(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Yt(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Yt(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Eh(I){return Eo(I.auth,new yo(I),I.bypassAuthState)}function La(I){const{auth:h,user:p}=I;return me(p,h,"internal-error"),dr(p,new yo(I),I.bypassAuthState)}function Yl(I){return So.apply(this,arguments)}function So(){return(So=(0,a.A)(function*(I){const{auth:h,user:p}=I;return me(p,h,"internal-error"),P(p,new yo(I),I.bypassAuthState)})).apply(this,arguments)}class Nc{constructor(h,p,D,K,ge=!1){this.auth=h,this.resolver=D,this.user=K,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,a.A)(function*(D,K){h.pendingPromise={resolve:D,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ge){h.reject(ge)}});return function(D,K){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,a.A)(function*(){const{urlResponse:D,sessionId:K,postBody:ge,tenantId:ht,error:kt,type:un}=h;if(kt)return void p.reject(kt);const jn={auth:p.auth,requestUri:D,sessionId:K,tenantId:ht||void 0,postBody:ge||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(un)(jn))}catch(rr){p.reject(rr)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Eh;case"linkViaPopup":case"linkViaRedirect":return Yl;case"reauthViaPopup":case"reauthViaRedirect":return La;default:tt(this.auth,"internal-error")}}resolve(h){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pd=new W(2e3,1e4);function Ch(I,h,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.A)(function*(I,h,p){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(_e(I,"operation-not-supported-in-this-environment"));const D=Zn(I);lt(I,h,Ao);const K=ys(D,p);return new co(D,"signInViaPopup",h,K).executeNotNull()})).apply(this,arguments)}function Jl(I,h,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I);if((0,C._isFirebaseServerApp)(D.auth.app))return Promise.reject(_e(D.auth,"operation-not-supported-in-this-environment"));lt(D.auth,h,Ao);const K=ys(D.auth,p);return new co(D.auth,"reauthViaPopup",h,K,D).executeNotNull()})).apply(this,arguments)}function gd(I,h,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I);lt(D.auth,h,Ao);const K=ys(D.auth,p);return new co(D.auth,"linkViaPopup",h,K,D).executeNotNull()})).apply(this,arguments)}let co=(()=>{class I extends Nc{constructor(p,D,K,ge,ht){super(p,D,ge,ht),this.provider=K,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.A)(function*(){const D=yield p.execute();return me(D,p.auth,"internal-error"),D})()}onExecution(){var p=this;return(0,a.A)(function*(){Ye(1===p.filter.length,"Popup operations only handle one event");const D=$s();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],D),p.authWindow.associatedEvent=D,p.resolver._originValidation(p.auth).catch(K=>{p.reject(K)}),p.resolver._isIframeWebStorageSupported(p.auth,K=>{K||p.reject(_e(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var D,K;this.pollId=null!==(K=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,pd.get())};p()}}return I.currentPopupAction=null,I})();const ec="pendingRedirect",js=new Map;class tc extends Nc{constructor(h,p,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,a.A)(function*(){let D=js.get(p.auth._key());if(!D){try{const ge=(yield function Ua(I,h){return lr.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;D=()=>Promise.resolve(ge)}catch(K){D=()=>Promise.reject(K)}js.set(p.auth._key(),D)}return p.bypassAuthState||js.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,D=this;return(0,a.A)(function*(){if("signInViaRedirect"===h.type)return p().call(D,h);if("unknown"!==h.type){if(h.eventId){const K=yield D.auth._redirectUserForId(h.eventId);if(K)return D.user=K,p().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function lr(){return(lr=(0,a.A)(function*(I,h){const p=Du(h),D=bl(I);if(!(yield D._isAvailable()))return!1;const K="true"===(yield D._get(p));return yield D._remove(p),K})).apply(this,arguments)}function ga(I,h){return md.apply(this,arguments)}function md(){return(md=(0,a.A)(function*(I,h){return bl(I)._set(Du(h),"true")})).apply(this,arguments)}function wl(){js.clear()}function Dh(I,h){js.set(I._key(),h)}function bl(I){return hn(I._redirectPersistence)}function Du(I){return mr(ec,I.config.apiKey,I.name)}function _s(I,h,p){return function Ah(I,h,p){return vd.apply(this,arguments)}(I,h,p)}function vd(){return(vd=(0,a.A)(function*(I,h,p){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const D=Zn(I);lt(I,h,Ao),yield D._initializationPromise;const K=ys(D,p);return yield ga(K,D),K._openRedirect(D,h,"signInViaRedirect")})).apply(this,arguments)}function Th(I,h,p){return function xp(I,h,p){return Au.apply(this,arguments)}(I,h,p)}function Au(){return(Au=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I);if(lt(D.auth,h,Ao),(0,C._isFirebaseServerApp)(D.auth.app))return Promise.reject(Pe(D.auth));yield D.auth._initializationPromise;const K=ys(D.auth,p);yield ga(K,D.auth);const ge=yield Po(D);return K._openRedirect(D.auth,h,"reauthViaRedirect",ge)})).apply(this,arguments)}function Jt(I,h,p){return function Fr(I,h,p){return kc.apply(this,arguments)}(I,h,p)}function kc(){return(kc=(0,a.A)(function*(I,h,p){const D=(0,V.Ku)(I);lt(D.auth,h,Ao),yield D.auth._initializationPromise;const K=ys(D.auth,p);yield Ze(!1,D,h.providerId),yield ga(K,D.auth);const ge=yield Po(D);return K._openRedirect(D.auth,h,"linkViaRedirect",ge)})).apply(this,arguments)}function wh(I,h){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.A)(function*(I,h){return yield Zn(I)._initializationPromise,Tu(I,h,!1)})).apply(this,arguments)}function Tu(I,h){return $a.apply(this,arguments)}function $a(){return($a=(0,a.A)(function*(I,h,p=!1){if((0,C._isFirebaseServerApp)(I.app))return Promise.reject(Pe(I));const D=Zn(I),K=ys(D,h),ht=yield new tc(D,K,p).execute();return ht&&!p&&(delete ht.user._redirectEventId,yield D._persistUserIfCurrent(ht.user),yield D._setRedirectUser(null,h)),ht})).apply(this,arguments)}function Po(I){return ma.apply(this,arguments)}function ma(){return(ma=(0,a.A)(function*(I){const h=$s(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class yd{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(p=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Go(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bu(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var D;if(h.error&&!bu(h)){const K=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(_e(this.auth,K))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const D=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Op(h))}saveEventToCache(h){this.cachedEventUids.add(Op(h)),this.lastProcessedEventTime=Date.now()}}function Op(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function bu({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function na(I){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.A)(function*(I,h={}){return we(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Ei=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,va=/^https?/;function Su(){return(Su=(0,a.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield na(I);for(const p of h)try{if(kp(p))return}catch{}tt(I,"unauthorized-domain")})).apply(this,arguments)}function kp(I){const h=ot(),{protocol:p,hostname:D}=new URL(h);if(I.startsWith("chrome-extension://")){const ht=new URL(I);return""===ht.hostname&&""===D?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ht.hostname===D}if(!va.test(p))return!1;if(Ei.test(I))return D===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(D)}const _d=new W(3e4,6e4);function Ru(){const I=Ni().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let ya=null;const bh=new W(5e3,15e3),Mu="__/auth/iframe",Fc="emulator/auth/iframe",ic={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xu(I){const h=I.config;me(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?M(h,Fc):`https://${I.config.authDomain}/${Mu}`,D={apiKey:h.apiKey,appName:I.name,v:C.SDK_VERSION},K=Lc.get(I.config.apiHost);K&&(D.eid=K);const ge=I._getFrameworks();return ge.length&&(D.fw=ge.join(",")),`${p}?${(0,V.Am)(D).slice(1)}`}function Vc(){return Vc=(0,a.A)(function*(I){const h=yield function Pu(I){return ya=ya||function rc(I){return new Promise((h,p)=>{var D,K,ge;function ht(){Ru(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ru(),p(_e(I,"network-request-failed"))},timeout:_d.get()})}if(null!==(K=null===(D=Ni().gapi)||void 0===D?void 0:D.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(ge=Ni().gapi)||void 0===ge||!ge.load){const kt=zr("iframefcb");return Ni()[kt]=()=>{gapi.load?ht():p(_e(I,"network-request-failed"))},Nn(`${function gi(){return pi.gapiScript}()}?onload=${kt}`).catch(un=>p(un))}ht()}}).catch(h=>{throw ya=null,h})}(I),ya}(I),p=Ni().gapi;return me(p,I,"internal-error"),h.open({where:document.body,url:xu(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ic,dontclear:!0},D=>new Promise(function(){var K=(0,a.A)(function*(ge,ht){yield D.restyle({setHideOnLeave:!1});const kt=_e(I,"network-request-failed"),un=Ni().setTimeout(()=>{ht(kt)},bh.get());function jn(){Ni().clearTimeout(un),ge(D)}D.ping(jn).then(jn,()=>{ht(kt)})});return function(ge,ht){return K.apply(this,arguments)}}()))}),Vc.apply(this,arguments)}const Sh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ed="__/auth/handler",Mh="emulator/auth/handler",ra=encodeURIComponent("fac");function Mo(I,h,p,D,K,ge){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,a.A)(function*(I,h,p,D,K,ge){me(I.config.authDomain,I,"auth-domain-config-required"),me(I.config.apiKey,I,"invalid-api-key");const ht={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:D,v:C.SDK_VERSION,eventId:K};if(h instanceof Ao){h.setDefaultLanguage(I.languageCode),ht.providerId=h.providerId||"",(0,V.Im)(h.getCustomParameters())||(ht.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rr,Gr]of Object.entries(ge||{}))ht[rr]=Gr}if(h instanceof Wi){const rr=h.getScopes().filter(Gr=>""!==Gr);rr.length>0&&(ht.scopes=rr.join(","))}I.tenantId&&(ht.tid=I.tenantId);const kt=ht;for(const rr of Object.keys(kt))void 0===kt[rr]&&delete kt[rr];const un=yield I._getAppCheckToken(),jn=un?`#${ra}=${encodeURIComponent(un)}`:"";return`${function Sl({config:I}){return I.emulator?M(I,Mh):`https://${I.authDomain}/${Ed}`}(I)}?${(0,V.Am)(kt).slice(1)}${jn}`})).apply(this,arguments)}const Rl="webStorageSupport",Bc=class $c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=os,this._completeRedirectFn=Tu,this._overrideRedirectResult=Dh}_openPopup(h,p,D,K){var ge=this;return(0,a.A)(function*(){var ht;Ye(null===(ht=ge.eventManagers[h._key()])||void 0===ht?void 0:ht.manager,"_initialize() not called before _openPopup()");const kt=yield Mo(h,p,D,ot(),K);return function Ph(I,h,p,D=500,K=600){const ge=Math.max((window.screen.availHeight-K)/2,0).toString(),ht=Math.max((window.screen.availWidth-D)/2,0).toString();let kt="";const un=Object.assign(Object.assign({},Sh),{width:D.toString(),height:K.toString(),top:ge,left:ht}),jn=(0,V.ZQ)().toLowerCase();p&&(kt=jr(jn)?"_blank":p),Hn(jn)&&(h=h||"http://localhost",un.scrollbars="yes");const rr=Object.entries(un).reduce((Ko,[_a,Ia])=>`${Ko}${_a}=${Ia},`,"");if(function re(I=(0,V.ZQ)()){var h;return oi(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(jn)&&"_self"!==kt)return function Fp(I,h){const p=document.createElement("a");p.href=I,p.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(h||"",kt),new Rh(null);const Gr=window.open(h||"",kt,rr);me(Gr,I,"popup-blocked");try{Gr.focus()}catch{}return new Rh(Gr)}(h,kt,$s())})()}_openRedirect(h,p,D,K){var ge=this;return(0,a.A)(function*(){return yield ge._originValidation(h),function Il(I){Ni().location.href=I}(yield Mo(h,p,D,ot(),K)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:K,promise:ge}=this.eventManagers[p];return K?Promise.resolve(K):(Ye(ge,"If manager is not set, promise should be"),ge)}const D=this.initAndGetManager(h);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(h){var p=this;return(0,a.A)(function*(){const D=yield function Ou(I){return Vc.apply(this,arguments)}(h),K=new yd(h);return D.register("authEvent",ge=>(me(ge?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:K},p.iframes[h._key()]=D,K})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Rl,{type:Rl},K=>{var ge;const ht=null===(ge=K?.[0])||void 0===ge?void 0:ge[Rl];void 0!==ht&&p(!!ht),tt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Np(I){return Su.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return H()||Or()||oi()}};class Cd{constructor(h){this.factorId=h}_process(h,p,D){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,D);case"signin":return this._finalizeSignIn(h,p.credential);default:return Et("unexpected MultiFactorSessionType")}}}class oc extends Cd{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new oc(h)}_finalizeEnroll(h,p,D){return function hi(I,h){return we(I,"POST","/v2/accounts/mfaEnrollment:finalize",je(I,h))}(h,{idToken:p,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function E(I,h){return we(I,"POST","/v2/accounts/mfaSignIn:finalize",je(I,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lp=(()=>{class I{constructor(){}static assertion(p){return oc._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var jc="@firebase/auth";class Nu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,a.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(D=>{h(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ac=(0,V.XA)("authIdTokenMaxAge")||300;let Nh=null;const lc=I=>function(){var h=(0,a.A)(function*(p){const D=p&&(yield p.getIdTokenResult()),K=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(K&&K>ac)return;const ge=D?.token;Nh!==ge&&(Nh=ge,yield fetch(I,{method:ge?"POST":"DELETE",headers:ge?{Authorization:`Bearer ${ge}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function cc(I=(0,C.getApp)()){const h=(0,C._getProvider)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function mi(I,h){const p=(0,C._getProvider)(I,"auth");if(p.isInitialized()){const K=p.getImmediate(),ge=p.getOptions();if((0,V.bD)(ge,h??{}))return K;tt(K,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:Bc,persistence:[_,eo,os]}),D=(0,V.XA)("authTokenSyncURL");if(D&&"boolean"==typeof isSecureContext&&isSecureContext){const ge=new URL(D,location.origin);if(location.origin===ge.origin){const ht=lc(ge.toString());(function Pr(I,h,p){(0,V.Ku)(I).beforeAuthStateChanged(h,p)})(p,ht,()=>ht(p.currentUser)),function Yr(I,h,p,D){(0,V.Ku)(I).onIdTokenChanged(h,p,D)}(p,kt=>ht(kt))}}const K=(0,V.Tj)("auth");return K&&ro(p,`http://${K}`),p}(function Si(I){pi=I})({loadJS:I=>new Promise((h,p)=>{const D=document.createElement("script");D.setAttribute("src",I),D.onload=h,D.onerror=K=>{const ge=_e("internal-error");ge.customData=K,p(ge)},D.type="text/javascript",D.charset="UTF-8",function uc(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Oh(I){(0,C._registerComponent)(new Ve.uA("auth",(h,{options:p})=>{const D=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),ge=h.getProvider("app-check-internal"),{apiKey:ht,authDomain:kt}=D.options;me(ht&&!ht.includes(":"),"invalid-api-key",{appName:D.name});const un={apiKey:ht,authDomain:kt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(I)},jn=new ir(D,K,ge,un);return function Ri(I,h){const p=h?.persistence||[],D=(Array.isArray(p)?p:[p]).map(hn);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(D,h?.popupRedirectResolver)}(jn,p),jn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,D)=>{h.getProvider("auth-internal").initialize()})),(0,C._registerComponent)(new Ve.uA("auth-internal",h=>{const p=Zn(h.getProvider("auth").getImmediate());return new Nu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,C.registerVersion)(jc,"1.7.4",function xh(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,C.registerVersion)(jc,"1.7.4","esm2017")}("Browser")},9583:(vn,gt,x)=>{"use strict";x.d(gt,{fS:()=>Sf,Ix:()=>Nl,H6:()=>Y0,T1:()=>uo,Wq:()=>kl,uY:()=>yc,W6:()=>M,Ci:()=>yf,YQ:()=>iu,NJ:()=>ou,Dc:()=>sn,GA:()=>Yu,cm:()=>qn,K$:()=>Ht,FA:()=>Kt,lo:()=>Br,bI:()=>At,qG:()=>Sr,qi:()=>Ye,c8:()=>Qm,gS:()=>zd,C3:()=>O_,hq:()=>xf,me:()=>tv,rJ:()=>g_,Cs:()=>vc,vN:()=>Ym,kd:()=>Iv,CL:()=>bv,LA:()=>Z0,H9:()=>Gu,ol:()=>vg,Q5:()=>Ol,Os:()=>rv,FD:()=>C_,rf:()=>gv,Ws:()=>Gi,z6:()=>Qu,x7:()=>yv,nY:()=>Rf,_e:()=>T_,GG:()=>w_,kU:()=>_v,Rr:()=>b_,aU:()=>v_,GV:()=>Sv,AB:()=>oC,$1:()=>E_,po:()=>eC,St:()=>yg,aQ:()=>Pf,FC:()=>Pg,My:()=>iC,P:()=>I_,B:()=>Jm,yx:()=>m_,c4:()=>Hd,O5:()=>kg,BN:()=>S_,He:()=>Ne,lN:()=>Rg,HM:()=>wg,EO:()=>bf,mZ:()=>R_,iB:()=>nv,_M:()=>rC});var Oe,ze,a=x(467),C=x(7852),V=x(1362),le=x(8041),Se=x(1076),Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Dt,Qe,vt){vt||(vt=0);var bt=Array(16);if("string"==typeof Qe)for(var St=0;16>St;++St)bt[St]=Qe.charCodeAt(vt++)|Qe.charCodeAt(vt++)<<8|Qe.charCodeAt(vt++)<<16|Qe.charCodeAt(vt++)<<24;else for(St=0;16>St;++St)bt[St]=Qe[vt++]|Qe[vt++]<<8|Qe[vt++]<<16|Qe[vt++]<<24;var Lt=Dt.g[3],ft=(Qe=Dt.g[0])+(Lt^(vt=Dt.g[1])&((St=Dt.g[2])^Lt))+bt[0]+3614090360&4294967295;ft=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=(vt=(St=(Lt=(Qe=vt+(ft<<7&4294967295|ft>>>25))+((ft=Lt+(St^Qe&(vt^St))+bt[1]+3905402710&4294967295)<<12&4294967295|ft>>>20))+((ft=St+(vt^Lt&(Qe^vt))+bt[2]+606105819&4294967295)<<17&4294967295|ft>>>15))+((ft=vt+(Qe^St&(Lt^Qe))+bt[3]+3250441966&4294967295)<<22&4294967295|ft>>>10))+((ft=Qe+(Lt^vt&(St^Lt))+bt[4]+4118548399&4294967295)<<7&4294967295|ft>>>25))+((ft=Lt+(St^Qe&(vt^St))+bt[5]+1200080426&4294967295)<<12&4294967295|ft>>>20))+((ft=St+(vt^Lt&(Qe^vt))+bt[6]+2821735955&4294967295)<<17&4294967295|ft>>>15))+((ft=vt+(Qe^St&(Lt^Qe))+bt[7]+4249261313&4294967295)<<22&4294967295|ft>>>10))+((ft=Qe+(Lt^vt&(St^Lt))+bt[8]+1770035416&4294967295)<<7&4294967295|ft>>>25))+((ft=Lt+(St^Qe&(vt^St))+bt[9]+2336552879&4294967295)<<12&4294967295|ft>>>20))+((ft=St+(vt^Lt&(Qe^vt))+bt[10]+4294925233&4294967295)<<17&4294967295|ft>>>15))+((ft=vt+(Qe^St&(Lt^Qe))+bt[11]+2304563134&4294967295)<<22&4294967295|ft>>>10))+((ft=Qe+(Lt^vt&(St^Lt))+bt[12]+1804603682&4294967295)<<7&4294967295|ft>>>25))+((ft=Lt+(St^Qe&(vt^St))+bt[13]+4254626195&4294967295)<<12&4294967295|ft>>>20))+((ft=St+(vt^Lt&(Qe^vt))+bt[14]+2792965006&4294967295)<<17&4294967295|ft>>>15))+((ft=vt+(Qe^St&(Lt^Qe))+bt[15]+1236535329&4294967295)<<22&4294967295|ft>>>10))+((ft=Qe+(St^Lt&(vt^St))+bt[1]+4129170786&4294967295)<<5&4294967295|ft>>>27))+((ft=Lt+(vt^St&(Qe^vt))+bt[6]+3225465664&4294967295)<<9&4294967295|ft>>>23))+((ft=St+(Qe^vt&(Lt^Qe))+bt[11]+643717713&4294967295)<<14&4294967295|ft>>>18))+((ft=vt+(Lt^Qe&(St^Lt))+bt[0]+3921069994&4294967295)<<20&4294967295|ft>>>12))+((ft=Qe+(St^Lt&(vt^St))+bt[5]+3593408605&4294967295)<<5&4294967295|ft>>>27))+((ft=Lt+(vt^St&(Qe^vt))+bt[10]+38016083&4294967295)<<9&4294967295|ft>>>23))+((ft=St+(Qe^vt&(Lt^Qe))+bt[15]+3634488961&4294967295)<<14&4294967295|ft>>>18))+((ft=vt+(Lt^Qe&(St^Lt))+bt[4]+3889429448&4294967295)<<20&4294967295|ft>>>12))+((ft=Qe+(St^Lt&(vt^St))+bt[9]+568446438&4294967295)<<5&4294967295|ft>>>27))+((ft=Lt+(vt^St&(Qe^vt))+bt[14]+3275163606&4294967295)<<9&4294967295|ft>>>23))+((ft=St+(Qe^vt&(Lt^Qe))+bt[3]+4107603335&4294967295)<<14&4294967295|ft>>>18))+((ft=vt+(Lt^Qe&(St^Lt))+bt[8]+1163531501&4294967295)<<20&4294967295|ft>>>12))+((ft=Qe+(St^Lt&(vt^St))+bt[13]+2850285829&4294967295)<<5&4294967295|ft>>>27))+((ft=Lt+(vt^St&(Qe^vt))+bt[2]+4243563512&4294967295)<<9&4294967295|ft>>>23))+((ft=St+(Qe^vt&(Lt^Qe))+bt[7]+1735328473&4294967295)<<14&4294967295|ft>>>18))+((ft=vt+(Lt^Qe&(St^Lt))+bt[12]+2368359562&4294967295)<<20&4294967295|ft>>>12))+((ft=Qe+(vt^St^Lt)+bt[5]+4294588738&4294967295)<<4&4294967295|ft>>>28))+((ft=Lt+(Qe^vt^St)+bt[8]+2272392833&4294967295)<<11&4294967295|ft>>>21))+((ft=St+(Lt^Qe^vt)+bt[11]+1839030562&4294967295)<<16&4294967295|ft>>>16))+((ft=vt+(St^Lt^Qe)+bt[14]+4259657740&4294967295)<<23&4294967295|ft>>>9))+((ft=Qe+(vt^St^Lt)+bt[1]+2763975236&4294967295)<<4&4294967295|ft>>>28))+((ft=Lt+(Qe^vt^St)+bt[4]+1272893353&4294967295)<<11&4294967295|ft>>>21))+((ft=St+(Lt^Qe^vt)+bt[7]+4139469664&4294967295)<<16&4294967295|ft>>>16))+((ft=vt+(St^Lt^Qe)+bt[10]+3200236656&4294967295)<<23&4294967295|ft>>>9))+((ft=Qe+(vt^St^Lt)+bt[13]+681279174&4294967295)<<4&4294967295|ft>>>28))+((ft=Lt+(Qe^vt^St)+bt[0]+3936430074&4294967295)<<11&4294967295|ft>>>21))+((ft=St+(Lt^Qe^vt)+bt[3]+3572445317&4294967295)<<16&4294967295|ft>>>16))+((ft=vt+(St^Lt^Qe)+bt[6]+76029189&4294967295)<<23&4294967295|ft>>>9))+((ft=Qe+(vt^St^Lt)+bt[9]+3654602809&4294967295)<<4&4294967295|ft>>>28))+((ft=Lt+(Qe^vt^St)+bt[12]+3873151461&4294967295)<<11&4294967295|ft>>>21))+((ft=St+(Lt^Qe^vt)+bt[15]+530742520&4294967295)<<16&4294967295|ft>>>16))+((ft=vt+(St^Lt^Qe)+bt[2]+3299628645&4294967295)<<23&4294967295|ft>>>9))+((ft=Qe+(St^(vt|~Lt))+bt[0]+4096336452&4294967295)<<6&4294967295|ft>>>26))+((ft=Lt+(vt^(Qe|~St))+bt[7]+1126891415&4294967295)<<10&4294967295|ft>>>22))+((ft=St+(Qe^(Lt|~vt))+bt[14]+2878612391&4294967295)<<15&4294967295|ft>>>17))+((ft=vt+(Lt^(St|~Qe))+bt[5]+4237533241&4294967295)<<21&4294967295|ft>>>11))+((ft=Qe+(St^(vt|~Lt))+bt[12]+1700485571&4294967295)<<6&4294967295|ft>>>26))+((ft=Lt+(vt^(Qe|~St))+bt[3]+2399980690&4294967295)<<10&4294967295|ft>>>22))+((ft=St+(Qe^(Lt|~vt))+bt[10]+4293915773&4294967295)<<15&4294967295|ft>>>17))+((ft=vt+(Lt^(St|~Qe))+bt[1]+2240044497&4294967295)<<21&4294967295|ft>>>11))+((ft=Qe+(St^(vt|~Lt))+bt[8]+1873313359&4294967295)<<6&4294967295|ft>>>26))+((ft=Lt+(vt^(Qe|~St))+bt[15]+4264355552&4294967295)<<10&4294967295|ft>>>22))+((ft=St+(Qe^(Lt|~vt))+bt[6]+2734768916&4294967295)<<15&4294967295|ft>>>17))+((ft=vt+(Lt^(St|~Qe))+bt[13]+1309151649&4294967295)<<21&4294967295|ft>>>11))+((Lt=(Qe=vt+((ft=Qe+(St^(vt|~Lt))+bt[4]+4149444226&4294967295)<<6&4294967295|ft>>>26))+((ft=Lt+(vt^(Qe|~St))+bt[11]+3174756917&4294967295)<<10&4294967295|ft>>>22))^((St=Lt+((ft=St+(Qe^(Lt|~vt))+bt[2]+718787259&4294967295)<<15&4294967295|ft>>>17))|~Qe))+bt[9]+3951481745&4294967295,Dt.g[0]=Dt.g[0]+Qe&4294967295,Dt.g[1]=Dt.g[1]+(St+(ft<<21&4294967295|ft>>>11))&4294967295,Dt.g[2]=Dt.g[2]+St&4294967295,Dt.g[3]=Dt.g[3]+Lt&4294967295}function v(Dt,Qe){this.h=Qe;for(var vt=[],bt=!0,St=Dt.length-1;0<=St;St--){var Lt=0|Dt[St];bt&&Lt==Qe||(vt[St]=Lt,bt=!1)}this.g=vt}(function t(Dt,Qe){function vt(){}vt.prototype=Qe.prototype,Dt.D=Qe.prototype,Dt.prototype=new vt,Dt.prototype.constructor=Dt,Dt.C=function(bt,St,Lt){for(var ft=Array(arguments.length-2),Ll=2;Ll<arguments.length;Ll++)ft[Ll-2]=arguments[Ll];return Qe.prototype[St].apply(bt,ft)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Dt,Qe){void 0===Qe&&(Qe=Dt.length);for(var vt=Qe-this.blockSize,bt=this.B,St=this.h,Lt=0;Lt<Qe;){if(0==St)for(;Lt<=vt;)u(this,Dt,Lt),Lt+=this.blockSize;if("string"==typeof Dt){for(;Lt<Qe;)if(bt[St++]=Dt.charCodeAt(Lt++),St==this.blockSize){u(this,bt),St=0;break}}else for(;Lt<Qe;)if(bt[St++]=Dt[Lt++],St==this.blockSize){u(this,bt),St=0;break}}this.h=St,this.o+=Qe},s.prototype.v=function(){var Dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Dt[0]=128;for(var Qe=1;Qe<Dt.length-8;++Qe)Dt[Qe]=0;var vt=8*this.o;for(Qe=Dt.length-8;Qe<Dt.length;++Qe)Dt[Qe]=255&vt,vt/=256;for(this.u(Dt),Dt=Array(16),Qe=vt=0;4>Qe;++Qe)for(var bt=0;32>bt;bt+=8)Dt[vt++]=this.g[Qe]>>>bt&255;return Dt};var w={};function N(Dt){return-128<=Dt&&128>Dt?function f(Dt,Qe){var vt=w;return Object.prototype.hasOwnProperty.call(vt,Dt)?vt[Dt]:vt[Dt]=Qe(Dt)}(Dt,function(Qe){return new v([0|Qe],0>Qe?-1:0)}):new v([0|Dt],0>Dt?-1:0)}function q(Dt){if(isNaN(Dt)||!isFinite(Dt))return Re;if(0>Dt)return pn(q(-Dt));for(var Qe=[],vt=1,bt=0;Dt>=vt;bt++)Qe[bt]=Dt/vt|0,vt*=4294967296;return new v(Qe,0)}var Re=N(0),at=N(1),Ot=N(16777216);function cn(Dt){if(0!=Dt.h)return!1;for(var Qe=0;Qe<Dt.g.length;Qe++)if(0!=Dt.g[Qe])return!1;return!0}function In(Dt){return-1==Dt.h}function pn(Dt){for(var Qe=Dt.g.length,vt=[],bt=0;bt<Qe;bt++)vt[bt]=~Dt.g[bt];return new v(vt,~Dt.h).add(at)}function er(Dt,Qe){return Dt.add(pn(Qe))}function fr(Dt,Qe){for(;(65535&Dt[Qe])!=Dt[Qe];)Dt[Qe+1]+=Dt[Qe]>>>16,Dt[Qe]&=65535,Qe++}function Vn(Dt,Qe){this.g=Dt,this.h=Qe}function xr(Dt,Qe){if(cn(Qe))throw Error("division by zero");if(cn(Dt))return new Vn(Re,Re);if(In(Dt))return Qe=xr(pn(Dt),Qe),new Vn(pn(Qe.g),pn(Qe.h));if(In(Qe))return Qe=xr(Dt,pn(Qe)),new Vn(pn(Qe.g),Qe.h);if(30<Dt.g.length){if(In(Dt)||In(Qe))throw Error("slowDivide_ only works with positive integers.");for(var vt=at,bt=Qe;0>=bt.l(Dt);)vt=li(vt),bt=li(bt);var St=Kr(vt,1),Lt=Kr(bt,1);for(bt=Kr(bt,2),vt=Kr(vt,2);!cn(bt);){var ft=Lt.add(bt);0>=ft.l(Dt)&&(St=St.add(vt),Lt=ft),bt=Kr(bt,1),vt=Kr(vt,1)}return Qe=er(Dt,St.j(Qe)),new Vn(St,Qe)}for(St=Re;0<=Dt.l(Qe);){for(vt=Math.max(1,Math.floor(Dt.m()/Qe.m())),bt=48>=(bt=Math.ceil(Math.log(vt)/Math.LN2))?1:Math.pow(2,bt-48),ft=(Lt=q(vt)).j(Qe);In(ft)||0<ft.l(Dt);)ft=(Lt=q(vt-=bt)).j(Qe);cn(Lt)&&(Lt=at),St=St.add(Lt),Dt=er(Dt,ft)}return new Vn(St,Dt)}function li(Dt){for(var Qe=Dt.g.length+1,vt=[],bt=0;bt<Qe;bt++)vt[bt]=Dt.i(bt)<<1|Dt.i(bt-1)>>>31;return new v(vt,Dt.h)}function Kr(Dt,Qe){var vt=Qe>>5;Qe%=32;for(var bt=Dt.g.length-vt,St=[],Lt=0;Lt<bt;Lt++)St[Lt]=0<Qe?Dt.i(Lt+vt)>>>Qe|Dt.i(Lt+vt+1)<<32-Qe:Dt.i(Lt+vt);return new v(St,Dt.h)}(c=v.prototype).m=function(){if(In(this))return-pn(this).m();for(var Dt=0,Qe=1,vt=0;vt<this.g.length;vt++){var bt=this.i(vt);Dt+=(0<=bt?bt:4294967296+bt)*Qe,Qe*=4294967296}return Dt},c.toString=function(Dt){if(2>(Dt=Dt||10)||36<Dt)throw Error("radix out of range: "+Dt);if(cn(this))return"0";if(In(this))return"-"+pn(this).toString(Dt);for(var Qe=q(Math.pow(Dt,6)),vt=this,bt="";;){var St=xr(vt,Qe).g,Lt=((0<(vt=er(vt,St.j(Qe))).g.length?vt.g[0]:vt.h)>>>0).toString(Dt);if(cn(vt=St))return Lt+bt;for(;6>Lt.length;)Lt="0"+Lt;bt=Lt+bt}},c.i=function(Dt){return 0>Dt?0:Dt<this.g.length?this.g[Dt]:this.h},c.l=function(Dt){return In(Dt=er(this,Dt))?-1:cn(Dt)?0:1},c.abs=function(){return In(this)?pn(this):this},c.add=function(Dt){for(var Qe=Math.max(this.g.length,Dt.g.length),vt=[],bt=0,St=0;St<=Qe;St++){var Lt=bt+(65535&this.i(St))+(65535&Dt.i(St)),ft=(Lt>>>16)+(this.i(St)>>>16)+(Dt.i(St)>>>16);bt=ft>>>16,vt[St]=(ft&=65535)<<16|(Lt&=65535)}return new v(vt,-2147483648&vt[vt.length-1]?-1:0)},c.j=function(Dt){if(cn(this)||cn(Dt))return Re;if(In(this))return In(Dt)?pn(this).j(pn(Dt)):pn(pn(this).j(Dt));if(In(Dt))return pn(this.j(pn(Dt)));if(0>this.l(Ot)&&0>Dt.l(Ot))return q(this.m()*Dt.m());for(var Qe=this.g.length+Dt.g.length,vt=[],bt=0;bt<2*Qe;bt++)vt[bt]=0;for(bt=0;bt<this.g.length;bt++)for(var St=0;St<Dt.g.length;St++){var Lt=this.i(bt)>>>16,ft=65535&this.i(bt),Ll=Dt.i(St)>>>16,lu=65535&Dt.i(St);vt[2*bt+2*St]+=ft*lu,fr(vt,2*bt+2*St),vt[2*bt+2*St+1]+=Lt*lu,fr(vt,2*bt+2*St+1),vt[2*bt+2*St+1]+=ft*Ll,fr(vt,2*bt+2*St+1),vt[2*bt+2*St+2]+=Lt*Ll,fr(vt,2*bt+2*St+2)}for(bt=0;bt<Qe;bt++)vt[bt]=vt[2*bt+1]<<16|vt[2*bt];for(bt=Qe;bt<2*Qe;bt++)vt[bt]=0;return new v(vt,0)},c.A=function(Dt){return xr(this,Dt).h},c.and=function(Dt){for(var Qe=Math.max(this.g.length,Dt.g.length),vt=[],bt=0;bt<Qe;bt++)vt[bt]=this.i(bt)&Dt.i(bt);return new v(vt,this.h&Dt.h)},c.or=function(Dt){for(var Qe=Math.max(this.g.length,Dt.g.length),vt=[],bt=0;bt<Qe;bt++)vt[bt]=this.i(bt)|Dt.i(bt);return new v(vt,this.h|Dt.h)},c.xor=function(Dt){for(var Qe=Math.max(this.g.length,Dt.g.length),vt=[],bt=0;bt<Qe;bt++)vt[bt]=this.i(bt)^Dt.i(bt);return new v(vt,this.h^Dt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ze=ue.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=q,v.fromString=function ce(Dt,Qe){if(0==Dt.length)throw Error("number format error: empty string");if(2>(Qe=Qe||10)||36<Qe)throw Error("radix out of range: "+Qe);if("-"==Dt.charAt(0))return pn(ce(Dt.substring(1),Qe));if(0<=Dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var vt=q(Math.pow(Qe,8)),bt=Re,St=0;St<Dt.length;St+=8){var Lt=Math.min(8,Dt.length-St),ft=parseInt(Dt.substring(St,St+Lt),Qe);8>Lt?(Lt=q(Math.pow(Qe,Lt)),bt=bt.j(Lt).add(q(ft))):bt=(bt=bt.j(vt)).add(q(ft))}return bt},Oe=ue.Integer=v}).apply(typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{});var Le,Fe,ke,Xe,et,qe,Be,It,Ge,De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var c,t="function"==typeof Object.defineProperties?Object.defineProperty:function(g,k,X){return g==Array.prototype||g==Object.prototype||(g[k]=X.value),g},s=function i(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof De&&De];for(var k=0;k<g.length;++k){var X=g[k];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}(this);!function u(g,k){if(k)e:{var X=s;g=g.split(".");for(var Ce=0;Ce<g.length-1;Ce++){var Rt=g[Ce];if(!(Rt in X))break e;X=X[Rt]}(k=k(Ce=X[g=g[g.length-1]]))!=Ce&&null!=k&&t(X,g,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(g){return g||function(){return function f(g,k){g instanceof String&&(g+="");var X=0,Ce=!1,Rt={next:function(){if(!Ce&&X<g.length){var Gt=X++;return{value:k(Gt,g[Gt]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return Rt[Symbol.iterator]=function(){return Rt},Rt}(this,function(k,X){return X})}});var v=v||{},w=this||self;function N(g){var k=typeof g;return"array"==(k="object"!=k?k:g?Array.isArray(g)?"array":k:"null")||"object"==k&&"number"==typeof g.length}function q(g){var k=typeof g;return"object"==k&&null!=g||"function"==k}function ce(g,k,X){return g.call.apply(g.bind,arguments)}function Re(g,k,X){if(!g)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var Rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Rt,Ce),g.apply(k,Rt)}}return function(){return g.apply(k,arguments)}}function at(g,k,X){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ce:Re).apply(null,arguments)}function Ot(g,k){var X=Array.prototype.slice.call(arguments,1);return function(){var Ce=X.slice();return Ce.push.apply(Ce,arguments),g.apply(this,Ce)}}function cn(g,k){function X(){}X.prototype=k.prototype,g.aa=k.prototype,g.prototype=new X,g.prototype.constructor=g,g.Qb=function(Ce,Rt,Gt){for(var Mn=Array(arguments.length-2),ki=2;ki<arguments.length;ki++)Mn[ki-2]=arguments[ki];return k.prototype[Rt].apply(Ce,Mn)}}function In(g){const k=g.length;if(0<k){const X=Array(k);for(let Ce=0;Ce<k;Ce++)X[Ce]=g[Ce];return X}return[]}function pn(g,k){for(let X=1;X<arguments.length;X++){const Ce=arguments[X];if(N(Ce)){const Rt=g.length||0,Gt=Ce.length||0;g.length=Rt+Gt;for(let Mn=0;Mn<Gt;Mn++)g[Rt+Mn]=Ce[Mn]}else g.push(Ce)}}function fr(g){return/^[\s\xa0]*$/.test(g)}function Vn(){var g=w.navigator;return g&&(g=g.userAgent)?g:""}function xr(g){return xr[" "](g),g}xr[" "]=function(){};var li=!(-1==Vn().indexOf("Gecko")||-1!=Vn().toLowerCase().indexOf("webkit")&&-1==Vn().indexOf("Edge")||-1!=Vn().indexOf("Trident")||-1!=Vn().indexOf("MSIE")||-1!=Vn().indexOf("Edge"));function Kr(g,k,X){for(const Ce in g)k.call(X,g[Ce],Ce,g)}function Qe(g){const k={};for(const X in g)k[X]=g[X];return k}const vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(g,k){let X,Ce;for(let Rt=1;Rt<arguments.length;Rt++){for(X in Ce=arguments[Rt],Ce)g[X]=Ce[X];for(let Gt=0;Gt<vt.length;Gt++)X=vt[Gt],Object.prototype.hasOwnProperty.call(Ce,X)&&(g[X]=Ce[X])}}function St(g){var k=1;g=g.split(":");const X=[];for(;0<k&&g.length;)X.push(g.shift()),k--;return g.length&&X.push(g.join(":")),X}function Lt(g){w.setTimeout(()=>{throw g},0)}function ft(){var g=Vg;let k=null;return g.g&&(k=g.g,g.g=g.g.next,g.g||(g.h=null),k.next=null),k}var lu=new class er{constructor(k,X){this.i=k,this.j=X,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new V_,g=>g.reset());class V_{constructor(){this.next=this.g=this.h=null}set(k,X){this.h=k,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let Wd,Gd=!1,Vg=new class Ll{constructor(){this.h=this.g=null}add(k,X){const Ce=lu.get();Ce.set(k,X),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}},Mv=()=>{const g=w.Promise.resolve(void 0);Wd=()=>{g.then(Za)}};var Za=()=>{for(var g;g=ft();){try{g.h.call(g.g)}catch(X){Lt(X)}var k=lu;k.j(g),100>k.h&&(k.h++,g.next=k.g,k.g=g)}Gd=!1};function el(){this.s=this.s,this.C=this.C}function ls(g,k){this.type=g,this.g=this.target=k,this.defaultPrevented=!1}el.prototype.s=!1,el.prototype.ma=function(){this.s||(this.s=!0,this.N())},el.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ls.prototype.h=function(){this.defaultPrevented=!0};var U_=function(){if(!w.addEventListener||!Object.defineProperty)return!1;var g=!1,k=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const X=()=>{};w.addEventListener("test",X,k),w.removeEventListener("test",X,k)}catch{}return g}();function Zu(g,k){if(ls.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var X=this.type=g.type,Ce=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=k,k=g.relatedTarget){if(li){e:{try{xr(k.nodeName);var Rt=!0;break e}catch{}Rt=!1}Rt||(k=null)}}else"mouseover"==X?k=g.fromElement:"mouseout"==X&&(k=g.toElement);this.relatedTarget=k,Ce?(this.clientX=void 0!==Ce.clientX?Ce.clientX:Ce.pageX,this.clientY=void 0!==Ce.clientY?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:xv[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Zu.aa.h.call(this)}}cn(Zu,ls);var xv={2:"touch",3:"pen",4:"mouse"};Zu.prototype.h=function(){Zu.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),Ug=0;function uC(g,k,X,Ce,Rt){this.listener=g,this.proxy=null,this.src=k,this.type=X,this.capture=!!Ce,this.ha=Rt,this.key=++Ug,this.da=this.fa=!1}function Kd(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function qd(g){this.src=g,this.g={},this.h=0}function Of(g,k){var X=k.type;if(X in g.g){var Gt,Ce=g.g[X],Rt=Array.prototype.indexOf.call(Ce,k,void 0);(Gt=0<=Rt)&&Array.prototype.splice.call(Ce,Rt,1),Gt&&(Kd(k),0==g.g[X].length&&(delete g.g[X],g.h--))}}function ed(g,k,X,Ce){for(var Rt=0;Rt<g.length;++Rt){var Gt=g[Rt];if(!Gt.da&&Gt.listener==k&&Gt.capture==!!X&&Gt.ha==Ce)return Rt}return-1}qd.prototype.add=function(g,k,X,Ce,Rt){var Gt=g.toString();(g=this.g[Gt])||(g=this.g[Gt]=[],this.h++);var Mn=ed(g,k,Ce,Rt);return-1<Mn?(k=g[Mn],X||(k.fa=!1)):((k=new uC(k,this.src,Gt,!!Ce,Rt)).fa=X,g.push(k)),k};var Xd="closure_lm_"+(1e6*Math.random()|0),Da={};function Ov(g,k,X,Ce,Rt){if(Ce&&Ce.once)return kv(g,k,X,Ce,Rt);if(Array.isArray(k)){for(var Gt=0;Gt<k.length;Gt++)Ov(g,k[Gt],X,Ce,Rt);return null}return X=kf(X),g&&g[Ec]?g.K(k,X,q(Ce)?!!Ce.capture:!!Ce,Rt):Nv(g,k,X,!1,Ce,Rt)}function Nv(g,k,X,Ce,Rt,Gt){if(!k)throw Error("Invalid event type");var Mn=q(Rt)?!!Rt.capture:!!Rt,ki=Yd(g);if(ki||(g[Xd]=ki=new qd(g)),(X=ki.add(k,X,Ce,Mn,Gt)).proxy)return X;if(Ce=function $g(){const k=Qd;return function g(X){return k.call(g.src,g.listener,X)}}(),X.proxy=Ce,Ce.src=g,Ce.listener=X,g.addEventListener)U_||(Rt=Mn),void 0===Rt&&(Rt=!1),g.addEventListener(k.toString(),Ce,Rt);else if(g.attachEvent)g.attachEvent(cu(k.toString()),Ce);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(Ce)}return X}function kv(g,k,X,Ce,Rt){if(Array.isArray(k)){for(var Gt=0;Gt<k.length;Gt++)kv(g,k[Gt],X,Ce,Rt);return null}return X=kf(X),g&&g[Ec]?g.L(k,X,q(Ce)?!!Ce.capture:!!Ce,Rt):Nv(g,k,X,!0,Ce,Rt)}function td(g,k,X,Ce,Rt){if(Array.isArray(k))for(var Gt=0;Gt<k.length;Gt++)td(g,k[Gt],X,Ce,Rt);else Ce=q(Ce)?!!Ce.capture:!!Ce,X=kf(X),g&&g[Ec]?(g=g.i,(k=String(k).toString())in g.g&&-1<(X=ed(Gt=g.g[k],X,Ce,Rt))&&(Kd(Gt[X]),Array.prototype.splice.call(Gt,X,1),0==Gt.length&&(delete g.g[k],g.h--))):g&&(g=Yd(g))&&(k=g.g[k.toString()],g=-1,k&&(g=ed(k,X,Ce,Rt)),(X=-1<g?k[g]:null)&&Nf(X))}function Nf(g){if("number"!=typeof g&&g&&!g.da){var k=g.src;if(k&&k[Ec])Of(k.i,g);else{var X=g.type,Ce=g.proxy;k.removeEventListener?k.removeEventListener(X,Ce,g.capture):k.detachEvent?k.detachEvent(cu(X),Ce):k.addListener&&k.removeListener&&k.removeListener(Ce),(X=Yd(k))?(Of(X,g),0==X.h&&(X.src=null,k[Xd]=null)):Kd(g)}}}function cu(g){return g in Da?Da[g]:Da[g]="on"+g}function Qd(g,k){if(g.da)g=!0;else{k=new Zu(k,this);var X=g.listener,Ce=g.ha||g.src;g.fa&&Nf(g),g=X.call(Ce,k)}return g}function Yd(g){return(g=g[Xd])instanceof qd?g:null}var uu="__closure_events_fn_"+(1e9*Math.random()>>>0);function kf(g){return"function"==typeof g?g:(g[uu]||(g[uu]=function(k){return g.handleEvent(k)}),g[uu])}function Xo(){el.call(this),this.i=new qd(this),this.M=this,this.F=null}function Is(g,k){var X,Ce=g.F;if(Ce)for(X=[];Ce;Ce=Ce.F)X.push(Ce);if(g=g.M,Ce=k.type||k,"string"==typeof k)k=new ls(k,g);else if(k instanceof ls)k.target=k.target||g;else{var Rt=k;bt(k=new ls(Ce,g),Rt)}if(Rt=!0,X)for(var Gt=X.length-1;0<=Gt;Gt--){var Mn=k.g=X[Gt];Rt=Ff(Mn,Ce,!0,k)&&Rt}if(Rt=Ff(Mn=k.g=g,Ce,!0,k)&&Rt,Rt=Ff(Mn,Ce,!1,k)&&Rt,X)for(Gt=0;Gt<X.length;Gt++)Rt=Ff(Mn=k.g=X[Gt],Ce,!1,k)&&Rt}function Ff(g,k,X,Ce){if(!(k=g.i.g[String(k)]))return!0;k=k.concat();for(var Rt=!0,Gt=0;Gt<k.length;++Gt){var Mn=k[Gt];if(Mn&&!Mn.da&&Mn.capture==X){var ki=Mn.listener,$o=Mn.ha||Mn.src;Mn.fa&&Of(g.i,Mn),Rt=!1!==ki.call($o,Ce)&&Rt}}return Rt&&!Ce.defaultPrevented}function Fv(g,k,X){if("function"==typeof g)X&&(g=at(g,X));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=at(g.handleEvent,g)}return 2147483647<Number(k)?-1:w.setTimeout(g,k||0)}function Lv(g){g.g=Fv(()=>{g.g=null,g.i&&(g.i=!1,Lv(g))},g.l);const k=g.h;g.h=null,g.m.apply(null,k)}cn(Xo,el),Xo.prototype[Ec]=!0,Xo.prototype.removeEventListener=function(g,k,X,Ce){td(this,g,k,X,Ce)},Xo.prototype.N=function(){if(Xo.aa.N.call(this),this.i){var k,g=this.i;for(k in g.g){for(var X=g.g[k],Ce=0;Ce<X.length;Ce++)Kd(X[Ce]);delete g.g[k],g.h--}}this.F=null},Xo.prototype.K=function(g,k,X,Ce){return this.i.add(String(g),k,!1,X,Ce)},Xo.prototype.L=function(g,k,X,Ce){return this.i.add(String(g),k,!0,X,Ce)};class Vv extends el{constructor(k,X){super(),this.m=k,this.l=X,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Lv(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cc(g){el.call(this),this.h=g,this.g={}}cn(Cc,el);var Uv=[];function $_(g){Kr(g.g,function(k,X){this.g.hasOwnProperty(X)&&Nf(k)},g),g.g={}}Cc.prototype.N=function(){Cc.aa.N.call(this),$_(this)},Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bg=w.JSON.stringify,B_=w.JSON.parse,$v=class{stringify(g){return w.JSON.stringify(g,void 0)}parse(g){return w.JSON.parse(g,void 0)}};function jg(){}function zg(){}jg.prototype.h=null;var du={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){ls.call(this,"d")}function hu(){ls.call(this,"c")}cn(Lf,ls),cn(hu,ls);var Aa={},nd=null;function Vf(){return nd=nd||new Xo}function jv(g){ls.call(this,Aa.La,g)}function Jd(g){const k=Vf();Is(k,new jv(k))}function Zd(g,k){ls.call(this,Aa.STAT_EVENT,g),this.stat=k}function Qo(g){const k=Vf();Is(k,new Zd(k,g))}function zv(g,k){ls.call(this,Aa.Ma,g),this.size=k}function Uf(g,k){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){g()},k)}function $f(){this.g=!0}function eh(g,k,X,Ce){g.info(function(){return"XMLHTTP TEXT ("+k+"): "+function dC(g,k){if(!g.g)return k;if(!k)return null;try{var X=JSON.parse(k);if(X)for(g=0;g<X.length;g++)if(Array.isArray(X[g])){var Ce=X[g];if(!(2>Ce.length)){var Rt=Ce[1];if(Array.isArray(Rt)&&!(1>Rt.length)){var Gt=Rt[0];if("noop"!=Gt&&"stop"!=Gt&&"close"!=Gt)for(var Mn=1;Mn<Rt.length;Mn++)Rt[Mn]=""}}}return Bg(X)}catch{return k}}(g,X)+(Ce?" "+Ce:"")})}Aa.La="serverreachability",cn(jv,ls),Aa.STAT_EVENT="statevent",cn(Zd,ls),Aa.Ma="timingevent",cn(zv,ls),$f.prototype.xa=function(){this.g=!1},$f.prototype.info=function(){};var Hg,Bf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function rd(){}function sa(g,k,X,Ce){this.j=g,this.i=k,this.l=X,this.R=Ce||1,this.U=new Cc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jf}function jf(){this.i=null,this.g="",this.h=!1}cn(rd,jg),rd.prototype.g=function(){return new XMLHttpRequest},rd.prototype.i=function(){return{}},Hg=new rd;var th={},zf={};function fu(g,k,X){g.L=1,g.v=qf(nl(k)),g.m=X,g.P=!0,Wg(g,null)}function Wg(g,k){g.F=Date.now(),rh(g),g.A=nl(g.v);var X=g.A,Ce=g.R;Array.isArray(Ce)||(Ce=[String(Ce)]),ny(X.i,"t",Ce),g.C=0,X=g.j.J,g.h=new jf,g.g=hy(g.j,X?k:null,!g.m),0<g.O&&(g.M=new Vv(at(g.Y,g,g.g),g.O)),k=g.U,X=g.g,Ce=g.ca;var Rt="readystatechange";Array.isArray(Rt)||(Rt&&(Uv[0]=Rt.toString()),Rt=Uv);for(var Gt=0;Gt<Rt.length;Gt++){var Mn=Ov(X,Rt[Gt],Ce||k.handleEvent,!1,k.h||k);if(!Mn)break;k.g[Mn.key]=Mn}k=g.H?Qe(g.H):{},g.m?(g.u||(g.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,k)):(g.u="GET",g.g.ea(g.A,g.u,null,k)),Jd(),function j_(g,k,X,Ce,Rt,Gt){g.info(function(){if(g.g)if(Gt)for(var Mn="",ki=Gt.split("&"),$o=0;$o<ki.length;$o++){var ni=ki[$o].split("=");if(1<ni.length){var Yo=ni[0];ni=ni[1];var Jo=Yo.split("_");Mn=2<=Jo.length&&"type"==Jo[1]?Mn+(Yo+"=")+ni+"&":Mn+(Yo+"=redacted&")}}else Mn=null;else Mn=Gt;return"XMLHTTP REQ ("+Ce+") [attempt "+Rt+"]: "+k+"\n"+X+"\n"+Mn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function Wv(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function nh(g,k){var X=g.C,Ce=k.indexOf("\n",X);return-1==Ce?zf:(X=Number(k.substring(X,Ce)),isNaN(X)?th:(Ce+=1)+X>k.length?zf:(k=k.slice(Ce,Ce+X),g.C=Ce+X,k))}function rh(g){g.S=Date.now()+g.I,Gv(g,g.I)}function Gv(g,k){if(null!=g.B)throw Error("WatchDog timer not null");g.B=Uf(at(g.ba,g),k)}function Hf(g){g.B&&(w.clearTimeout(g.B),g.B=null)}function ih(g){0==g.j.G||g.J||em(g.j,g)}function tl(g){Hf(g);var k=g.M;k&&"function"==typeof k.ma&&k.ma(),g.M=null,$_(g.U),g.g&&(k=g.g,g.g=null,k.abort(),k.ma())}function Gg(g,k){try{var X=g.j;if(0!=X.G&&(X.g==g||oh(X.h,g)))if(!g.K&&oh(X.h,g)&&3==X.G){try{var Ce=X.Da.g.parse(k)}catch{Ce=null}if(Array.isArray(Ce)&&3==Ce.length){var Rt=Ce;if(0==Rt[0]){e:if(!X.u){if(X.g){if(!(X.g.F+3e3<g.F))break e;uh(X),vu(X)}_u(X),Qo(18)}}else X.za=Rt[1],0<X.za-X.T&&37500>Rt[2]&&X.F&&0==X.v&&!X.C&&(X.C=Uf(at(X.Za,X),6e3));if(1>=Xv(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else al(X,11)}else if((g.K||X.g==g)&&uh(X),!fr(k))for(Rt=X.Da.g.parse(k),k=0;k<Rt.length;k++){let ni=Rt[k];if(X.T=ni[0],ni=ni[1],2==X.G)if("c"==ni[0]){X.K=ni[1],X.ia=ni[2];const Yo=ni[3];null!=Yo&&(X.la=Yo,X.j.info("VER="+X.la));const Jo=ni[4];null!=Jo&&(X.Aa=Jo,X.j.info("SVER="+X.Aa));const ad=ni[5];null!=ad&&"number"==typeof ad&&0<ad&&(X.L=Ce=1.5*ad,X.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=X;const Ta=g.g;if(Ta){const tp=Ta.g?Ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tp){var Gt=Ce.h;Gt.g||-1==tp.indexOf("spdy")&&-1==tp.indexOf("quic")&&-1==tp.indexOf("h2")||(Gt.j=Gt.l,Gt.g=new Set,Gt.h&&(pu(Gt,Gt.h),Gt.h=null))}if(Ce.D){const dh=Ta.g?Ta.g.getResponseHeader("X-HTTP-Session-Id"):null;dh&&(Ce.ya=dh,zi(Ce.I,Ce.D,dh))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-g.F,X.j.info("Handshake RTT: "+X.R+"ms"));var Mn=g;if((Ce=X).qa=dy(Ce,Ce.J?Ce.ia:null,Ce.W),Mn.K){Qv(Ce.h,Mn);var ki=Mn,$o=Ce.L;$o&&(ki.I=$o),ki.B&&(Hf(ki),rh(ki)),Ce.g=Mn}else Bl(Ce);0<X.i.length&&wc(X)}else"stop"!=ni[0]&&"close"!=ni[0]||al(X,7);else 3==X.G&&("stop"==ni[0]||"close"==ni[0]?"stop"==ni[0]?al(X,7):sl(X):"noop"!=ni[0]&&X.l&&X.l.ta(ni),X.v=0)}Jd()}catch{}}sa.prototype.ca=function(g){g=g.target;const k=this.M;k&&3==ol(g)?k.j():this.Y(g)},sa.prototype.Y=function(g){try{if(g==this.g)e:{const Jo=ol(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Jo)&&(3!=Jo||this.g&&(this.h.h||this.g.oa()||Yg(this.g)))){this.J||4!=Jo||7==k||Jd(),Hf(this);var X=this.g.Z();this.X=X;t:if(Wv(this)){var Ce=Yg(this.g);g="";var Rt=Ce.length,Gt=4==ol(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),ih(this);var Mn="";break t}this.h.i=new w.TextDecoder}for(k=0;k<Rt;k++)this.h.h=!0,g+=this.h.i.decode(Ce[k],{stream:!(Gt&&k==Rt-1)});Ce.length=0,this.h.g+=g,this.C=0,Mn=this.h.g}else Mn=this.g.oa();if(this.o=200==X,function z_(g,k,X,Ce,Rt,Gt,Mn){g.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+Rt+"]: "+k+"\n"+X+"\n"+Gt+" "+Mn})}(this.i,this.u,this.A,this.l,this.R,Jo,X),this.o){if(this.T&&!this.K){t:{if(this.g){var ki,$o=this.g;if((ki=$o.g?$o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(ki)){var ni=ki;break t}}ni=null}if(!(X=ni)){this.o=!1,this.s=3,Qo(12),tl(this),ih(this);break e}eh(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,X)}if(this.P){let Ta;for(X=!0;!this.J&&this.C<Mn.length;){if(Ta=nh(this,Mn),Ta==zf){4==Jo&&(this.s=4,Qo(14),X=!1),eh(this.i,this.l,null,"[Incomplete Response]");break}if(Ta==th){this.s=4,Qo(15),eh(this.i,this.l,Mn,"[Invalid Chunk]"),X=!1;break}eh(this.i,this.l,Ta,null),Gg(this,Ta)}if(Wv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Jo||0!=Mn.length||this.h.h||(this.s=1,Qo(16),X=!1),this.o=this.o&&X,X){if(0<Mn.length&&!this.W){this.W=!0;var Yo=this.j;Yo.g==this&&Yo.ba&&!Yo.M&&(Yo.j.info("Great, no buffering proxy detected. Bytes received: "+Mn.length),cy(Yo),Yo.M=!0,Qo(11))}}else eh(this.i,this.l,Mn,"[Invalid Chunked Response]"),tl(this),ih(this)}else eh(this.i,this.l,Mn,null),Gg(this,Mn);4==Jo&&tl(this),this.o&&!this.J&&(4==Jo?em(this.j,this):(this.o=!1,rh(this)))}else(function ay(g){const k={};g=(g.g&&2<=ol(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let Ce=0;Ce<g.length;Ce++){if(fr(g[Ce]))continue;var X=St(g[Ce]);const Rt=X[0];if("string"!=typeof(X=X[1]))continue;X=X.trim();const Gt=k[Rt]||[];k[Rt]=Gt,Gt.push(X)}!function Dt(g,k){for(const X in g)k.call(void 0,g[X],X,g)}(k,function(Ce){return Ce.join(", ")})})(this.g),400==X&&0<Mn.indexOf("Unknown SID")?(this.s=3,Qo(12)):(this.s=0,Qo(13)),tl(this),ih(this)}}}catch{}},sa.prototype.cancel=function(){this.J=!0,tl(this)},sa.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function H_(g,k){g.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(Jd(),Qo(17)),tl(this),this.s=2,ih(this)):Gv(this,this.S-g)};var W_=class{constructor(g,k){this.g=g,this.map=k}};function Kv(g){this.l=g||10,g=w.PerformanceNavigationTiming?0<(g=w.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function Xv(g){return g.h?1:g.g?g.g.size:0}function oh(g,k){return g.h?g.h==k:!!g.g&&g.g.has(k)}function pu(g,k){g.g?g.g.add(k):g.h=k}function Qv(g,k){g.h&&g.h==k?g.h=null:g.g&&g.g.has(k)&&g.g.delete(k)}function sh(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let k=g.i;for(const X of g.g.values())k=k.concat(X.D);return k}return In(g.i)}function Yv(g,k){if(g.forEach&&"function"==typeof g.forEach)g.forEach(k,void 0);else if(N(g)||"string"==typeof g)Array.prototype.forEach.call(g,k,void 0);else for(var X=function hC(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(N(g)||"string"==typeof g){var k=[];g=g.length;for(var X=0;X<g;X++)k.push(X);return k}k=[],X=0;for(const Ce in g)k[X++]=Ce;return k}}}(g),Ce=function Wf(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(N(g)){for(var k=[],X=g.length,Ce=0;Ce<X;Ce++)k.push(g[Ce]);return k}for(Ce in k=[],X=0,g)k[X++]=g[Ce];return k}(g),Rt=Ce.length,Gt=0;Gt<Rt;Gt++)k.call(void 0,Ce[Gt],X&&X[Gt],g)}Kv.prototype.cancel=function(){if(this.i=sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var Jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gu(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof gu){this.h=g.h,Gf(this,g.j),this.o=g.o,this.g=g.g,Kf(this,g.s),this.l=g.l;var k=g.i,X=new Dc;X.i=k.i,k.g&&(X.g=new Map(k.g),X.h=k.h),qg(this,X),this.m=g.m}else g&&(k=String(g).match(Jv))?(this.h=!1,Gf(this,k[1]||"",!0),this.o=rl(k[2]||""),this.g=rl(k[3]||"",!0),Kf(this,k[4]),this.l=rl(k[5]||"",!0),qg(this,k[6]||"",!0),this.m=rl(k[7]||"")):(this.h=!1,this.i=new Dc(null,this.h))}function nl(g){return new gu(g)}function Gf(g,k,X){g.j=X?rl(k,!0):k,g.j&&(g.j=g.j.replace(/:$/,""))}function Kf(g,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);g.s=k}else g.s=null}function qg(g,k,X){k instanceof Dc?(g.i=k,function pC(g,k){k&&!g.j&&(Vl(g),g.i=null,g.g.forEach(function(X,Ce){var Rt=Ce.toLowerCase();Ce!=Rt&&(ey(this,Ce),ny(this,Rt,X))},g)),g.j=k}(g.i,g.h)):(X||(k=mu(k,fC)),g.i=new Dc(k,g.h))}function zi(g,k,X){g.i.set(k,X)}function qf(g){return zi(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function rl(g,k){return g?k?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function mu(g,k,X){return"string"==typeof g?(g=encodeURI(g).replace(k,G_),X&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function G_(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}gu.prototype.toString=function(){var g=[],k=this.j;k&&g.push(mu(k,Xg,!0),":");var X=this.g;return(X||"file"==k)&&(g.push("//"),(k=this.o)&&g.push(mu(k,Xg,!0),"@"),g.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(X=this.s)&&g.push(":",String(X))),(X=this.l)&&(this.g&&"/"!=X.charAt(0)&&g.push("/"),g.push(mu(X,"/"==X.charAt(0)?Zv:K_,!0))),(X=this.i.toString())&&g.push("?",X),(X=this.m)&&g.push("#",mu(X,q_)),g.join("")};var Xg=/[#\/\?@]/g,K_=/[#\?:]/g,Zv=/[#\?]/g,fC=/[#\?@]/g,q_=/#/g;function Dc(g,k){this.h=this.g=null,this.i=g||null,this.j=!!k}function Vl(g){g.g||(g.g=new Map,g.h=0,g.i&&function Kg(g,k){if(g){g=g.split("&");for(var X=0;X<g.length;X++){var Ce=g[X].indexOf("="),Rt=null;if(0<=Ce){var Gt=g[X].substring(0,Ce);Rt=g[X].substring(Ce+1)}else Gt=g[X];k(Gt,Rt?decodeURIComponent(Rt.replace(/\+/g," ")):"")}}}(g.i,function(k,X){g.add(decodeURIComponent(k.replace(/\+/g," ")),X)}))}function ey(g,k){Vl(g),k=Ac(g,k),g.g.has(k)&&(g.i=null,g.h-=g.g.get(k).length,g.g.delete(k))}function ty(g,k){return Vl(g),k=Ac(g,k),g.g.has(k)}function ny(g,k,X){ey(g,k),0<X.length&&(g.i=null,g.g.set(Ac(g,k),In(X)),g.h+=X.length)}function Ac(g,k){return k=String(k),g.j&&(k=k.toLowerCase()),k}function Ul(g,k,X,Ce,Rt){try{Rt&&(Rt.onload=null,Rt.onerror=null,Rt.onabort=null,Rt.ontimeout=null),Ce(X)}catch{}}function X_(){this.g=new $v}function gC(g,k,X){const Ce=X||"";try{Yv(g,function(Rt,Gt){let Mn=Rt;q(Rt)&&(Mn=Bg(Rt)),k.push(Ce+Gt+"="+encodeURIComponent(Mn))})}catch(Rt){throw k.push(Ce+"type="+encodeURIComponent("_badmap")),Rt}}function Ki(g){this.l=g.Ub||null,this.j=g.eb||!1}function Xf(g,k){Xo.call(this),this.D=g,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Qf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function ah(g){g.readyState=4,g.l=null,g.j=null,g.v=null,lh(g)}function lh(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Yf(g){let k="";return Kr(g,function(X,Ce){k+=Ce,k+=":",k+=X,k+="\r\n"}),k}function Jf(g,k,X){e:{for(Ce in X){var Ce=!1;break e}Ce=!0}Ce||(X=Yf(X),"string"==typeof g?null!=X&&encodeURIComponent(String(X)):zi(g,k,X))}function to(g){Xo.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=Dc.prototype).add=function(g,k){Vl(this),this.i=null,g=Ac(this,g);var X=this.g.get(g);return X||this.g.set(g,X=[]),X.push(k),this.h+=1,this},c.forEach=function(g,k){Vl(this),this.g.forEach(function(X,Ce){X.forEach(function(Rt){g.call(k,Rt,Ce,this)},this)},this)},c.na=function(){Vl(this);const g=Array.from(this.g.values()),k=Array.from(this.g.keys()),X=[];for(let Ce=0;Ce<k.length;Ce++){const Rt=g[Ce];for(let Gt=0;Gt<Rt.length;Gt++)X.push(k[Ce])}return X},c.V=function(g){Vl(this);let k=[];if("string"==typeof g)ty(this,g)&&(k=k.concat(this.g.get(Ac(this,g))));else{g=Array.from(this.g.values());for(let X=0;X<g.length;X++)k=k.concat(g[X])}return k},c.set=function(g,k){return Vl(this),this.i=null,ty(this,g=Ac(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[k]),this.h+=1,this},c.get=function(g,k){return g&&0<(g=this.V(g)).length?String(g[0]):k},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],k=Array.from(this.g.keys());for(var X=0;X<k.length;X++){var Ce=k[X];const Gt=encodeURIComponent(String(Ce)),Mn=this.V(Ce);for(Ce=0;Ce<Mn.length;Ce++){var Rt=Gt;""!==Mn[Ce]&&(Rt+="="+encodeURIComponent(String(Mn[Ce]))),g.push(Rt)}}return this.i=g.join("&")},cn(Ki,jg),Ki.prototype.g=function(){return new Xf(this.l,this.j)},Ki.prototype.i=function(g){return function(){return g}}({}),cn(Xf,Xo),(c=Xf.prototype).open=function(g,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=k,this.readyState=1,lh(this)},c.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(k.body=g),(this.D||w).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=0},c.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var k=g.value?g.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!g.done}))&&(this.response=this.responseText+=k)}g.done?ah(this):lh(this),3==this.readyState&&Qf(this)}},c.Ra=function(g){this.g&&(this.response=this.responseText=g,ah(this))},c.Qa=function(g){this.g&&(this.response=g,ah(this))},c.ga=function(){this.g&&ah(this)},c.setRequestHeader=function(g,k){this.u.append(g,k)},c.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],k=this.h.entries();for(var X=k.next();!X.done;)g.push((X=X.value)[0]+": "+X[1]),X=k.next();return g.join("\r\n")},Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),cn(to,Xo);var iy=/^https?$/i,Q_=["POST","PUT"];function oy(g,k){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=k,g.m=5,Tc(g),id(g)}function Tc(g){g.A||(g.A=!0,Is(g,"complete"),Is(g,"error"))}function Qg(g){if(g.h&&typeof v<"u"&&(!g.v[1]||4!=ol(g)||2!=g.Z()))if(g.u&&4==ol(g))Fv(g.Ea,0,g);else if(Is(g,"readystatechange"),4==ol(g)){g.h=!1;try{const Mn=g.Z();e:switch(Mn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var X;if(!(X=k)){var Ce;if(Ce=0===Mn){var Rt=String(g.D).match(Jv)[1]||null;!Rt&&w.self&&w.self.location&&(Rt=w.self.location.protocol.slice(0,-1)),Ce=!iy.test(Rt?Rt.toLowerCase():"")}X=Ce}if(X)Is(g,"complete"),Is(g,"success");else{g.m=6;try{var Gt=2<ol(g)?g.g.statusText:""}catch{Gt=""}g.l=Gt+" ["+g.Z()+"]",Tc(g)}}finally{id(g)}}}function id(g,k){if(g.g){sy(g);const X=g.g,Ce=g.v[0]?()=>{}:null;g.g=null,g.v=null,k||Is(g,"ready");try{X.onreadystatechange=Ce}catch{}}}function sy(g){g.I&&(w.clearTimeout(g.I),g.I=null)}function ol(g){return g.g?g.g.readyState:0}function Yg(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $l(g,k,X){return X&&X.internalChannelParams&&X.internalChannelParams[g]||k}function Zf(g){this.Aa=0,this.i=[],this.j=new $f,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$l("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$l("baseRetryDelayMs",5e3,g),this.cb=$l("retryDelaySeedMs",1e4,g),this.Wa=$l("forwardChannelMaxRetries",2,g),this.wa=$l("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Kv(g&&g.concurrentRequestLimit),this.Da=new X_,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sl(g){if(Jg(g),3==g.G){var k=g.U++,X=nl(g.I);if(zi(X,"SID",g.K),zi(X,"RID",k),zi(X,"TYPE","terminate"),yu(g,X),(k=new sa(g,g.j,k)).L=2,k.v=qf(nl(X)),X=!1,w.navigator&&w.navigator.sendBeacon)try{X=w.navigator.sendBeacon(k.v.toString(),"")}catch{}!X&&w.Image&&((new Image).src=k.v,X=!0),X||(k.g=hy(k.j,null),k.g.ea(k.v)),k.F=Date.now(),rh(k)}od(g)}function vu(g){g.g&&(cy(g),g.g.cancel(),g.g=null)}function Jg(g){vu(g),g.u&&(w.clearTimeout(g.u),g.u=null),uh(g),g.h.cancel(),g.s&&("number"==typeof g.s&&w.clearTimeout(g.s),g.s=null)}function wc(g){if(!qv(g.h)&&!g.s){g.s=!0;var k=g.Ga;Wd||Mv(),Gd||(Wd(),Gd=!0),Vg.add(k,g),g.B=0}}function ly(g,k){var X;X=k?k.l:g.U++;const Ce=nl(g.I);zi(Ce,"SID",g.K),zi(Ce,"RID",X),zi(Ce,"AID",g.T),yu(g,Ce),g.m&&g.o&&Jf(Ce,g.m,g.o),X=new sa(g,g.j,X,g.B+1),null===g.m&&(X.H=g.o),k&&(g.i=k.D.concat(g.i)),k=Zg(g,X,1e3),X.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),pu(g.h,X),fu(X,Ce,k)}function yu(g,k){g.H&&Kr(g.H,function(X,Ce){zi(k,Ce,X)}),g.l&&Yv({},function(X,Ce){zi(k,Ce,X)})}function Zg(g,k,X){X=Math.min(g.i.length,X);var Ce=g.l?at(g.l.Na,g.l,g):null;e:{var Rt=g.i;let Gt=-1;for(;;){const Mn=["count="+X];-1==Gt?0<X?(Gt=Rt[0].g,Mn.push("ofs="+Gt)):Gt=0:Mn.push("ofs="+Gt);let ki=!0;for(let $o=0;$o<X;$o++){let ni=Rt[$o].g;const Yo=Rt[$o].map;if(ni-=Gt,0>ni)Gt=Math.max(0,Rt[$o].g-100),ki=!1;else try{gC(Yo,Mn,"req"+ni+"_")}catch{Ce&&Ce(Yo)}}if(ki){Ce=Mn.join("&");break e}}}return g=g.i.splice(0,X),k.D=g,Ce}function Bl(g){if(!g.g&&!g.u){g.Y=1;var k=g.Fa;Wd||Mv(),Gd||(Wd(),Gd=!0),Vg.add(k,g),g.v=0}}function _u(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=Uf(at(g.Fa,g),uy(g,g.v)),g.v++,0))}function cy(g){null!=g.A&&(w.clearTimeout(g.A),g.A=null)}function ch(g){g.g=new sa(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var k=nl(g.qa);zi(k,"RID","rpc"),zi(k,"SID",g.K),zi(k,"AID",g.T),zi(k,"CI",g.F?"0":"1"),!g.F&&g.ja&&zi(k,"TO",g.ja),zi(k,"TYPE","xmlhttp"),yu(g,k),g.m&&g.o&&Jf(k,g.m,g.o),g.L&&(g.g.I=g.L);var X=g.g;g=g.ia,X.L=1,X.v=qf(nl(k)),X.m=null,X.P=!0,Wg(X,g)}function uh(g){null!=g.C&&(w.clearTimeout(g.C),g.C=null)}function em(g,k){var X=null;if(g.g==k){uh(g),cy(g),g.g=null;var Ce=2}else{if(!oh(g.h,k))return;X=k.D,Qv(g.h,k),Ce=1}if(0!=g.G)if(k.o)if(1==Ce){X=k.m?k.m.length:0,k=Date.now()-k.F;var Rt=g.B;Is(Ce=Vf(),new zv(Ce,X)),wc(g)}else Bl(g);else if(3==(Rt=k.s)||0==Rt&&0<k.X||!(1==Ce&&function Y_(g,k){return!(Xv(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=k.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=Uf(at(g.Ga,g,k),uy(g,g.B)),g.B++,0)))}(g,k)||2==Ce&&_u(g)))switch(X&&0<X.length&&(k=g.h,k.i=k.i.concat(X)),Rt){case 1:al(g,5);break;case 4:al(g,10);break;case 3:al(g,6);break;default:al(g,2)}}function uy(g,k){let X=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(X*=2),X*k}function al(g,k){if(g.j.info("Error code "+k),2==k){var X=at(g.fb,g),Ce=g.Xa;const Rt=!Ce;Ce=new gu(Ce||"//www.google.com/images/cleardot.gif"),w.location&&"http"==w.location.protocol||Gf(Ce,"https"),qf(Ce),Rt?function ry(g,k){const X=new $f;if(w.Image){const Ce=new Image;Ce.onload=Ot(Ul,X,"TestLoadImage: loaded",!0,k,Ce),Ce.onerror=Ot(Ul,X,"TestLoadImage: error",!1,k,Ce),Ce.onabort=Ot(Ul,X,"TestLoadImage: abort",!1,k,Ce),Ce.ontimeout=Ot(Ul,X,"TestLoadImage: timeout",!1,k,Ce),w.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=g}else k(!1)}(Ce.toString(),X):function il(g,k){new $f;const Ce=new AbortController,Rt=setTimeout(()=>{Ce.abort(),Ul(0,0,!1,k)},1e4);fetch(g,{signal:Ce.signal}).then(Gt=>{clearTimeout(Rt),Ul(0,0,!!Gt.ok,k)}).catch(()=>{clearTimeout(Rt),Ul(0,0,!1,k)})}(Ce.toString(),X)}else Qo(2);g.G=0,g.l&&g.l.sa(k),od(g),Jg(g)}function od(g){if(g.G=0,g.ka=[],g.l){const k=sh(g.h);(0!=k.length||0!=g.i.length)&&(pn(g.ka,k),pn(g.ka,g.i),g.h.i.length=0,In(g.i),g.i.length=0),g.l.ra()}}function dy(g,k,X){var Ce=X instanceof gu?nl(X):new gu(X);if(""!=Ce.g)k&&(Ce.g=k+"."+Ce.g),Kf(Ce,Ce.s);else{var Rt=w.location;Ce=Rt.protocol,k=k?k+"."+Rt.hostname:Rt.hostname,Rt=+Rt.port;var Gt=new gu(null);Ce&&Gf(Gt,Ce),k&&(Gt.g=k),Rt&&Kf(Gt,Rt),X&&(Gt.l=X),Ce=Gt}return k=g.ya,(X=g.D)&&k&&zi(Ce,X,k),zi(Ce,"VER",g.la),yu(g,Ce),Ce}function hy(g,k,X){if(k&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new to(g.Ca&&!g.pa?new Ki({eb:X}):g.pa)).Ha(g.J),k}function fy(){}function ep(){}function Ws(g,k){Xo.call(this),this.g=new Zf(k),this.l=g,this.h=k&&k.messageUrlParams||null,g=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(g?g["X-WebChannel-Content-Type"]=k.messageContentType:g={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(g?g["X-WebChannel-Client-Profile"]=k.va:g={"X-WebChannel-Client-Profile":k.va}),this.g.S=g,(g=k&&k.Sb)&&!fr(g)&&(this.g.m=g),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!fr(k)&&(this.g.D=k,null!==(g=this.h)&&k in g&&k in(g=this.h)&&delete g[k]),this.j=new sd(this)}function py(g){Lf.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var k=g.__sm__;if(k){e:{for(const X in k){g=X;break e}g=void 0}(this.i=g)&&(g=this.i,k=null!==k&&g in k?k[g]:void 0),this.data=k}else this.data=g}function gy(){hu.call(this),this.status=1}function sd(g){this.g=g}(c=to.prototype).Ha=function(g){this.J=g},c.ea=function(g,k,X,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);k=k?k.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hg.g(),this.v=function Bv(g){return g.h||(g.h=g.i())}(this.o?this.o:Hg),this.g.onreadystatechange=at(this.Ea,this);try{this.B=!0,this.g.open(k,String(g),!0),this.B=!1}catch(Gt){return void oy(this,Gt)}if(g=X||"",X=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var Rt in Ce)X.set(Rt,Ce[Rt]);else{if("function"!=typeof Ce.keys||"function"!=typeof Ce.get)throw Error("Unknown input type for opt_headers: "+String(Ce));for(const Gt of Ce.keys())X.set(Gt,Ce.get(Gt))}Ce=Array.from(X.keys()).find(Gt=>"content-type"==Gt.toLowerCase()),Rt=w.FormData&&g instanceof w.FormData,!(0<=Array.prototype.indexOf.call(Q_,k,void 0))||Ce||Rt||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Gt,Mn]of X)this.g.setRequestHeader(Gt,Mn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sy(this),this.u=!0,this.g.send(g),this.u=!1}catch(Gt){oy(this,Gt)}},c.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Is(this,"complete"),Is(this,"abort"),id(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),id(this,!0)),to.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Qg(this):this.bb())},c.bb=function(){Qg(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<ol(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(g){if(this.g){var k=this.g.responseText;return g&&0==k.indexOf(g)&&(k=k.substring(g.length)),B_(k)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Zf.prototype).la=8,c.G=1,c.connect=function(g,k,X,Ce){Qo(0),this.W=g,this.H=k||{},X&&void 0!==Ce&&(this.H.OSID=X,this.H.OAID=Ce),this.F=this.X,this.I=dy(this,null,this.W),wc(this)},c.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Rt=new sa(this,this.j,g);let Gt=this.o;if(this.S&&(Gt?(Gt=Qe(Gt),bt(Gt,this.S)):Gt=this.S),null!==this.m||this.O||(Rt.H=Gt,Gt=null),this.P)e:{for(var k=0,X=0;X<this.i.length;X++){var Ce=this.i[X];if(void 0===(Ce="__data__"in Ce.map&&"string"==typeof(Ce=Ce.map.__data__)?Ce.length:void 0))break;if(4096<(k+=Ce)){k=X;break e}if(4096===k||X===this.i.length-1){k=X+1;break e}}k=1e3}else k=1e3;k=Zg(this,Rt,k),zi(X=nl(this.I),"RID",g),zi(X,"CVER",22),this.D&&zi(X,"X-HTTP-Session-Id",this.D),yu(this,X),Gt&&(this.O?k="headers="+encodeURIComponent(String(Yf(Gt)))+"&"+k:this.m&&Jf(X,this.m,Gt)),pu(this.h,Rt),this.Ua&&zi(X,"TYPE","init"),this.P?(zi(X,"$req",k),zi(X,"SID","null"),Rt.T=!0,fu(Rt,X,null)):fu(Rt,X,k),this.G=2}}else 3==this.G&&(g?ly(this,g):0==this.i.length||qv(this.h)||ly(this))},c.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Uf(at(this.ab,this),g)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qo(10),vu(this),ch(this))},c.Za=function(){null!=this.C&&(this.C=null,vu(this),_u(this),Qo(19))},c.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Qo(2)):(this.j.info("Failed to ping google.com"),Qo(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=fy.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},ep.prototype.g=function(g,k){return new Ws(g,k)},cn(Ws,Xo),Ws.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ws.prototype.close=function(){sl(this.g)},Ws.prototype.o=function(g){var k=this.g;if("string"==typeof g){var X={};X.__data__=g,g=X}else this.u&&((X={}).__data__=Bg(g),g=X);k.i.push(new W_(k.Ya++,g)),3==k.G&&wc(k)},Ws.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Ws.aa.N.call(this)},cn(py,Lf),cn(gy,hu),cn(sd,fy),sd.prototype.ua=function(){Is(this.g,"a")},sd.prototype.ta=function(g){Is(this.g,new py(g))},sd.prototype.sa=function(g){Is(this.g,new gy)},sd.prototype.ra=function(){Is(this.g,"b")},ep.prototype.createWebChannel=ep.prototype.g,Ws.prototype.send=Ws.prototype.o,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,Ge=he.createWebChannelTransport=function(){return new ep},It=he.getStatEventTarget=function(){return Vf()},Be=he.Event=Aa,qe=he.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bf.NO_ERROR=0,Bf.TIMEOUT=8,Bf.HTTP_ERROR=6,et=he.ErrorCode=Bf,Hv.COMPLETE="complete",Xe=he.EventType=Hv,zg.EventType=du,du.OPEN="a",du.CLOSE="b",du.ERROR="c",du.MESSAGE="d",Xo.prototype.listen=Xo.prototype.K,ke=he.WebChannel=zg,Fe=he.FetchXmlHttpFactory=Ki,to.prototype.listenOnce=to.prototype.L,to.prototype.getLastError=to.prototype.Ka,to.prototype.getLastErrorCode=to.prototype.Ba,to.prototype.getStatus=to.prototype.Z,to.prototype.getResponseJson=to.prototype.Oa,to.prototype.getResponseText=to.prototype.oa,to.prototype.send=to.prototype.ea,to.prototype.setWithCredentials=to.prototype.Ha,Le=he.XhrIo=to}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});const tt="@firebase/firestore";class _e{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_e.UNAUTHENTICATED=new _e(null),_e.GOOGLE_CREDENTIALS=new _e("google-credentials-uid"),_e.FIRST_PARTY=new _e("first-party-uid"),_e.MOCK_USER=new _e("mock-user");let xe="10.12.1";const Pe=new le.Vy("@firebase/firestore");function lt(){return Pe.logLevel}function Ne(c){Pe.setLogLevel(c)}function me(c,...t){if(Pe.logLevel<=le.$b.DEBUG){const i=t.map(ot);Pe.debug(`Firestore (${xe}): ${c}`,...i)}}function Et(c,...t){if(Pe.logLevel<=le.$b.ERROR){const i=t.map(ot);Pe.error(`Firestore (${xe}): ${c}`,...i)}}function Ye(c,...t){if(Pe.logLevel<=le.$b.WARN){const i=t.map(ot);Pe.warn(`Firestore (${xe}): ${c}`,...i)}}function ot(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function Je(c="Unexpected state"){const t=`FIRESTORE (${xe}) INTERNAL ASSERTION FAILED: `+c;throw Et(t),new Error(t)}function We(c,t){c||Je()}function At(c,t){c||Je()}function Ie(c,t){return c}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Se.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class S{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class L{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(_e.UNAUTHENTICATED))}shutdown(){}}class je{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class we{constructor(t){this.t=t,this.currentUser=_e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;let u=this.i;const f=q=>this.i!==u?(u=this.i,i(q)):Promise.resolve();let v=new S;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new S,t.enqueueRetryable(()=>f(this.currentUser))};const w=()=>{const q=v;t.enqueueRetryable((0,a.A)(function*(){yield q.promise,yield f(s.currentUser)}))},N=q=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(q=>N(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?N(q):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new S)}},0),w()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We("string"==typeof s.accessToken),new L(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return We(null===t||"string"==typeof t),new _e(t)}}class Bt{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=_e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tn{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new Bt(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(_e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ln{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){const s=f=>{null!=f.error&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.R;return this.R=f.token,me("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(We("string"==typeof i.token),this.R=i.token,new Cn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pn(c){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}class hr{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Pn(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function en(c,t){return c<t?-1:c>t?1:0}function kn(c,t,i){return c.length===t.length&&c.every((s,u)=>i(s,t[u]))}function Gn(c){return c+"\0"}class sn{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new M(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new M(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new M(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return sn.fromMillis(Date.now())}static fromDate(t){return sn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new sn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(t){this.timestamp=t}static fromTimestamp(t){return new $t(t)}static min(){return new $t(new sn(0,0))}static max(){return new $t(new sn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ct{constructor(t,i,s){void 0===i?i=0:i>t.length&&Je(),void 0===s?s=t.length-i:s>t.length-i&&Je(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===ct.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ct?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const f=t.get(u),v=i.get(u);if(f<v)return-1;if(f>v)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class st extends ct{construct(t,i,s){return new st(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new M(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new st(i)}static emptyPath(){return new st([])}}const Tt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends ct{construct(t,i,s){return new Kt(t,i,s)}static isValidIdentifier(t){return Tt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const f=()=>{if(0===s.length)throw new M(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;u<t.length;){const w=t[u];if("\\"===w){if(u+1===t.length)throw new M(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const N=t[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new M(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=N,u+=2}else"`"===w?(v=!v,u++):"."!==w||v?(s+=w,u++):(f(),u++)}if(f(),v)throw new M(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kt(i)}static emptyPath(){return new Kt([])}}class Ht{constructor(t){this.path=t}static fromPath(t){return new Ht(st.fromString(t))}static fromName(t){return new Ht(st.fromString(t).popFirst(5))}static empty(){return new Ht(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===st.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return st.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ht(new st(t.slice()))}}class cr{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function zn(c){return c.fields.find(t=>2===t.kind)}function fn(c){return c.fields.filter(t=>2!==t.kind)}cr.UNKNOWN_ID=-1;class Un{constructor(t,i){this.fieldPath=t,this.kind=i}}class Rn{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new Rn(0,Vt.min())}}function Jn(c,t){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=$t.fromTimestamp(1e9===s?new sn(i+1,0):new sn(i,s));return new Vt(u,Ht.empty(),t)}function wn(c){return new Vt(c.readTime,c.key,-1)}class Vt{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Vt($t.min(),Ht.empty(),-1)}static max(){return new Vt($t.max(),Ht.empty(),-1)}}function _t(c,t){let i=c.readTime.compareTo(t.readTime);return 0!==i?i:(i=Ht.comparator(c.documentKey,t.documentKey),0!==i?i:en(c.largestBatchId,t.largestBatchId))}const Ut="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function qt(c){return $n.apply(this,arguments)}function $n(){return($n=(0,a.A)(function*(c){if(c.code!==W.FAILED_PRECONDITION||c.message!==Ut)throw c;me("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class $e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $e((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof $e?i:$e.resolve(i)}catch(i){return $e.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):$e.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):$e.reject(i)}static resolve(t){return new $e((i,s)=>{i(t)})}static reject(t){return new $e((i,s)=>{s(t)})}static waitFor(t){return new $e((i,s)=>{let u=0,f=0,v=!1;t.forEach(w=>{++u,w.next(()=>{++f,v&&f===u&&i()},N=>s(N))}),v=!0,f===u&&i()})}static or(t){let i=$e.resolve(!1);for(const s of t)i=i.next(u=>u?$e.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(t,i){return new $e((s,u)=>{const f=t.length,v=new Array(f);let w=0;for(let N=0;N<f;N++){const q=N;i(t[q]).next(ce=>{v[q]=ce,++w,w===f&&s(v)},ce=>u(ce))}})}static doWhile(t,i){return new $e((s,u)=>{const f=()=>{!0===t()?i().next(()=>{f()},u):s()};f()})}}class Dn{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new S,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new nt(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=ve(s.target.error);this.V.reject(new nt(t,u))}}static open(t,i,s,u){try{return new Dn(i,t.transaction(u,s))}catch(f){throw new nt(i,f)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(me("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Me(i)}}class Fn{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===Fn.S((0,Se.ZQ)())&&Et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return me("SimpleDb","Removing database:",t),ut(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Se.zW)())return!1;if(Fn.C())return!0;const t=(0,Se.ZQ)(),i=Fn.S(t),s=0<i&&i<10,u=Tr(t),f=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||f)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.v)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,a.A)(function*(){return i.db||(me("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=v=>{s(v.target.result)},f.onblocked=()=>{u(new nt(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const w=v.target.error;u("VersionError"===w.name?new M(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new M(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new nt(t,w))},f.onupgradeneeded=v=>{me("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',v.oldVersion),i.p.O(v.target.result,f.transaction,v.oldVersion,i.version).next(()=>{me("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var f=this;return(0,a.A)(function*(){const v="readonly"===i;let w=0;for(;;){++w;try{f.db=yield f.M(t);const N=Dn.open(f.db,t,v?"readonly":"readwrite",s),q=u(N).next(ce=>(N.g(),ce)).catch(ce=>(N.abort(ce),$e.reject(ce))).toPromise();return q.catch(()=>{}),yield N.m,q}catch(N){const q=N,ce="FirebaseError"!==q.name&&w<3;if(me("SimpleDb","Transaction failed with error:",q.message,"Retrying:",ce),f.close(),!ce)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Tr(c){const t=c.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class tr{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return ut(this.B.delete())}}class nt extends M{constructor(t,i){super(W.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function dt(c){return"IndexedDbTransactionError"===c.name}class Me{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(me("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),ut(s)}add(t){return me("SimpleDb","ADD",this.store.name,t,t),ut(this.store.add(t))}get(t){return ut(this.store.get(t)).next(i=>(void 0===i&&(i=null),me("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return me("SimpleDb","DELETE",this.store.name,t),ut(this.store.delete(t))}count(){return me("SimpleDb","COUNT",this.store.name),ut(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new $e((v,w)=>{f.onerror=N=>{w(N.target.error)},f.onsuccess=N=>{v(N.target.result)}})}{const f=this.cursor(s),v=[];return this.W(f,(w,N)=>{v.push(N)}).next(()=>v)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new $e((u,f)=>{s.onerror=v=>{f(v.target.error)},s.onsuccess=v=>{u(v.target.result)}})}j(t,i){me("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(f,v,w)=>w.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new $e((s,u)=>{i.onerror=f=>{const v=ve(f.target.error);u(v)},i.onsuccess=f=>{const v=f.target.result;v?t(v.primaryKey,v.value).next(w=>{w?v.continue():s()}):s()}})}W(t,i){const s=[];return new $e((u,f)=>{t.onerror=v=>{f(v.target.error)},t.onsuccess=v=>{const w=v.target.result;if(!w)return void u();const N=new tr(w),q=i(w.primaryKey,w.value,N);if(q instanceof $e){const ce=q.catch(Re=>(N.done(),$e.reject(Re)));s.push(ce)}N.isDone?u():null===N.K?w.continue():w.continue(N.K)}}).next(()=>$e.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function ut(c){return new $e((t,i)=>{c.onsuccess=s=>{t(s.target.result)},c.onerror=s=>{const u=ve(s.target.error);i(u)}})}let pe=!1;function ve(c){const t=Fn.S((0,Se.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(i)>=0){const s=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pe||(pe=!0,setTimeout(()=>{throw s},0)),s}}return c}class ne{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;me("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,a.A)(function*(){i.task=null;try{me("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){dt(s)?me("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield qt(s)}yield i.X(6e4)}))}}class de{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,a.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,f=!0;return $e.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(v=>{if(null!==v&&!s.has(v))return me("IndexBackfiller",`Processing collection: ${v}`),this.ne(t,v,u).next(w=>{u-=w,s.add(v)});f=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(t,v).next(()=>this.re(u,f)).next(w=>(me("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(t,i,w))).next(()=>v.size)}))}re(t,i){let s=t;return i.changes.forEach((u,f)=>{const v=wn(f);_t(v,s)>0&&(s=v)}),new Vt(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let J=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return c.oe=-1,c})();function rt(c){return null==c}function Mt(c){return 0===c&&1/c==-1/0}function hn(c){return"number"==typeof c&&Number.isInteger(c)&&!Mt(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function An(c){let t="";for(let i=0;i<c.length;i++)t.length>0&&(t=mr(t)),t=nr(c.get(i),t);return mr(t)}function nr(c,t){let i=t;const s=c.length;for(let u=0;u<s;u++){const f=c.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function mr(c){return c+"\x01\x01"}function En(c){const t=c.length;if(We(t>=2),2===t)return We("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),st.emptyPath();const i=t-2,s=[];let u="";for(let f=0;f<t;){const v=c.indexOf("\x01",f);switch((v<0||v>i)&&Je(),c.charAt(v+1)){case"\x01":const w=c.substring(f,v);let N;0===u.length?N=w:(u+=w,N=u,u=""),s.push(N);break;case"\x10":u+=c.substring(f,v),u+="\0";break;case"\x11":u+=c.substring(f,v+1);break;default:Je()}f=v+2}return new st(s)}const yn=["userId","batchId"];function Hn(c,t){return[c,An(t)]}function Or(c,t,i){return[c,An(t),i]}const jr={},Ci=["prefixPath","collectionGroup","readTime","documentId"],bi=["prefixPath","collectionGroup","documentId"],pr=["collectionGroup","readTime","prefixPath","documentId"],Mi=["canonicalId","targetId"],oi=["targetId","path"],Di=["path","targetId"],re=["collectionId","parent"],ee=["indexId","uid"],H=["uid","sequenceNumber"],ie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ke=["indexId","uid","orderedDocumentKey"],Te=["userId","collectionPath","documentId"],mt=["userId","collectionPath","largestBatchId"],zt=["userId","collectionGroup","largestBatchId"],Xt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],on=[...Xt,"documentOverlays"],ir=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zn=ir,qr=[...Zn,"indexConfiguration","indexState","indexEntries"],pi=qr;class Si extends wt{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function Nn(c,t){const i=Ie(c);return Fn.F(i._e,t)}function Vi(c){let t=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&t++;return t}function si(c,t){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&t(i,c[i])}function zr(c){for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t))return!1;return!0}class gr{constructor(t,i){this.comparator=t,this.root=i||Hr.EMPTY}insert(t,i){return new gr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(t){return new gr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hi(this.root,t,this.comparator,!0)}}class Hi{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=i?s(t.key,i):1,i&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Hr{constructor(t,i,s,u,f){this.key=t,this.value=i,this.color=s??Hr.RED,this.left=u??Hr.EMPTY,this.right=f??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,f){return new Hr(t??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return Hr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const t=this.left.check();if(t!==this.right.check())throw Je();return t+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(t,i,s,u,f){return this}insert(t,i,s){return new Hr(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(t){this.comparator=t,this.data=new gr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new no(this.data.getIterator())}getIteratorFrom(t){return new no(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof _r)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new _r(this.comparator);return i.data=t,i}}class no{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ai(c){return c.hasNext()?c.getNext():void 0}class Vr{constructor(t){this.fields=t,t.sort(Kt.comparator)}static empty(){return new Vr([])}unionWith(t){let i=new _r(Kt.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Vr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return kn(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class ur extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Sr(){return typeof atob<"u"}class mi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new ur("Invalid base64 string: "+f):f}}(t);return new mi(i)}static fromUint8Array(t){const i=function(u){let f="";for(let v=0;v<u.length;++v)f+=String.fromCharCode(u[v]);return f}(t);return new mi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const Ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(c){if(We(!!c),"string"==typeof c){let t=0;const i=Ri.exec(c);if(We(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Jr(c.seconds),nanos:Jr(c.nanos)}}function Jr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function qi(c){return"string"==typeof c?mi.fromBase64String(c):mi.fromUint8Array(c)}function _o(c){var t,i;return"server_timestamp"===(null===(i=((null===(t=c?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function or(c){const t=c.mapValue.fields.__previous_value__;return _o(t)?or(t):t}function Rr(c){const t=ro(c.mapValue.fields.__local_write_time__.timestampValue);return new sn(t.seconds,t.nanos)}class cs{constructor(t,i,s,u,f,v,w,N,q){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=w,this.longPollingOptions=N,this.useFetchStreams=q}}class qn{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new qn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof qn&&t.projectId===this.projectId&&t.database===this.database}}const ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},io={nullValue:"NULL_VALUE"};function Do(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?_o(c)?4:He(c)?9007199254740991:10:Je()}function vi(c,t){if(c===t)return!0;const i=Do(c);if(i!==Do(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===t.booleanValue;case 4:return Rr(c).isEqual(Rr(t));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const v=ro(u.timestampValue),w=ro(f.timestampValue);return v.seconds===w.seconds&&v.nanos===w.nanos}(c,t);case 5:return c.stringValue===t.stringValue;case 6:return f=t,qi(c.bytesValue).isEqual(qi(f.bytesValue));case 7:return c.referenceValue===t.referenceValue;case 8:return function(u,f){return Jr(u.geoPointValue.latitude)===Jr(f.geoPointValue.latitude)&&Jr(u.geoPointValue.longitude)===Jr(f.geoPointValue.longitude)}(c,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Jr(u.integerValue)===Jr(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const v=Jr(u.doubleValue),w=Jr(f.doubleValue);return v===w?Mt(v)===Mt(w):isNaN(v)&&isNaN(w)}return!1}(c,t);case 9:return kn(c.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:return function(u,f){const v=u.mapValue.fields||{},w=f.mapValue.fields||{};if(Vi(v)!==Vi(w))return!1;for(const N in v)if(v.hasOwnProperty(N)&&(void 0===w[N]||!vi(v[N],w[N])))return!1;return!0}(c,t);default:return Je()}var f}function oo(c,t){return void 0!==(c.values||[]).find(i=>vi(i,t))}function j(c,t){if(c===t)return 0;const i=Do(c),s=Do(t);if(i!==s)return en(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return en(c.booleanValue,t.booleanValue);case 2:return function(f,v){const w=Jr(f.integerValue||f.doubleValue),N=Jr(v.integerValue||v.doubleValue);return w<N?-1:w>N?1:w===N?0:isNaN(w)?isNaN(N)?0:-1:1}(c,t);case 3:return sr(c.timestampValue,t.timestampValue);case 4:return sr(Rr(c),Rr(t));case 5:return en(c.stringValue,t.stringValue);case 6:return function(f,v){const w=qi(f),N=qi(v);return w.compareTo(N)}(c.bytesValue,t.bytesValue);case 7:return function(f,v){const w=f.split("/"),N=v.split("/");for(let q=0;q<w.length&&q<N.length;q++){const ce=en(w[q],N[q]);if(0!==ce)return ce}return en(w.length,N.length)}(c.referenceValue,t.referenceValue);case 8:return function(f,v){const w=en(Jr(f.latitude),Jr(v.latitude));return 0!==w?w:en(Jr(f.longitude),Jr(v.longitude))}(c.geoPointValue,t.geoPointValue);case 9:return function(f,v){const w=f.values||[],N=v.values||[];for(let q=0;q<w.length&&q<N.length;++q){const ce=j(w[q],N[q]);if(ce)return ce}return en(w.length,N.length)}(c.arrayValue,t.arrayValue);case 10:return function(f,v){if(f===ho.mapValue&&v===ho.mapValue)return 0;if(f===ho.mapValue)return 1;if(v===ho.mapValue)return-1;const w=f.fields||{},N=Object.keys(w),q=v.fields||{},ce=Object.keys(q);N.sort(),ce.sort();for(let Re=0;Re<N.length&&Re<ce.length;++Re){const at=en(N[Re],ce[Re]);if(0!==at)return at;const Ot=j(w[N[Re]],q[ce[Re]]);if(0!==Ot)return Ot}return en(N.length,ce.length)}(c.mapValue,t.mapValue);default:throw Je()}}function sr(c,t){if("string"==typeof c&&"string"==typeof t&&c.length===t.length)return en(c,t);const i=ro(c),s=ro(t),u=en(i.seconds,s.seconds);return 0!==u?u:en(i.nanos,s.nanos)}function Y(c){return O(c)}function O(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=ro(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?qi(c.bytesValue).toBase64():"referenceValue"in c?Ht.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=O(f);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const v of s)f?f=!1:u+=",",u+=`${v}:${O(i.fields[v])}`;return u+"}"}(c.mapValue):Je()}function Kn(c,t){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${t.path.canonicalString()}`}}function wr(c){return!!c&&"integerValue"in c}function Ur(c){return!!c&&"arrayValue"in c}function so(c){return!!c&&"nullValue"in c}function $(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function oe(c){return!!c&&"mapValue"in c}function Ae(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const t={mapValue:{fields:{}}};return si(c.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Ae(s)),t}if(c.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ae(c.arrayValue.values[i]);return t}return Object.assign({},c)}function He(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}function yt(c){return"nullValue"in c?io:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?Kn(qn.empty(),Ht.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?{mapValue:{}}:Je()}function pt(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?Kn(qn.empty(),Ht.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?{mapValue:{}}:"mapValue"in c?ho:Je()}function Wt(c,t){const i=j(c.value,t.value);return 0!==i?i:c.inclusive&&!t.inclusive?-1:!c.inclusive&&t.inclusive?1:0}function Qt(c,t){const i=j(c.value,t.value);return 0!==i?i:c.inclusive&&!t.inclusive?1:!c.inclusive&&t.inclusive?-1:0}class jt{constructor(t){this.value=t}static empty(){return new jt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!oe(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ae(i)}setAll(t){let i=Kt.emptyPath(),s={},u=[];t.forEach((v,w)=>{if(!i.isImmediateParentOf(w)){const N=this.getFieldsMap(i);this.applyChanges(N,s,u),s={},u=[],i=w.popLast()}v?s[w.lastSegment()]=Ae(v):u.push(w.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(t){const i=this.field(t.popLast());oe(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];oe(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){si(i,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new jt(Ae(this.value))}}function Yt(c){const t=[];return si(c.fields,(i,s)=>{const u=new Kt([i]);if(oe(s)){const f=Yt(s.mapValue).fields;if(0===f.length)t.push(u);else for(const v of f)t.push(u.child(v))}else t.push(u)}),new Vr(t)}class an{constructor(t,i,s,u,f,v,w){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=v,this.documentState=w}static newInvalidDocument(t){return new an(t,0,$t.min(),$t.min(),$t.min(),jt.empty(),0)}static newFoundDocument(t,i,s,u){return new an(t,1,i,$t.min(),s,u,0)}static newNoDocument(t,i){return new an(t,2,i,$t.min(),$t.min(),jt.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,$t.min(),$t.min(),jt.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tn{constructor(t,i){this.position=t,this.inclusive=i}}function Bn(c,t,i){let s=0;for(let u=0;u<c.position.length;u++){const f=t[u],v=c.position[u];if(s=f.field.isKeyField()?Ht.comparator(Ht.fromName(v.referenceValue),i.key):j(v,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function Xn(c,t){if(null===c)return null===t;if(null===t||c.inclusive!==t.inclusive||c.position.length!==t.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!vi(c.position[i],t.position[i]))return!1;return!0}class Ir{constructor(t,i="asc"){this.field=t,this.dir=i}}function xi(c,t){return c.dir===t.dir&&c.field.isEqual(t.field)}class Er{}class Wn extends Er{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new po(t,i,s):"array-contains"===i?new br(t,s):"in"===i?new Es(t,s):"not-in"===i?new Sa(t,s):"array-contains-any"===i?new Ra(t,s):new Wn(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new Ao(t,s):new Wi(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(j(i,this.value)):null!==i&&Do(this.value)===Do(i)&&this.matchesComparison(j(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends Er{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new ar(t,i)}matches(t){return ri(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ri(c){return"and"===c.op}function fo(c){return"or"===c.op}function ko(c){return ao(c)&&ri(c)}function ao(c){for(const t of c.filters)if(t instanceof ar)return!1;return!0}function ba(c){if(c instanceof Wn)return c.field.canonicalString()+c.op.toString()+Y(c.value);if(ko(c))return c.filters.map(t=>ba(t)).join(",");{const t=c.filters.map(i=>ba(i)).join(",");return`${c.op}(${t})`}}function Ks(c,t){return c instanceof Wn?(s=c,(u=t)instanceof Wn&&s.op===u.op&&s.field.isEqual(u.field)&&vi(s.value,u.value)):c instanceof ar?function(s,u){return u instanceof ar&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,v,w)=>f&&Ks(v,u.filters[w]),!0)}(c,t):void Je();var s,u}function Fi(c,t){const i=c.filters.concat(t);return ar.create(i,c.op)}function ca(c){return c instanceof Wn?`${(i=c).field.canonicalString()} ${i.op} ${Y(i.value)}`:c instanceof ar?function(i){return i.op.toString()+" {"+i.getFilters().map(ca).join(" ,")+"}"}(c):"Filter";var i}class po extends Wn{constructor(t,i,s){super(t,i,s),this.key=Ht.fromName(s.referenceValue)}matches(t){const i=Ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ao extends Wn{constructor(t,i){super(t,"in",i),this.keys=Xi(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Wi extends Wn{constructor(t,i){super(t,"not-in",i),this.keys=Xi(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Xi(c,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Ht.fromName(s.referenceValue))}class br extends Wn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ur(i)&&oo(i.arrayValue,this.value)}}class Es extends Wn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&oo(this.value.arrayValue,i)}}class Sa extends Wn{constructor(t,i){super(t,"not-in",i)}matches(t){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!oo(this.value.arrayValue,i)}}class Ra extends Wn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ur(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>oo(this.value.arrayValue,s))}}class Bo{constructor(t,i=null,s=[],u=[],f=null,v=null,w=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=v,this.endAt=w,this.ue=null}}function ns(c,t=null,i=[],s=[],u=null,f=null,v=null){return new Bo(c,t,i,s,u,f,v)}function Ui(c){const t=Ie(c);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>ba(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),rt(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Y(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Y(s)).join(",")),t.ue=i}return t.ue}function Io(c,t){if(c.limit!==t.limit||c.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!xi(c.orderBy[i],t.orderBy[i]))return!1;if(c.filters.length!==t.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!Ks(c.filters[i],t.filters[i]))return!1;return c.collectionGroup===t.collectionGroup&&!!c.path.isEqual(t.path)&&!!Xn(c.startAt,t.startAt)&&Xn(c.endAt,t.endAt)}function jo(c){return Ht.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function To(c,t){return c.filters.filter(i=>i instanceof Wn&&i.field.isEqual(t))}function Qi(c,t,i){let s=io,u=!0;for(const f of To(c,t)){let v=io,w=!0;switch(f.op){case"<":case"<=":v=yt(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,w=!1;break;case"!=":case"not-in":v=io}Wt({value:s,inclusive:u},{value:v,inclusive:w})<0&&(s=v,u=w)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(t)){const v=i.position[f];Wt({value:s,inclusive:u},{value:v,inclusive:i.inclusive})<0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}function ua(c,t,i){let s=ho,u=!0;for(const f of To(c,t)){let v=ho,w=!0;switch(f.op){case">=":case">":v=pt(f.value),w=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,w=!1;break;case"!=":case"not-in":v=ho}Qt({value:s,inclusive:u},{value:v,inclusive:w})>0&&(s=v,u=w)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(t)){const v=i.position[f];Qt({value:s,inclusive:u},{value:v,inclusive:i.inclusive})>0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}class Yi{constructor(t,i=null,s=[],u=[],f=null,v="F",w=null,N=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=v,this.startAt=w,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function rs(c,t,i,s,u,f,v,w){return new Yi(c,t,i,s,u,f,v,w)}function zo(c){return new Yi(c)}function da(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Ns(c){return null!==c.collectionGroup}function G(c){const t=Ie(c);if(null===t.ce){t.ce=[];const i=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),i.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(v){let w=new _r(Kt.comparator);return v.filters.forEach(N=>{N.getFlattenedFilters().forEach(q=>{q.isInequality()&&(w=w.add(q.field))})}),w})(t).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||t.ce.push(new Ir(f,s))}),i.has(Kt.keyField().canonicalString())||t.ce.push(new Ir(Kt.keyField(),s))}return t.ce}function Q(c){const t=Ie(c);return t.le||(t.le=function fe(c,t){if("F"===c.limitType)return ns(c.path,c.collectionGroup,t,c.filters,c.limit,c.startAt,c.endAt);{t=t.map(u=>new Ir(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Tn(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new Tn(c.startAt.position,c.startAt.inclusive):null;return ns(c.path,c.collectionGroup,t,c.filters,c.limit,i,s)}}(t,G(c))),t.le}function Ze(c,t){const i=c.filters.concat([t]);return new Yi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function bn(c,t,i){return new Yi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),t,i,c.startAt,c.endAt)}function dr(c,t){return Io(Q(c),Q(t))&&c.limitType===t.limitType}function Cr(c){return`${Ui(Q(c))}|lt:${c.limitType}`}function Eo(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>ca(u)).join(", ")}]`),rt(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Y(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Y(u)).join(",")),`Target(${s})`}(Q(c))}; limitType=${c.limitType})`}function Co(c,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Ht.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(c,t)&&function(s,u){for(const f of G(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(c,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(c,t)&&(u=t,!((s=c).startAt&&!function(v,w,N){const q=Bn(v,w,N);return v.inclusive?q<=0:q<0}(s.startAt,G(s),u)||s.endAt&&!function(v,w,N){const q=Bn(v,w,N);return v.inclusive?q>=0:q>0}(s.endAt,G(s),u)));var s,u}function us(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function ks(c){return(t,i)=>{let s=!1;for(const u of G(c)){const f=cl(u,t,i);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function cl(c,t,i){const s=c.field.isKeyField()?Ht.comparator(t.key,i.key):function(f,v,w){const N=v.data.field(f),q=w.data.field(f);return null!==N&&null!==q?j(N,q):Je()}(c.field,t,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return Je()}}class Ho{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,t))return f}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){si(this.inner,(i,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return zr(this.inner)}size(){return this.innerSize}}const Pc=new gr(Ht.comparator);function Ji(){return Pc}const ul=new gr(Ht.comparator);function ds(...c){let t=ul;for(const i of c)t=t.insert(i.key,i);return t}function Pa(c){let t=ul;return c.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function $i(){return ui()}function Dr(){return ui()}function ui(){return new Ho(c=>c.toString(),(c,t)=>c.isEqual(t))}const Oi=new gr(Ht.comparator),go=new _r(Ht.comparator);function Qn(...c){let t=go;for(const i of c)t=t.add(i);return t}const dl=new _r(en);function Fs(){return dl}function Cs(c,t){if(c.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mt(t)?"-0":t}}function Hl(c){return{integerValue:""+c}}function hl(c,t){return hn(t)?Hl(t):Cs(c,t)}class Ls{constructor(){this._=void 0}}function Ma(c,t,i){return c instanceof As?function(u,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&_o(f)&&(f=or(f)),f&&(v.fields.__previous_value__=f),{mapValue:v}}(i,t):c instanceof Vs?fl(c,t):c instanceof Ts?pl(c,t):function(u,f){const v=Ds(u,f),w=xa(v)+xa(u.Pe);return wr(v)&&wr(u.Pe)?Hl(w):Cs(u.serializer,w)}(c,t)}function ha(c,t,i){return c instanceof Vs?fl(c,t):c instanceof Ts?pl(c,t):i}function Ds(c,t){return c instanceof qs?wr(s=t)||(f=s)&&"doubleValue"in f?t:{integerValue:0}:null;var s,f}class As extends Ls{}class Vs extends Ls{constructor(t){super(),this.elements=t}}function fl(c,t){const i=ws(t);for(const s of c.elements)i.some(u=>vi(u,s))||i.push(s);return{arrayValue:{values:i}}}class Ts extends Ls{constructor(t){super(),this.elements=t}}function pl(c,t){let i=ws(t);for(const s of c.elements)i=i.filter(u=>!vi(u,s));return{arrayValue:{values:i}}}class qs extends Ls{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function xa(c){return Jr(c.integerValue||c.doubleValue)}function ws(c){return Ur(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Xs{constructor(t,i){this.field=t,this.transform=i}}class gl{constructor(t,i){this.version=t,this.transformResults=i}}class ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fa(c,t){return void 0!==c.updateTime?t.isFoundDocument()&&t.version.isEqual(c.updateTime):void 0===c.exists||c.exists===t.isFoundDocument()}class hs{}function wo(c,t){if(!c.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return c.isNoDocument()?new Ss(c.key,ai.none()):new fs(c.key,c.data,ai.none());{const i=c.data,s=jt.empty();let u=new _r(Kt.comparator);for(let f of t.fields)if(!u.has(f)){let v=i.field(f);null===v&&f.length>1&&(f=f.popLast(),v=i.field(f)),null===v?s.delete(f):s.set(f,v),u=u.add(f)}return new bo(c.key,s,new Vr(u.toArray()),ai.none())}}function Us(c,t,i){c instanceof fs?function(u,f,v){const w=u.value.clone(),N=Ys(u.fieldTransforms,f,v.transformResults);w.setAll(N),f.convertToFoundDocument(v.version,w).setHasCommittedMutations()}(c,t,i):c instanceof bo?function(u,f,v){if(!fa(u.precondition,f))return void f.convertToUnknownDocument(v.version);const w=Ys(u.fieldTransforms,f,v.transformResults),N=f.data;N.setAll(bs(u)),N.setAll(w),f.convertToFoundDocument(v.version,N).setHasCommittedMutations()}(c,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function Qs(c,t,i,s){return c instanceof fs?function(f,v,w,N){if(!fa(f.precondition,v))return w;const q=f.value.clone(),ce=vl(f.fieldTransforms,N,v);return q.setAll(ce),v.convertToFoundDocument(v.version,q).setHasLocalMutations(),null}(c,t,i,s):c instanceof bo?function(f,v,w,N){if(!fa(f.precondition,v))return w;const q=vl(f.fieldTransforms,N,v),ce=v.data;return ce.setAll(bs(f)),ce.setAll(q),v.convertToFoundDocument(v.version,ce).setHasLocalMutations(),null===w?null:w.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Re=>Re.field))}(c,t,i,s):(w=i,fa(c.precondition,v=t)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):w);var v,w}function Wl(c,t){let i=null;for(const s of c.fieldTransforms){const u=t.data.field(s.field),f=Ds(s.transform,u||null);null!=f&&(null===i&&(i=jt.empty()),i.set(s.field,f))}return i||null}function ml(c,t){return c.type===t.type&&!!c.key.isEqual(t.key)&&!!c.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&kn(s,u,(f,v)=>function Oa(c,t){return c.field.isEqual(t.field)&&(u=t.transform,(s=c.transform)instanceof Vs&&u instanceof Vs||s instanceof Ts&&u instanceof Ts?kn(s.elements,u.elements,vi):s instanceof qs&&u instanceof qs?vi(s.Pe,u.Pe):s instanceof As&&u instanceof As);var s,u}(f,v))))&&(0===c.type?c.value.isEqual(t.value):1!==c.type||c.data.isEqual(t.data)&&c.fieldMask.isEqual(t.fieldMask));var s,u}class fs extends hs{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class bo extends hs{constructor(t,i,s,u,f=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function bs(c){const t=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);t.set(i,s)}}),t}function Ys(c,t,i){const s=new Map;We(c.length===i.length);for(let u=0;u<i.length;u++){const f=c[u],v=f.transform,w=t.data.field(f.field);s.set(f.field,ha(v,w,i[u]))}return s}function vl(c,t,i){const s=new Map;for(const u of c){const f=u.transform,v=i.data.field(u.field);s.set(u.field,Ma(f,v,t))}return s}class Ss extends hs{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class is extends hs{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Na{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&Us(f,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Qs(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Qs(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Dr();return this.mutations.forEach(u=>{const f=t.get(u.key),v=f.overlayedDocument;let w=this.applyToLocalView(v,f.mutatedFields);w=i.has(u.key)?null:w;const N=wo(v,w);null!==N&&s.set(u.key,N),v.isValidDocument()||v.convertToNoDocument($t.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Qn())}isEqual(t){return this.batchId===t.batchId&&kn(this.mutations,t.mutations,(i,s)=>ml(i,s))&&kn(this.baseMutations,t.baseMutations,(i,s)=>ml(i,s))}}class Fo{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){We(t.mutations.length===s.length);let u=function(){return Oi}();const f=t.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,s[v].version);return new Fo(t,i,s,u)}}class T{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class F{constructor(t,i){this.count=t,this.unchangedNames=i}}var B,be;function Nt(c){switch(c){default:return Je();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function nn(c){if(void 0===c)return Et("GRPC error has no .code"),W.UNKNOWN;switch(c){case B.OK:return W.OK;case B.CANCELLED:return W.CANCELLED;case B.UNKNOWN:return W.UNKNOWN;case B.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case B.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case B.INTERNAL:return W.INTERNAL;case B.UNAVAILABLE:return W.UNAVAILABLE;case B.UNAUTHENTICATED:return W.UNAUTHENTICATED;case B.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case B.NOT_FOUND:return W.NOT_FOUND;case B.ALREADY_EXISTS:return W.ALREADY_EXISTS;case B.PERMISSION_DENIED:return W.PERMISSION_DENIED;case B.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case B.ABORTED:return W.ABORTED;case B.OUT_OF_RANGE:return W.OUT_OF_RANGE;case B.UNIMPLEMENTED:return W.UNIMPLEMENTED;case B.DATA_LOSS:return W.DATA_LOSS;default:return Je()}}(be=B||(B={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";function di(){return new TextEncoder}const Qr=new Oe([4294967295,4294967295],0);function Yr(c){const t=di().encode(c),i=new ze;return i.update(t),new Uint8Array(i.digest())}function Pr(c){const t=new DataView(c.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new Oe([i,s],0),new Oe([u,f],0)]}class ii{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new $r(`Invalid padding: ${i}`);if(s<0)throw new $r(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new $r(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new $r(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Oe.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(Oe.fromNumber(s)));return 1===u.compare(Qr)&&(u=new Oe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=Yr(t),[s,u]=Pr(i);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);if(!this.de(v))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),v=new ii(f,u,i);return s.forEach(w=>v.insert(w)),v}insert(t){if(0===this.Ie)return;const i=Yr(t),[s,u]=Pr(i);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);this.Ae(v)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class $r extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yi{constructor(t,i,s,u,f){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,Lr.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new yi($t.min(),u,new gr(en),Ji(),Qn())}}class Lr{constructor(t,i,s,u,f){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Lr(s,i,Qn(),Qn(),Qn())}}class mn{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class On{constructor(t,i){this.targetId=t,this.me=i}}class Xr{constructor(t,i,s=mi.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class _i{constructor(){this.fe=0,this.ge=ps(),this.pe=mi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Qn(),i=Qn(),s=Qn();return this.ge.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Je()}}),new Lr(this.pe,this.ye,t,i,s)}ve(){this.we=!1,this.ge=ps()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zr{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ji(),this.qe=Bi(),this.Qe=new gr(en)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:Je()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const f=u.target;if(jo(f))if(0===s){const v=new Ht(f.path);this.Ue(i,v,an.newNoDocument(v,$t.min()))}else We(1===s);else{const v=this.Ye(i);if(v!==s){const w=this.Ze(t),N=w?this.Xe(w,t,v):1;0!==N&&(this.je(i),this.Qe=this.Qe.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let v,w;try{v=qi(s).toUint8Array()}catch(N){if(N instanceof ur)return Ye("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{w=new ii(v,u,f)}catch(N){return Ye(N instanceof $r?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===w.Ie?null:w}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const v=this.Le.tt(),w=`projects/${v.projectId}/databases/${v.database}/documents/${f.path.canonicalString()}`;t.mightContain(w)||(this.Ue(i,f,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((f,v)=>{const w=this.Je(v);if(w){if(f.current&&jo(w.target)){const N=new Ht(w.target.path);null!==this.ke.get(N)||this.it(v,N)||this.Ue(v,N,an.newNoDocument(N,t))}f.be&&(i.set(v,f.Ce()),f.ve())}});let s=Qn();this.qe.forEach((f,v)=>{let w=!0;v.forEachWhile(N=>{const q=this.Je(N);return!q||"TargetPurposeLimboResolution"===q.purpose||(w=!1,!1)}),w&&(s=s.add(f))}),this.ke.forEach((f,v)=>v.setReadTime(t));const u=new yi(t,i,this.Qe,this.ke,s);return this.ke=Ji(),this.qe=Bi(),this.Qe=new gr(en),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new _i,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new _r(en),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||me("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new _i),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Bi(){return new gr(Ht.comparator)}function ps(){return new gr(Ht.comparator)}const hi={asc:"ASCENDING",desc:"DESCENDING"},Zi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rs={and:"AND",or:"OR"};class vr{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gs(c,t){return c.useProto3Json||rt(t)?t:{value:t}}function Ps(c,t){return c.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ka(c,t){return c.useProto3Json?t.toBase64():t.toUint8Array()}function fi(c,t){return Ps(c,t.toTimestamp())}function Wr(c){return We(!!c),$t.fromTimestamp(function(i){const s=ro(i);return new sn(s.seconds,s.nanos)}(c))}function Js(c,t){return Ms(c,t).canonicalString()}function Ms(c,t){const i=(u=c,new st(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function yl(c){const t=st.fromString(c);return We(Iu(t)),t}function Gl(c,t){return Js(c.databaseId,t.path)}function eo(c,t){const i=yl(t);if(i.get(1)!==c.databaseId.projectId)throw new M(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new M(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Ht(Kl(i))}function _l(c,t){return Js(c.databaseId,t)}function os(c){const t=yl(c);return 4===t.length?st.emptyPath():Kl(t)}function yr(c){return new st(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Kl(c){return We(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function $s(c,t,i){return{name:Gl(c,t),fields:i.value.mapValue.fields}}function ss(c,t,i){const s=eo(c,t.name),u=Wr(t.updateTime),f=t.createTime?Wr(t.createTime):$t.min(),v=new jt({mapValue:{fields:t.fields}}),w=an.newFoundDocument(s,u,f,v);return i&&w.setHasCommittedMutations(),i?w.setHasCommittedMutations():w}function Ii(c,t){let i;if(t instanceof fs)i={update:$s(c,t.key,t.value)};else if(t instanceof Ss)i={delete:Gl(c,t.key)};else if(t instanceof bo)i={update:$s(c,t.key,t.data),updateMask:Sp(t.fieldMask)};else{if(!(t instanceof is))return Je();i={verify:Gl(c,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(f,v){const w=v.transform;if(w instanceof As)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Vs)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Ts)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof qs)return{fieldPath:v.field.canonicalString(),increment:w.Pe};throw Je()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:fi(c,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Je()),i;var f}function ql(c,t){const i=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?ai.updateTime(Wr(f.updateTime)):void 0!==f.exists?ai.exists(f.exists):ai.none():ai.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(v,w){let N=null;"setToServerValue"in w?(We("REQUEST_TIME"===w.setToServerValue),N=new As):"appendMissingElements"in w?N=new Vs(w.appendMissingElements.values||[]):"removeAllFromArray"in w?N=new Ts(w.removeAllFromArray.values||[]):"increment"in w?N=new qs(v,w.increment):Je();const q=Kt.fromServerFormat(w.fieldPath);return new Xs(q,N)}(c,u)):[];var f;if(t.update){const u=eo(c,t.update.name),f=new jt({mapValue:{fields:t.update.fields}});if(t.updateMask){const v=new Vr((t.updateMask.fieldPaths||[]).map(ce=>Kt.fromServerFormat(ce)));return new bo(u,f,v,i,s)}return new fs(u,f,i,s)}if(t.delete){const u=eo(c,t.delete);return new Ss(u,i)}if(t.verify){const u=eo(c,t.verify);return new is(u,i)}return Je()}function mo(c,t){return{documents:[_l(c,t.path)]}}function El(c,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=_l(c,u);const f=function(q){if(0!==q.length)return Fa(ar.create(q,"and"))}(t.filters);f&&(i.structuredQuery.where=f);const v=function(q){if(0!==q.length)return q.map(ce=>{return{field:ms((at=ce).field),direction:Al(at.dir)};var at})}(t.orderBy);v&&(i.structuredQuery.orderBy=v);const w=gs(c,t.limit);return null!==w&&(i.structuredQuery.limit=w),t.startAt&&(i.structuredQuery.startAt={before:(q=t.startAt).inclusive,values:q.position}),t.endAt&&(i.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(t.endAt)),{_t:i,parent:u};var q}function Cl(c){let t=os(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){We(1===s);const ce=i.from[0];ce.allDescendants?u=ce.collectionId:t=t.child(ce.collectionId)}let f=[];i.where&&(f=function(Re){const at=Dl(Re);return at instanceof ar&&ko(at)?at.getFilters():[at]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(at=>{return new Ir(Zs((cn=at).field),function(pn){switch(pn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(cn.direction));var cn}));let w=null;i.limit&&(w=function(Re){let at;return at="object"==typeof Re?Re.value:Re,rt(at)?null:at}(i.limit));let N=null;var Re;i.startAt&&(N=new Tn((Re=i.startAt).values||[],!!Re.before));let q=null;return i.endAt&&(q=function(Re){return new Tn(Re.values||[],!Re.before)}(i.endAt)),rs(t,u,v,f,w,"F",N,q)}function Dl(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Zs(i.unaryFilter.field);return Wn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Zs(i.unaryFilter.field);return Wn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Zs(i.unaryFilter.field);return Wn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Zs(i.unaryFilter.field);return Wn.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(c):void 0!==c.fieldFilter?Wn.create(Zs((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return ar.create(i.compositeFilter.filters.map(s=>Dl(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Je()}}(i.compositeFilter.op))}(c):Je();var i}function Al(c){return hi[c]}function Xl(c){return Zi[c]}function Mc(c){return Rs[c]}function ms(c){return{fieldPath:c.canonicalString()}}function Zs(c){return Kt.fromServerFormat(c.fieldPath)}function Fa(c){return c instanceof Wn?function(i){if("=="===i.op){if($(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(so(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if("!="===i.op){if($(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(so(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:Xl(i.op),value:i.value}}}(c):c instanceof ar?function(i){const s=i.getFilters().map(u=>Fa(u));return 1===s.length?s[0]:{compositeFilter:{op:Mc(i.op),filters:s}}}(c):Je()}function Sp(c){const t=[];return c.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Iu(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class ea{constructor(t,i,s,u,f=$t.min(),v=$t.min(),w=mi.EMPTY_BYTE_STRING,N=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=w,this.expectedCount=N}withSequenceNumber(t){return new ea(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yh{constructor(t){this.ct=t}}function Pp(c,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:Gl(f=c.ct,(v=t).key),fields:v.data.value.mapValue.fields,updateTime:Ps(f,v.version.toTimestamp()),createTime:Ps(f,v.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:b(t.version)};else{if(!t.isUnknownDocument())return Je();s.unknownDocument={path:i.path.toArray(),version:b(t.version)}}var f,v;return s}function _(c){const t=c.toTimestamp();return[t.seconds,t.nanoseconds]}function b(c){const t=c.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function E(c){const t=new sn(c.seconds,c.nanoseconds);return $t.fromTimestamp(t)}function R(c,t){const i=(t.baseMutations||[]).map(f=>ql(c.ct,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const s=t.mutations.map(f=>ql(c.ct,f)),u=sn.fromMillis(t.localWriteTimeMs);return new Na(t.batchId,u,i,s)}function z(c){const t=E(c.readTime),i=void 0!==c.lastLimboFreeSnapshotVersion?E(c.lastLimboFreeSnapshotVersion):$t.min();let s;return s=void 0!==c.query.documents?(We(1===(f=c.query).documents.length),Q(zo(os(f.documents[0])))):function(f){return Q(Cl(f))}(c.query),new ea(s,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,t,i,mi.fromBase64String(c.resumeToken));var f}function ae(c,t){const i=b(t.snapshotVersion),s=b(t.lastLimboFreeSnapshotVersion);let u;u=jo(t.target)?mo(c.ct,t.target):El(c.ct,t.target)._t;const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ui(t.target),readTime:i,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Ue(c){const t=Cl({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?bn(t,t.limit,"L"):t}function Ft(c,t){return new T(t.largestBatchId,ql(c.ct,t.overlayMutation))}function xt(c,t){const i=t.path.lastSegment();return[c,An(t.path.popLast()),i]}function xn(c,t,i,s){return{indexId:c,uid:t,sequenceNumber:i,readTime:b(s.readTime),documentKey:An(s.documentKey.path),largestBatchId:s.largestBatchId}}class Mr{getBundleMetadata(t,i){return kr(t).get(i).next(s=>{if(s)return{id:(f=s).bundleId,createTime:E(f.createTime),version:f.version};var f})}saveBundleMetadata(t,i){return kr(t).put({bundleId:(u=i).id,createTime:b(Wr(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return ji(t).get(i).next(s=>{if(s)return{name:(f=s).name,query:Ue(f.bundledQuery),readTime:E(f.readTime)};var f})}saveNamedQuery(t,i){return ji(t).put({name:(u=i).name,readTime:b(Wr(u.readTime)),bundledQuery:u.bundledQuery});var u}}function kr(c){return Nn(c,"bundles")}function ji(c){return Nn(c,"namedQueries")}class Bs{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new Bs(t,i.uid||"")}getOverlay(t,i){return vs(t).get(xt(this.userId,i)).next(s=>s?Ft(this.serializer,s):null)}getOverlays(t,i){const s=$i();return $e.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((f,v)=>{const w=new T(i,v);u.push(this.ht(t,w))}),$e.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(v=>u.add(An(v.getCollectionPath())));const f=[];return u.forEach(v=>{const w=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);f.push(vs(t).j("collectionPathOverlayIndex",w))}),$e.waitFor(f)}getOverlaysForCollection(t,i,s){const u=$i(),f=An(i),v=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return vs(t).U("collectionPathOverlayIndex",v).next(w=>{for(const N of w){const q=Ft(this.serializer,N);u.set(q.getKey(),q)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const f=$i();let v;const w=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vs(t).J({index:"collectionGroupOverlayIndex",range:w},(N,q,ce)=>{const Re=Ft(this.serializer,q);f.size()<u||Re.largestBatchId===v?(f.set(Re.getKey(),Re),v=Re.largestBatchId):ce.done()}).next(()=>f)}ht(t,i){return vs(t).put(function(u,f,v){const[w,N,q]=xt(f,v.mutation.key);return{userId:f,collectionPath:N,documentId:q,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:Ii(u.ct,v.mutation)}}(this.serializer,this.userId,i))}}function vs(c){return Nn(c,"documentOverlays")}class Wo{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(Jr(t.integerValue));else if("doubleValue"in t){const s=Jr(t.doubleValue);isNaN(s)?this.Et(i,13):(this.Et(i,15),Mt(s)?i.dt(0):i.dt(s))}else if("timestampValue"in t){let s=t.timestampValue;this.Et(i,20),"string"==typeof s&&(s=ro(s)),i.At(`${s.seconds||""}`),i.dt(s.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(qi(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.Et(i,45),i.dt(s.latitude||0),i.dt(s.longitude||0)}else"mapValue"in t?He(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):Je()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){const s=t.fields||{};this.Et(i,55);for(const u of Object.keys(s))this.Rt(u,i),this.It(s[u],i)}wt(t,i){const s=t.values||[];this.Et(i,50);for(const u of s)this.It(u,i)}gt(t,i){this.Et(i,37),Ht.fromName(t).path.forEach(s=>{this.Et(i,60),this.St(s,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}}function xc(c){if(0===c)return 8;let t=0;return!(c>>4)&&(t+=4,c<<=4),!(c>>6)&&(t+=2,c<<=2),!(c>>7)&&(t+=1),t}function ta(c){const t=64-function(s){let u=0;for(let f=0;f<8;++f){const v=xc(255&s[f]);if(u+=v,8!==v)break}return u}(c);return Math.ceil(t/8)}Wo.bt=new Wo;class _h{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ct(s.value),s=i.next();this.vt()}Ft(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Mt(s.value),s=i.next();this.xt()}Ot(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=i.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=i.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(t){const i=this.Bt(t),s=ta(i);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}qt(t){const i=this.Bt(t),s=ta(i);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Bt(t){const i=function(f){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,f,!1),new Uint8Array(v.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ct(t){const i=255&t;0===i?(this.Kt(0),this.Kt(255)):255===i?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Eu{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Lt(t)}Tt(){this.Gt.Qt()}}class Mp{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class pa{constructor(){this.Gt=new _h,this.zt=new Eu(this.Gt),this.jt=new Mp(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Tl{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Jt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new Tl(this.indexId,this.documentKey,this.arrayValue,s)}}function vo(c,t){let i=c.indexId-t.indexId;return 0!==i?i:(i=hd(c.arrayValue,t.arrayValue),0!==i?i:(i=hd(c.directionalValue,t.directionalValue),0!==i?i:Ht.comparator(c.documentKey,t.documentKey)))}function hd(c,t){for(let i=0;i<c.length&&i<t.length;++i){const s=c[i]-t[i];if(0!==s)return s}return c.length-t.length}class Oc{constructor(t){this.Yt=new _r((i,s)=>Kt.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const i of t.filters){const s=i;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(t){if(We(t.collectionGroup===this.collectionId),this.en)return!1;const i=zn(t);if(void 0!==i&&!this.nn(i))return!1;const s=fn(t);let u=new Set,f=0,v=0;for(;f<s.length&&this.nn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Yt.size>0){const w=this.Yt.getIterator().getNext();if(!u.has(w.field.canonicalString())){const N=s[f];if(!this.rn(w,N)||!this.sn(this.Zt[v++],N))return!1}++f}for(;f<s.length;++f)if(v>=this.Zt.length||!this.sn(this.Zt[v++],s[f]))return!1;return!0}on(){if(this.en)return null;let t=new _r(Kt.comparator);const i=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Un(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new Un(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new Un(s.field,"asc"===s.dir?0:1)));return new cr(cr.UNKNOWN_ID,this.collectionId,i,Rn.empty())}nn(t){for(const i of this.Xt)if(this.rn(i,t))return!0;return!1}rn(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Ql(c){var t,i;if(We(c instanceof Wn||c instanceof ar),c instanceof Wn){if(c instanceof Es){const u=(null===(i=null===(t=c.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(f=>Wn.create(c.field,"==",f)))||[];return ar.create(u,"or")}return c}const s=c.filters.map(u=>Ql(u));return ar.create(s,c.op)}function fd(c){if(0===c.getFilters().length)return[];const t=ys(Ql(c));return We(Cu(t)),Ih(t)||ei(t)?[t]:t.getFilters()}function Ih(c){return c instanceof Wn}function ei(c){return c instanceof ar&&ko(c)}function Cu(c){return Ih(c)||ei(c)||function(i){if(i instanceof ar&&fo(i)){for(const s of i.getFilters())if(!Ih(s)&&!ei(s))return!1;return!0}return!1}(c)}function ys(c){if(We(c instanceof Wn||c instanceof ar),c instanceof Wn)return c;if(1===c.filters.length)return ys(c.filters[0]);const t=c.filters.map(s=>ys(s));let i=ar.create(t,c.op);return i=La(i),Cu(i)?i:(We(i instanceof ar),We(ri(i)),We(i.filters.length>1),i.filters.reduce((s,u)=>yo(s,u)))}function yo(c,t){let i;return We(c instanceof Wn||c instanceof ar),We(t instanceof Wn||t instanceof ar),i=c instanceof Wn?t instanceof Wn?ar.create([c,t],"and"):Eh(c,t):t instanceof Wn?Eh(t,c):function(u,f){if(We(u.filters.length>0&&f.filters.length>0),ri(u)&&ri(f))return Fi(u,f.getFilters());const v=fo(u)?u:f,w=fo(u)?f:u,N=v.filters.map(q=>yo(q,w));return ar.create(N,"or")}(c,t),La(i)}function Eh(c,t){if(ri(t))return Fi(t,c.getFilters());{const i=t.filters.map(s=>yo(c,s));return ar.create(i,"or")}}function La(c){if(We(c instanceof Wn||c instanceof ar),c instanceof Wn)return c;const t=c.getFilters();if(1===t.length)return La(t[0]);if(ao(c))return c;const i=t.map(u=>La(u)),s=[];return i.forEach(u=>{u instanceof Wn?s.push(u):u instanceof ar&&(u.op===c.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:ar.create(s,c.op)}class Yl{constructor(){this._n=new So}addToCollectionParentIndex(t,i){return this._n.add(i),$e.resolve()}getCollectionParents(t,i){return $e.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return $e.resolve()}deleteFieldIndex(t,i){return $e.resolve()}deleteAllFieldIndexes(t){return $e.resolve()}createTargetIndexes(t,i){return $e.resolve()}getDocumentsMatchingTarget(t,i){return $e.resolve(null)}getIndexType(t,i){return $e.resolve(0)}getFieldIndexes(t,i){return $e.resolve([])}getNextCollectionGroupToUpdate(t){return $e.resolve(null)}getMinOffset(t,i){return $e.resolve(Vt.min())}getMinOffsetFromCollectionGroup(t,i){return $e.resolve(Vt.min())}updateCollectionGroup(t,i,s){return $e.resolve()}updateIndexEntries(t,i){return $e.resolve()}}class So{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new _r(st.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new _r(st.comparator)).toArray()}}const Nc=new Uint8Array(0);class pd{constructor(t,i){this.databaseId=i,this.an=new So,this.un=new Ho(s=>Ui(s),(s,u)=>Io(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.an.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.an.add(i)});const f={collectionId:s,parent:An(u)};return Ch(t).put(f)}return $e.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[Gn(i),""],!1,!0);return Ch(t).U(u).next(f=>{for(const v of f){if(v.collectionId!==i)break;s.push(En(v.parent))}return s})}addFieldIndex(t,i){const s=Jl(t),u={indexId:(w=i).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var w;delete u.indexId;const f=s.add(u);if(i.indexState){const v=Va(t);return f.next(w=>{v.put(xn(w,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(t,i){const s=Jl(t),u=Va(t),f=Ro(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Jl(t),s=Ro(t),u=Va(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return $e.forEach(this.cn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const f=new Oc(s).on();if(null!=f)return this.addFieldIndex(t,f)}}))}getDocumentsMatchingTarget(t,i){const s=Ro(t);let u=!0;const f=new Map;return $e.forEach(this.cn(i),v=>this.ln(t,v).next(w=>{u&&(u=!!w),f.set(v,w)})).next(()=>{if(u){let v=Qn();const w=[];return $e.forEach(f,(N,q)=>{var Vn;me("IndexedDbIndexManager",`Using index ${Vn=N,`id=${Vn.indexId}|cg=${Vn.collectionGroup}|f=${Vn.fields.map(xr=>`${xr.fieldPath}:${xr.kind}`).join(",")}`} to execute ${Ui(i)}`);const ce=function(Vn,xr){const li=zn(xr);if(void 0===li)return null;for(const Kr of To(Vn,li.fieldPath))switch(Kr.op){case"array-contains-any":return Kr.value.arrayValue.values||[];case"array-contains":return[Kr.value]}return null}(q,N),Re=function(Vn,xr){const li=new Map;for(const Kr of fn(xr))for(const Dt of To(Vn,Kr.fieldPath))switch(Dt.op){case"==":case"in":li.set(Kr.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return li.set(Kr.fieldPath.canonicalString(),Dt.value),Array.from(li.values())}return null}(q,N),at=function(Vn,xr){const li=[];let Kr=!0;for(const Dt of fn(xr)){const Qe=0===Dt.kind?Qi(Vn,Dt.fieldPath,Vn.startAt):ua(Vn,Dt.fieldPath,Vn.startAt);li.push(Qe.value),Kr&&(Kr=Qe.inclusive)}return new Tn(li,Kr)}(q,N),Ot=function(Vn,xr){const li=[];let Kr=!0;for(const Dt of fn(xr)){const Qe=0===Dt.kind?ua(Vn,Dt.fieldPath,Vn.endAt):Qi(Vn,Dt.fieldPath,Vn.endAt);li.push(Qe.value),Kr&&(Kr=Qe.inclusive)}return new Tn(li,Kr)}(q,N),cn=this.hn(N,q,at),In=this.hn(N,q,Ot),pn=this.Pn(N,q,Re),er=this.In(N.indexId,ce,cn,at.inclusive,In,Ot.inclusive,pn);return $e.forEach(er,fr=>s.G(fr,i.limit).next(Vn=>{Vn.forEach(xr=>{const li=Ht.fromSegments(xr.documentKey);v.has(li)||(v=v.add(li),w.push(li))})}))}).next(()=>w)}return $e.resolve(null)})}cn(t){let i=this.un.get(t);return i||(i=0===t.filters.length?[t]:fd(ar.create(t.filters,"and")).map(s=>ns(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,i),i)}In(t,i,s,u,f,v,w){const N=(null!=i?i.length:1)*Math.max(s.length,f.length),q=N/(null!=i?i.length:1),ce=[];for(let Re=0;Re<N;++Re){const at=i?this.Tn(i[Re/q]):Nc,Ot=this.En(t,at,s[Re%q],u),cn=this.dn(t,at,f[Re%q],v),In=w.map(pn=>this.En(t,at,pn,!0));ce.push(...this.createRange(Ot,cn,In))}return ce}En(t,i,s,u){const f=new Tl(t,Ht.empty(),i,s);return u?f:f.Jt()}dn(t,i,s,u){const f=new Tl(t,Ht.empty(),i,s);return u?f.Jt():f}ln(t,i){const s=new Oc(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(f=>{let v=null;for(const w of f)s.tn(w)&&(!v||w.fields.length>v.fields.length)&&(v=w);return v})}getIndexType(t,i){let s=2;const u=this.cn(i);return $e.forEach(u,f=>this.ln(t,f).next(v=>{v?0!==s&&v.fields.length<function(N){let q=new _r(Kt.comparator),ce=!1;for(const Re of N.filters)for(const at of Re.getFlattenedFilters())at.field.isKeyField()||("array-contains"===at.op||"array-contains-any"===at.op?ce=!0:q=q.add(at.field));for(const Re of N.orderBy)Re.field.isKeyField()||(q=q.add(Re.field));return q.size+(ce?1:0)}(f)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}An(t,i){const s=new pa;for(const u of fn(t)){const f=i.data.field(u.fieldPath);if(null==f)return null;const v=s.Ht(u.kind);Wo.bt.Pt(f,v)}return s.Wt()}Tn(t){const i=new pa;return Wo.bt.Pt(t,i.Ht(0)),i.Wt()}Rn(t,i){const s=new pa;return Wo.bt.Pt(Kn(this.databaseId,i),s.Ht(function(f){const v=fn(f);return 0===v.length?0:v[v.length-1].kind}(t))),s.Wt()}Pn(t,i,s){if(null===s)return[];let u=[];u.push(new pa);let f=0;for(const v of fn(t)){const w=s[f++];for(const N of u)if(this.Vn(i,v.fieldPath)&&Ur(w))u=this.mn(u,v,w);else{const q=N.Ht(v.kind);Wo.bt.Pt(w,q)}}return this.fn(u)}hn(t,i,s){return this.Pn(t,i,s.position)}fn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].Wt();return i}mn(t,i,s){const u=[...t],f=[];for(const v of s.arrayValue.values||[])for(const w of u){const N=new pa;N.seed(w.Wt()),Wo.bt.Pt(v,N.Ht(i.kind)),f.push(N)}return f}Vn(t,i){return!!t.filters.find(s=>s instanceof Wn&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=Jl(t),u=Va(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(f=>{const v=[];return $e.forEach(f,w=>u.get([w.indexId,this.uid]).next(N=>{v.push(function(ce,Re){const at=Re?new Rn(Re.sequenceNumber,new Vt(E(Re.readTime),new Ht(En(Re.documentKey)),Re.largestBatchId)):Rn.empty(),Ot=ce.fields.map(([cn,In])=>new Un(Kt.fromServerFormat(cn),In));return new cr(ce.indexId,ce.collectionGroup,Ot,at)}(w,N))})).next(()=>v)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:en(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=Jl(t),f=Va(t);return this.gn(t).next(v=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(w=>$e.forEach(w,N=>f.put(xn(N.indexId,this.uid,v,s)))))}updateIndexEntries(t,i){const s=new Map;return $e.forEach(i,(u,f)=>{const v=s.get(u.collectionGroup);return(v?$e.resolve(v):this.getFieldIndexes(t,u.collectionGroup)).next(w=>(s.set(u.collectionGroup,w),$e.forEach(w,N=>this.pn(t,u,N).next(q=>{const ce=this.yn(f,N);return q.isEqual(ce)?$e.resolve():this.wn(t,f,N,q,ce)}))))})}Sn(t,i,s,u){return Ro(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,i.key),documentKey:i.key.path.toArray()})}bn(t,i,s,u){return Ro(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,i.key),i.key.path.toArray()])}pn(t,i,s){const u=Ro(t);let f=new _r(vo);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,i)])},(v,w)=>{f=f.add(new Tl(s.indexId,i,w.arrayValue,w.directionalValue))}).next(()=>f)}yn(t,i){let s=new _r(vo);const u=this.An(i,t);if(null==u)return s;const f=zn(i);if(null!=f){const v=t.data.field(f.fieldPath);if(Ur(v))for(const w of v.arrayValue.values||[])s=s.add(new Tl(i.indexId,t.key,this.Tn(w),u))}else s=s.add(new Tl(i.indexId,t.key,Nc,u));return s}wn(t,i,s,u,f){me("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const v=[];return function(N,q,ce,Re,at){const Ot=N.getIterator(),cn=q.getIterator();let In=Ai(Ot),pn=Ai(cn);for(;In||pn;){let er=!1,fr=!1;if(In&&pn){const Vn=ce(In,pn);Vn<0?fr=!0:Vn>0&&(er=!0)}else null!=In?fr=!0:er=!0;er?(Re(pn),pn=Ai(cn)):fr?(at(In),In=Ai(Ot)):(In=Ai(Ot),pn=Ai(cn))}}(u,f,vo,w=>{v.push(this.Sn(t,i,s,w))},w=>{v.push(this.bn(t,i,s,w))}),$e.waitFor(v)}gn(t){let i=1;return Va(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((v,w)=>vo(v,w)).filter((v,w,N)=>!w||0!==vo(v,N[w-1]));const u=[];u.push(t);for(const v of s){const w=vo(v,t),N=vo(v,i);if(0===w)u[0]=t.Jt();else if(w>0&&N<0)u.push(v),u.push(v.Jt());else if(N>0)break}u.push(i);const f=[];for(let v=0;v<u.length;v+=2){if(this.Dn(u[v],u[v+1]))return[];f.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,Nc,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,Nc,[]]))}return f}Dn(t,i){return vo(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(gd)}getMinOffset(t,i){return $e.mapArray(this.cn(i),s=>this.ln(t,s).next(u=>u||Je())).next(gd)}}function Ch(c){return Nn(c,"collectionParents")}function Ro(c){return Nn(c,"indexEntries")}function Jl(c){return Nn(c,"indexConfiguration")}function Va(c){return Nn(c,"indexState")}function gd(c){We(0!==c.length);let t=c[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<c.length;s++){const u=c[s].indexState.offset;_t(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Vt(t.readTime,t.documentKey,i)}const Zl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class co{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new co(t,co.DEFAULT_COLLECTION_PERCENTILE,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ec(c,t,i){const s=c.store("mutations"),u=c.store("documentMutations"),f=[],v=IDBKeyRange.only(i.batchId);let w=0;const N=s.J({range:v},(ce,Re,at)=>(w++,at.delete()));f.push(N.next(()=>{We(1===w)}));const q=[];for(const ce of i.mutations){const Re=Or(t,ce.key.path,i.batchId);f.push(u.delete(Re)),q.push(ce.key)}return $e.waitFor(f).next(()=>q)}function js(c){if(!c)return 0;let t;if(c.document)t=c.document;else if(c.unknownDocument)t=c.unknownDocument;else{if(!c.noDocument)throw Je();t=c.noDocument}return JSON.stringify(t).length}co.DEFAULT_COLLECTION_PERCENTILE=10,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,co.DEFAULT=new co(41943040,co.DEFAULT_COLLECTION_PERCENTILE,co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),co.DISABLED=new co(-1,0,0);class tc{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(t,i,s,u){We(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new tc(f,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lr(t).J({index:"userMutationsIndex",range:s},(u,f,v)=>{i=!1,v.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const f=ga(t),v=lr(t);return v.add({}).next(w=>{We("number"==typeof w);const N=new Na(w,i,s,u),q=function(Ot,cn,In){const pn=In.baseMutations.map(fr=>Ii(Ot.ct,fr)),er=In.mutations.map(fr=>Ii(Ot.ct,fr));return{userId:cn,batchId:In.batchId,localWriteTimeMs:In.localWriteTime.toMillis(),baseMutations:pn,mutations:er}}(this.serializer,this.userId,N),ce=[];let Re=new _r((at,Ot)=>en(at.canonicalString(),Ot.canonicalString()));for(const at of u){const Ot=Or(this.userId,at.key.path,w);Re=Re.add(at.key.path.popLast()),ce.push(v.put(q)),ce.push(f.put(Ot,jr))}return Re.forEach(at=>{ce.push(this.indexManager.addToCollectionParentIndex(t,at))}),t.addOnCommittedListener(()=>{this.Cn[w]=N.keys()}),$e.waitFor(ce).next(()=>N)})}lookupMutationBatch(t,i){return lr(t).get(i).next(s=>s?(We(s.userId===this.userId),R(this.serializer,s)):null)}vn(t,i){return this.Cn[i]?$e.resolve(this.Cn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Cn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return lr(t).J({index:"userMutationsIndex",range:u},(v,w,N)=>{w.userId===this.userId&&(We(w.batchId>=s),f=R(this.serializer,w)),N.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return lr(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,v)=>{s=f.batchId,v.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lr(t).U("userMutationsIndex",i).next(s=>s.map(u=>R(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=Hn(this.userId,i.path),u=IDBKeyRange.lowerBound(s),f=[];return ga(t).J({range:u},(v,w,N)=>{const[q,ce,Re]=v,at=En(ce);if(q===this.userId&&i.path.isEqual(at))return lr(t).get(Re).next(Ot=>{if(!Ot)throw Je();We(Ot.userId===this.userId),f.push(R(this.serializer,Ot))});N.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new _r(en);const u=[];return i.forEach(f=>{const v=Hn(this.userId,f.path),w=IDBKeyRange.lowerBound(v),N=ga(t).J({range:w},(q,ce,Re)=>{const[at,Ot,cn]=q,In=En(Ot);at===this.userId&&f.path.isEqual(In)?s=s.add(cn):Re.done()});u.push(N)}),$e.waitFor(u).next(()=>this.Fn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,f=Hn(this.userId,s),v=IDBKeyRange.lowerBound(f);let w=new _r(en);return ga(t).J({range:v},(N,q,ce)=>{const[Re,at,Ot]=N,cn=En(at);Re===this.userId&&s.isPrefixOf(cn)?cn.length===u&&(w=w.add(Ot)):ce.done()}).next(()=>this.Fn(t,w))}Fn(t,i){const s=[],u=[];return i.forEach(f=>{u.push(lr(t).get(f).next(v=>{if(null===v)throw Je();We(v.userId===this.userId),s.push(R(this.serializer,v))}))}),$e.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return ec(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.Mn(i.batchId)}),$e.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return $e.resolve();const s=IDBKeyRange.lowerBound(function(v){return[v]}(this.userId)),u=[];return ga(t).J({range:s},(f,v,w)=>{if(f[0]===this.userId){const N=En(f[1]);u.push(N)}else w.done()}).next(()=>{We(0===u.length)})})}containsKey(t,i){return Ua(t,this.userId,i)}xn(t){return md(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ua(c,t,i){const s=Hn(t,i.path),u=s[1],f=IDBKeyRange.lowerBound(s);let v=!1;return ga(c).J({range:f,H:!0},(w,N,q)=>{const[ce,Re,at]=w;ce===t&&Re===u&&(v=!0),q.done()}).next(()=>v)}function lr(c){return Nn(c,"mutations")}function ga(c){return Nn(c,"documentMutations")}function md(c){return Nn(c,"mutationQueues")}class wl{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new wl(0)}static Ln(){return new wl(-1)}}class Dh{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.Bn(t).next(i=>{const s=new wl(i.highestTargetId);return i.highestTargetId=s.next(),this.kn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(i=>$t.fromTimestamp(new sn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.Bn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.kn(t,u)))}addTargetData(t,i){return this.qn(t,i).next(()=>this.Bn(t).next(s=>(s.targetCount+=1,this.Qn(i,s),this.kn(t,s))))}updateTargetData(t,i){return this.qn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>bl(t).delete(i.targetId)).next(()=>this.Bn(t)).next(s=>(We(s.targetCount>0),s.targetCount-=1,this.kn(t,s)))}removeTargets(t,i,s){let u=0;const f=[];return bl(t).J((v,w)=>{const N=z(w);N.sequenceNumber<=i&&null===s.get(N.targetId)&&(u++,f.push(this.removeTargetData(t,N)))}).next(()=>$e.waitFor(f)).next(()=>u)}forEachTarget(t,i){return bl(t).J((s,u)=>{const f=z(u);i(f)})}Bn(t){return Du(t).get("targetGlobalKey").next(i=>(We(null!==i),i))}kn(t,i){return Du(t).put("targetGlobalKey",i)}qn(t,i){return bl(t).put(ae(this.serializer,i))}Qn(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.Bn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=Ui(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return bl(t).J({range:u,index:"queryTargetsIndex"},(v,w,N)=>{const q=z(w);Io(i,q.target)&&(f=q,N.done())}).next(()=>f)}addMatchingKeys(t,i,s){const u=[],f=_s(t);return i.forEach(v=>{const w=An(v.path);u.push(f.put({targetId:s,path:w})),u.push(this.referenceDelegate.addReference(t,s,v))}),$e.waitFor(u)}removeMatchingKeys(t,i,s){const u=_s(t);return $e.forEach(i,f=>{const v=An(f.path);return $e.waitFor([u.delete([s,v]),this.referenceDelegate.removeReference(t,s,f)])})}removeMatchingKeysForTargetId(t,i){const s=_s(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=_s(t);let f=Qn();return u.J({range:s,H:!0},(v,w,N)=>{const q=En(v[1]),ce=new Ht(q);f=f.add(ce)}).next(()=>f)}containsKey(t,i){const s=An(i.path),u=IDBKeyRange.bound([s],[Gn(s)],!1,!0);let f=0;return _s(t).J({index:"documentTargetsIndex",H:!0,range:u},([v,w],N,q)=>{0!==v&&(f++,q.done())}).next(()=>f>0)}ot(t,i){return bl(t).get(i).next(s=>s?z(s):null)}}function bl(c){return Nn(c,"targets")}function Du(c){return Nn(c,"targetGlobal")}function _s(c){return Nn(c,"targetDocuments")}function Ah([c,t],[i,s]){const u=en(c,i);return 0===u?en(t,s):u}class vd{constructor(t){this.Kn=t,this.buffer=new _r(Ah),this.$n=0}Un(){return++this.$n}Wn(t){const i=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ah(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Th{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var i=this;me("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,a.A)(function*(){i.Gn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){dt(s)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield qt(s)}yield i.zn(3e5)}))}}class xp{constructor(t,i){this.jn=t,this.params=i}calculateTargetCount(t,i){return this.jn.Hn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return $e.resolve(J.oe);const s=new vd(i);return this.jn.forEachTarget(t,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(t,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(Zl)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zl):this.Yn(t,i))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,i){let s,u,f,v,w,N,q;const ce=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),u=this.params.maximumSequenceNumbersToCollect):u=Re,v=Date.now(),this.nthSequenceNumber(t,u))).next(Re=>(s=Re,w=Date.now(),this.removeTargets(t,s,i))).next(Re=>(f=Re,N=Date.now(),this.removeOrphanedDocuments(t,s))).next(Re=>(q=Date.now(),lt()<=le.$b.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ce}ms\n\tDetermined least recently used ${u} in `+(w-v)+`ms\n\tRemoved ${f} targets in `+(N-w)+`ms\n\tRemoved ${Re} documents in `+(q-N)+`ms\nTotal Duration: ${q-ce}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Re})))}}class Jt{constructor(t,i){this.db=t,this.garbageCollector=function Au(c,t){return new xp(c,t)}(this,i)}Hn(t){const i=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}Zn(t){let i=0;return this.Jn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Jn(t,i){return this.Xn(t,(s,u)=>i(u))}addReference(t,i,s){return Fr(t,s)}removeReference(t,i,s){return Fr(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return Fr(t,i)}er(t,i){return function(u,f){let v=!1;return md(u).Y(w=>Ua(u,w,f).next(N=>(N&&(v=!0),$e.resolve(!N)))).next(()=>v)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Xn(t,(v,w)=>{if(w<=i){const N=this.er(t,v).next(q=>{if(!q)return f++,s.getEntry(t,v).next(()=>(s.removeEntry(v,$t.min()),_s(t).delete([0,An(v.path)])))});u.push(N)}}).next(()=>$e.waitFor(u)).next(()=>s.apply(t)).next(()=>f)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return Fr(t,i)}Xn(t,i){const s=_s(t);let u,f=J.oe;return s.J({index:"documentTargetsIndex"},([v,w],{path:N,sequenceNumber:q})=>{0===v?(f!==J.oe&&i(new Ht(En(u)),f),f=q,u=N):f=J.oe}).next(()=>{f!==J.oe&&i(new Ht(En(u)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Fr(c,t){return _s(c).put((u=c.currentSequenceNumber,{targetId:0,path:An(t.path),sequenceNumber:u}));var u}class kc{constructor(){this.changes=new Ho(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?$e.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wh{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Po(t).put(s)}removeEntry(t,i,s){return Po(t).delete(function(f,v){const w=f.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],_(v),w[w.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.tr(t,s)))}getEntry(t,i){let s=an.newInvalidDocument(i);return Po(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(ma(i))},(u,f)=>{s=this.nr(i,f)}).next(()=>s)}rr(t,i){let s={size:0,document:an.newInvalidDocument(i)};return Po(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(ma(i))},(u,f)=>{s={document:this.nr(i,f),size:js(f)}}).next(()=>s)}getEntries(t,i){let s=Ji();return this.ir(t,i,(u,f)=>{const v=this.nr(u,f);s=s.insert(u,v)}).next(()=>s)}sr(t,i){let s=Ji(),u=new gr(Ht.comparator);return this.ir(t,i,(f,v)=>{const w=this.nr(f,v);s=s.insert(f,w),u=u.insert(f,js(v))}).next(()=>({documents:s,_r:u}))}ir(t,i,s){if(i.isEmpty())return $e.resolve();let u=new _r(yd);i.forEach(N=>u=u.add(N));const f=IDBKeyRange.bound(ma(u.first()),ma(u.last())),v=u.getIterator();let w=v.getNext();return Po(t).J({index:"documentKeyIndex",range:f},(N,q,ce)=>{const Re=Ht.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;w&&yd(w,Re)<0;)s(w,null),w=v.getNext();w&&w.isEqual(Re)&&(s(w,q),w=v.hasNext()?v.getNext():null),w?ce.$(ma(w)):ce.done()}).next(()=>{for(;w;)s(w,null),w=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,f){const v=i.path,w=[v.popLast().toArray(),v.lastSegment(),_(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Po(t).U(IDBKeyRange.bound(w,N,!0)).next(q=>{f?.incrementDocumentReadCount(q.length);let ce=Ji();for(const Re of q){const at=this.nr(Ht.fromSegments(Re.prefixPath.concat(Re.collectionGroup,Re.documentId)),Re);at.isFoundDocument()&&(Co(i,at)||u.has(at.key))&&(ce=ce.insert(at.key,at))}return ce})}getAllFromCollectionGroup(t,i,s,u){let f=Ji();const v=wu(i,s),w=wu(i,Vt.max());return Po(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,w,!0)},(N,q,ce)=>{const Re=this.nr(Ht.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);f=f.insert(Re.key,Re),f.size===u&&ce.done()}).next(()=>f)}newChangeBuffer(t){return new Tu(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return $a(t).get("remoteDocumentGlobalKey").next(i=>(We(!!i),i))}tr(t,i){return $a(t).put("remoteDocumentGlobalKey",i)}nr(t,i){if(i){const s=function Rp(c,t){let i;if(t.document)i=ss(c.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=Ht.fromSegments(t.noDocument.path),u=E(t.noDocument.readTime);i=an.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Je();{const s=Ht.fromSegments(t.unknownDocument.path),u=E(t.unknownDocument.version);i=an.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const f=new sn(u[0],u[1]);return $t.fromTimestamp(f)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual($t.min()))return s}return an.newInvalidDocument(t)}}function ti(c){return new wh(c)}class Tu extends kc{constructor(t,i){super(),this.ar=t,this.trackRemovals=i,this.ur=new Ho(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new _r((f,v)=>en(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const w=this.ur.get(f);if(i.push(this.ar.removeEntry(t,f,w.readTime)),v.isValidDocument()){const N=Pp(this.ar.serializer,v);u=u.add(f.path.popLast());const q=js(N);s+=q-w.size,i.push(this.ar.addEntry(t,f,N))}else if(s-=w.size,this.trackRemovals){const N=Pp(this.ar.serializer,v.convertToNoDocument($t.min()));i.push(this.ar.addEntry(t,f,N))}}),u.forEach(f=>{i.push(this.ar.indexManager.addToCollectionParentIndex(t,f))}),i.push(this.ar.updateMetadata(t,s)),$e.waitFor(i)}getFromCache(t,i){return this.ar.rr(t,i).next(s=>(this.ur.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.ar.sr(t,i).next(({documents:s,_r:u})=>(u.forEach((f,v)=>{this.ur.set(f,{size:v,readTime:s.get(f).readTime})}),s))}}function $a(c){return Nn(c,"remoteDocumentGlobal")}function Po(c){return Nn(c,"remoteDocumentsV14")}function ma(c){const t=c.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wu(c,t){const i=t.documentKey.path.toArray();return[c,_(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function yd(c,t){const i=c.path.toArray(),s=t.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<s.length-2;++f)if(u=en(i[f],s[f]),u)return u;return u=en(i.length,s.length),u||(u=en(i[i.length-2],s[s.length-2]),u||en(i[i.length-1],s[s.length-1]))}class Op{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class bu{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&Qs(s.mutation,u,Vr.empty(),sn.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Qn()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Qn()){const u=$i();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(f=>{let v=ds();return f.forEach((w,N)=>{v=v.insert(w,N.overlayedDocument)}),v}))}getOverlayedDocuments(t,i){const s=$i();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Qn()))}populateOverlays(t,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((v,w)=>{i.set(v,w)})})}computeViews(t,i,s,u){let f=Ji();const v=ui(),w=ui();return i.forEach((N,q)=>{const ce=s.get(q.key);u.has(q.key)&&(void 0===ce||ce.mutation instanceof bo)?f=f.insert(q.key,q):void 0!==ce?(v.set(q.key,ce.mutation.getFieldMask()),Qs(ce.mutation,q,ce.mutation.getFieldMask(),sn.now())):v.set(q.key,Vr.empty())}),this.recalculateAndSaveOverlays(t,f).next(N=>(N.forEach((q,ce)=>v.set(q,ce)),i.forEach((q,ce)=>{var Re;return w.set(q,new Op(ce,null!==(Re=v.get(q))&&void 0!==Re?Re:null))}),w))}recalculateAndSaveOverlays(t,i){const s=ui();let u=new gr((v,w)=>v-w),f=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(v=>{for(const w of v)w.keys().forEach(N=>{const q=i.get(N);if(null===q)return;let ce=s.get(N)||Vr.empty();ce=w.applyToLocalView(q,ce),s.set(N,ce);const Re=(u.get(w.batchId)||Qn()).add(N);u=u.insert(w.batchId,Re)})}).next(()=>{const v=[],w=u.getReverseIterator();for(;w.hasNext();){const N=w.getNext(),q=N.key,ce=N.value,Re=Dr();ce.forEach(at=>{if(!f.has(at)){const Ot=wo(i.get(at),s.get(at));null!==Ot&&Re.set(at,Ot),f=f.add(at)}}),v.push(this.documentOverlayCache.saveOverlays(t,q,Re))}return $e.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return Ht.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):Ns(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var v}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(f=>{const v=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-f.size):$e.resolve($i());let w=-1,N=f;return v.next(q=>$e.forEach(q,(ce,Re)=>(w<Re.largestBatchId&&(w=Re.largestBatchId),f.get(ce)?$e.resolve():this.remoteDocumentCache.getEntry(t,ce).next(at=>{N=N.insert(ce,at)}))).next(()=>this.populateOverlays(t,q,f)).next(()=>this.computeViews(t,N,q,Qn())).next(ce=>({batchId:w,changes:Pa(ce)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ht(i)).next(s=>{let u=ds();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const f=i.collectionGroup;let v=ds();return this.indexManager.getCollectionParents(t,f).next(w=>$e.forEach(w,N=>{const q=(Re=i,at=N.child(f),new Yi(at,null,Re.explicitOrderBy.slice(),Re.filters.slice(),Re.limit,Re.limitType,Re.startAt,Re.endAt));var Re,at;return this.getDocumentsMatchingCollectionQuery(t,q,s,u).next(ce=>{ce.forEach((Re,at)=>{v=v.insert(Re,at)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(t,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,f,u))).next(v=>{f.forEach((N,q)=>{const ce=q.getKey();null===v.get(ce)&&(v=v.insert(ce,an.newInvalidDocument(ce)))});let w=ds();return v.forEach((N,q)=>{const ce=f.get(N);void 0!==ce&&Qs(ce.mutation,q,Vr.empty(),sn.now()),Co(i,q)&&(w=w.insert(N,q))}),w})}}class Go{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return $e.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,{id:(u=i).id,version:u.version,createTime:Wr(u.createTime)}),$e.resolve();var u}getNamedQuery(t,i){return $e.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,{name:(u=i).name,query:Ue(u.bundledQuery),readTime:Wr(u.readTime)}),$e.resolve();var u}}class na{constructor(){this.overlays=new gr(Ht.comparator),this.hr=new Map}getOverlay(t,i){return $e.resolve(this.overlays.get(i))}getOverlays(t,i){const s=$i();return $e.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,f)=>{this.ht(t,i,f)}),$e.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(s)),$e.resolve()}getOverlaysForCollection(t,i,s){const u=$i(),f=i.length+1,v=new Ht(i.child("")),w=this.overlays.getIteratorFrom(v);for(;w.hasNext();){const N=w.getNext().value,q=N.getKey();if(!i.isPrefixOf(q.path))break;q.path.length===f&&N.largestBatchId>s&&u.set(N.getKey(),N)}return $e.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let f=new gr((q,ce)=>q-ce);const v=this.overlays.getIterator();for(;v.hasNext();){const q=v.getNext().value;if(q.getKey().getCollectionGroup()===i&&q.largestBatchId>s){let ce=f.get(q.largestBatchId);null===ce&&(ce=$i(),f=f.insert(q.largestBatchId,ce)),ce.set(q.getKey(),q)}}const w=$i(),N=f.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((q,ce)=>w.set(q,ce)),!(w.size()>=u)););return $e.resolve(w)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new T(i,s));let f=this.hr.get(i);void 0===f&&(f=Qn(),this.hr.set(i,f)),this.hr.set(i,f.add(s.key))}}class nc{constructor(){this.Pr=new _r(Ei.Ir),this.Tr=new _r(Ei.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){const s=new Ei(t,i);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Ar(new Ei(t,i))}Rr(t,i){t.forEach(s=>this.removeReference(s,i))}Vr(t){const i=new Ht(new st([])),s=new Ei(i,t),u=new Ei(i,t+1),f=[];return this.Tr.forEachInRange([s,u],v=>{this.Ar(v),f.push(v.key)}),f}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const i=new Ht(new st([])),s=new Ei(i,t),u=new Ei(i,t+1);let f=Qn();return this.Tr.forEachInRange([s,u],v=>{f=f.add(v.key)}),f}containsKey(t){const i=new Ei(t,0),s=this.Pr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class Ei{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return Ht.comparator(t.key,i.key)||en(t.pr,i.pr)}static Er(t,i){return en(t.pr,i.pr)||Ht.comparator(t.key,i.key)}}class va{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new _r(Ei.Ir)}checkEmpty(t){return $e.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const f=this.yr;this.yr++;const v=new Na(f,i,s,u);this.mutationQueue.push(v);for(const w of u)this.wr=this.wr.add(new Ei(w.key,f)),this.indexManager.addToCollectionParentIndex(t,w.key.path.popLast());return $e.resolve(v)}lookupMutationBatch(t,i){return $e.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.br(i+1),f=u<0?0:u;return $e.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ei(i,0),u=new Ei(i,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([s,u],v=>{const w=this.Sr(v.pr);f.push(w)}),$e.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new _r(en);return i.forEach(u=>{const f=new Ei(u,0),v=new Ei(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,v],w=>{s=s.add(w.pr)})}),$e.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let f=s;Ht.isDocumentKey(f)||(f=f.child(""));const v=new Ei(new Ht(f),0);let w=new _r(en);return this.wr.forEachWhile(N=>{const q=N.key.path;return!!s.isPrefixOf(q)&&(q.length===u&&(w=w.add(N.pr)),!0)},v),$e.resolve(this.Dr(w))}Dr(t){const i=[];return t.forEach(s=>{const u=this.Sr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){We(0===this.Cr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return $e.forEach(i.mutations,u=>{const f=new Ei(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.wr=s})}Mn(t){}containsKey(t,i){const s=new Ei(i,0),u=this.wr.firstAfterOrEqual(s);return $e.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return $e.resolve()}Cr(t,i){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Np{constructor(t){this.vr=t,this.docs=new gr(Ht.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,v=this.vr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return $e.resolve(s?s.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let s=Ji();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():an.newInvalidDocument(u))}),$e.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let f=Ji();const v=i.path,w=new Ht(v.child("")),N=this.docs.getIteratorFrom(w);for(;N.hasNext();){const{key:q,value:{document:ce}}=N.getNext();if(!v.isPrefixOf(q.path))break;q.path.length>v.length+1||_t(wn(ce),s)<=0||(u.has(ce.key)||Co(i,ce))&&(f=f.insert(ce.key,ce.mutableCopy()))}return $e.resolve(f)}getAllFromCollectionGroup(t,i,s,u){Je()}Fr(t,i){return $e.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Su(this)}getSize(t){return $e.resolve(this.size)}}class Su extends kc{constructor(t){super(),this.ar=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.ar.addEntry(t,u)):this.ar.removeEntry(s)}),$e.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}}class kp{constructor(t){this.persistence=t,this.Mr=new Ho(i=>Ui(i),Io),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Or=0,this.Nr=new nc,this.targetCount=0,this.Lr=wl.Nn()}forEachTarget(t,i){return this.Mr.forEach((s,u)=>i(u)),$e.resolve()}getLastRemoteSnapshotVersion(t){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $e.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Or&&(this.Or=i),$e.resolve()}qn(t){this.Mr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Lr=new wl(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,$e.resolve()}updateTargetData(t,i){return this.qn(i),$e.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,$e.resolve()}removeTargets(t,i,s){let u=0;const f=[];return this.Mr.forEach((v,w)=>{w.sequenceNumber<=i&&null===s.get(w.targetId)&&(this.Mr.delete(v),f.push(this.removeMatchingKeysForTargetId(t,w.targetId)),u++)}),$e.waitFor(f).next(()=>u)}getTargetCount(t){return $e.resolve(this.targetCount)}getTargetData(t,i){const s=this.Mr.get(i)||null;return $e.resolve(s)}addMatchingKeys(t,i,s){return this.Nr.dr(i,s),$e.resolve()}removeMatchingKeys(t,i,s){this.Nr.Rr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(v=>{f.push(u.markPotentiallyOrphaned(t,v))}),$e.waitFor(f)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),$e.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Nr.gr(i);return $e.resolve(s)}containsKey(t,i){return $e.resolve(this.Nr.containsKey(i))}}class _d{constructor(t,i){this.Br={},this.overlays={},this.kr=new J(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new kp(this),this.indexManager=new Yl,this.remoteDocumentCache=new Np(s=>this.referenceDelegate.Kr(s)),this.serializer=new yh(i),this.$r=new Go(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new na,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Br[t.toKey()];return s||(s=new va(i,this.referenceDelegate),this.Br[t.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,s){me("MemoryPersistence","Starting transaction:",t);const u=new Ru(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(f=>this.referenceDelegate.Wr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Gr(t,i){return $e.or(Object.values(this.Br).map(s=>()=>s.containsKey(t,i)))}}class Ru extends wt{constructor(t){super(),this.currentSequenceNumber=t}}class rc{constructor(t){this.persistence=t,this.zr=new nc,this.jr=null}static Hr(t){return new rc(t)}get Jr(){if(this.jr)return this.jr;throw Je()}addReference(t,i,s){return this.zr.addReference(s,i),this.Jr.delete(s.toString()),$e.resolve()}removeReference(t,i,s){return this.zr.removeReference(s,i),this.Jr.add(s.toString()),$e.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),$e.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(f=>this.Jr.add(f.toString()))}).next(()=>s.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Jr,s=>{const u=Ht.fromPath(s);return this.Yr(t,u).next(f=>{f||i.removeEntry(u,$t.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(s=>{s?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return $e.or([()=>$e.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}}class Pu{constructor(t){this.serializer=t}O(t,i,s,u){const f=new Dn("createOrUpgrade",i);var N;s<1&&u>=1&&(t.createObjectStore("owner"),(N=t).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yn,{unique:!0}),N.createObjectStore("documentMutations"),bh(t),function(N){N.createObjectStore("remoteDocuments")}(t));let v=$e.resolve();return s<3&&u>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(t),bh(t)),v=v.next(()=>function(N){const q=N.store("targetGlobal"),ce={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",ce)}(f))),s<4&&u>=4&&(0!==s&&(v=v.next(()=>function(N,q){return q.store("mutations").U().next(ce=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yn,{unique:!0});const Re=q.store("mutations"),at=ce.map(Ot=>Re.put(Ot));return $e.waitFor(at)})}(t,f))),v=v.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(v=v.next(()=>this.Xr(f))),s<6&&u>=6&&(v=v.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(t),this.ei(f)))),s<7&&u>=7&&(v=v.next(()=>this.ti(f))),s<8&&u>=8&&(v=v.next(()=>this.ni(t,f))),s<9&&u>=9&&(v=v.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(v=v.next(()=>this.ri(f))),s<11&&u>=11&&(v=v.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(v=v.next(()=>{!function(N){const q=N.createObjectStore("documentOverlays",{keyPath:Te});q.createIndex("collectionPathOverlayIndex",mt,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",zt,{unique:!1})}(t)})),s<13&&u>=13&&(v=v.next(()=>function(N){const q=N.createObjectStore("remoteDocumentsV14",{keyPath:Ci});q.createIndex("documentKeyIndex",bi),q.createIndex("collectionGroupIndex",pr)}(t)).next(()=>this.ii(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(v=v.next(()=>this.si(t,f))),s<15&&u>=15&&(v=v.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:ee}).createIndex("sequenceNumberIndex",H,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:ie}).createIndex("documentKeyIndex",Ke,{unique:!1})}(t))),s<16&&u>=16&&(v=v.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),v}ei(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=js(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>$e.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",v).next(w=>$e.forEach(w,N=>{We(N.userId===f.userId);const q=R(this.serializer,N);return ec(t,f.userId,q).next(()=>{})}))}))}ti(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((v,w)=>{const N=new st(v),q=[0,An(N)];f.push(i.get(q).next(ce=>ce?$e.resolve():i.put({targetId:0,path:An(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>$e.waitFor(f))})}ni(t,i){t.createObjectStore("collectionParents",{keyPath:re});const s=i.store("collectionParents"),u=new So,f=v=>{if(u.add(v)){const w=v.lastSegment(),N=v.popLast();return s.put({collectionId:w,parent:An(N)})}};return i.store("remoteDocuments").J({H:!0},(v,w)=>{const N=new st(v);return f(N.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([v,w,N],q)=>{const ce=En(w);return f(ce.popLast())}))}ri(t){const i=t.store("targets");return i.J((s,u)=>{const f=z(u),v=ae(this.serializer,f);return i.put(v)})}ii(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((f,v)=>{const w=i.store("remoteDocumentsV14"),N=(Re=v,Re.document?new Ht(st.fromString(Re.document.name).popFirst(5)):Re.noDocument?Ht.fromSegments(Re.noDocument.path):Re.unknownDocument?Ht.fromSegments(Re.unknownDocument.path):Je()).path.toArray(),q={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var Re;u.push(w.put(q))}).next(()=>$e.waitFor(u))}si(t,i){const s=i.store("mutations"),u=ti(this.serializer),f=new _d(rc.Hr,this.serializer.ct);return s.U().next(v=>{const w=new Map;return v.forEach(N=>{var q;let ce=null!==(q=w.get(N.userId))&&void 0!==q?q:Qn();R(this.serializer,N).keys().forEach(Re=>ce=ce.add(Re)),w.set(N.userId,ce)}),$e.forEach(w,(N,q)=>{const ce=new _e(q),Re=Bs.lt(this.serializer,ce),at=f.getIndexManager(ce),Ot=tc.lt(ce,this.serializer,at,f.referenceDelegate);return new bu(u,Ot,Re,at).recalculateAndSaveOverlaysForDocumentKeys(new Si(i,J.oe),N).next()})})}}function bh(c){c.createObjectStore("targetDocuments",{keyPath:oi}).createIndex("documentTargetsIndex",Di,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mi,{unique:!0}),c.createObjectStore("targetGlobal")}const Mu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fc{constructor(t,i,s,u,f,v,w,N,q,ce,Re=16){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.oi=f,this.window=v,this.document=w,this._i=q,this.ai=ce,this.ui=Re,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=at=>Promise.resolve(),!Fc.D())throw new M(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jt(this,u),this.Ti=i+"main",this.serializer=new yh(N),this.Ei=new Fn(this.Ti,this.ui,new Pu(this.serializer)),this.Qr=new Dh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ti(this.serializer),this.$r=new Mr,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ce&&Et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(W.FAILED_PRECONDITION,Mu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new J(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var i=this;return this.Ii=function(){var s=(0,a.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var i=(0,a.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,a.A)(function*(){i.started&&(yield i.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Lc(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(i=>this.isPrimary&&!i?this.yi(t).next(()=>!1):!!i&&this.wi(t).next(()=>!0))).catch(t=>{if(dt(t))return me("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return ic(t).get("owner").next(i=>$e.resolve(this.Si(i)))}bi(t){return Lc(t).delete(this.clientId)}Di(){var t=this;return(0,a.A)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Nn(s,"clientMetadata");return u.U().next(f=>{const v=t.vi(f,18e5),w=f.filter(N=>-1===v.indexOf(N));return $e.forEach(w,N=>u.delete(N.clientId)).next(()=>w)})}).catch(()=>[]);if(t.di)for(const s of i)t.di.removeItem(t.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?$e.resolve(!0):ic(t).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new M(W.FAILED_PRECONDITION,Mu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lc(t).U().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&me("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,a.A)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new Si(i,J.oe);return t.yi(s).next(()=>t.bi(s))}),t.Ei.close(),t.Li()})()}vi(t,i){return t.filter(s=>this.Ci(s.updateTimeMs,i)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>Lc(t).U().next(i=>this.vi(i,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(t,i){return tc.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new pd(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Bs.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,i,s){me("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",f=16===(N=this.ui)?pi:15===N?qr:14===N?Zn:13===N?ir:12===N?on:11===N?Xt:void Je();var N;let v;return this.Ei.runTransaction(t,u,f,w=>(v=new Si(w,this.kr?this.kr.next():J.oe),"readwrite-primary"===i?this.gi(v).next(N=>!!N||this.pi(v)).next(N=>{if(!N)throw Et(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new M(W.FAILED_PRECONDITION,Ut);return s(v)}).next(N=>this.wi(v).next(()=>N)):this.ki(v).next(()=>s(v)))).then(w=>(v.raiseOnCommittedEvent(),w))}ki(t){return ic(t).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new M(W.FAILED_PRECONDITION,Mu)})}wi(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ic(t).put("owner",i)}static D(){return Fn.D()}yi(t){const i=ic(t);return i.get("owner").next(s=>this.Si(s)?(me("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):$e.resolve())}Ci(t,i){const s=Date.now();return!(t<s-i||t>s&&(Et(`Detected an update time that is in the future: ${t} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const i=/(?:Version|Mobile)\/1[456]/;(0,Se.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var i;try{const s=null!==(null===(i=this.di)||void 0===i?void 0:i.getItem(this.Fi(t)));return me("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Et("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){Et("Failed to set zombie client id.",t)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ic(c){return Nn(c,"owner")}function Lc(c){return Nn(c,"clientMetadata")}function xu(c,t){let i=c.projectId;return c.isDefaultDatabase||(i+="."+c.database),"firestore/"+t+"/"+i+"/"}class Ou{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.qi=s,this.Qi=u}static Ki(t,i){let s=Qn(),u=Qn();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ou(t,i.fromCache,s,u)}}class Vc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Sh{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Se.nr)()?8:Tr((0,Se.ZQ)())>0?6:4}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,s,u){const f={result:null};return this.ji(t,i).next(v=>{f.result=v}).next(()=>{if(!f.result)return this.Hi(t,i,u,s).next(v=>{f.result=v})}).next(()=>{if(f.result)return;const v=new Vc;return this.Ji(t,i,v).next(w=>{if(f.result=w,this.Ui)return this.Yi(t,i,v,w.size)})}).next(()=>f.result)}Yi(t,i,s,u){return s.documentReadCount<this.Wi?(lt()<=le.$b.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$e.resolve()):(lt()<=le.$b.DEBUG&&me("QueryEngine","Query:",Eo(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(lt()<=le.$b.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Q(i))):$e.resolve())}ji(t,i){if(da(i))return $e.resolve(null);let s=Q(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=bn(i,null,"F"),s=Q(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const v=Qn(...f);return this.zi.getDocuments(t,v).next(w=>this.indexManager.getMinOffset(t,s).next(N=>{const q=this.Zi(i,w);return this.Xi(i,q,v,N.readTime)?this.ji(t,bn(i,null,"F")):this.es(t,q,i,N)}))})))}Hi(t,i,s,u){return da(i)||u.isEqual($t.min())?$e.resolve(null):this.zi.getDocuments(t,s).next(f=>{const v=this.Zi(i,f);return this.Xi(i,v,s,u)?$e.resolve(null):(lt()<=le.$b.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Eo(i)),this.es(t,v,i,Jn(u,-1)).next(w=>w))})}Zi(t,i){let s=new _r(ks(t));return i.forEach((u,f)=>{Co(t,f)&&(s=s.add(f))}),s}Xi(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const f="F"===t.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ji(t,i,s){return lt()<=le.$b.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Eo(i)),this.zi.getDocumentsMatchingQuery(t,i,Vt.min(),s)}es(t,i,s,u){return this.zi.getDocumentsMatchingQuery(t,s,u).next(f=>(i.forEach(v=>{f=f.insert(v.key,v)}),f))}}class Vo{constructor(t,i,s,u){this.persistence=t,this.ts=i,this.serializer=u,this.ns=new gr(en),this.rs=new Ho(f=>Ui(f),Io),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(s)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bu(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}}function Ba(c,t,i,s){return new Vo(c,t,i,s)}function Ti(c,t){return Id.apply(this,arguments)}function Id(){return(Id=(0,a.A)(function*(c,t){const i=Ie(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i._s(t),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const v=[],w=[];let N=Qn();for(const q of u){v.push(q.batchId);for(const ce of q.mutations)N=N.add(ce.key)}for(const q of f){w.push(q.batchId);for(const ce of q.mutations)N=N.add(ce.key)}return i.localDocuments.getDocuments(s,N).next(q=>({us:q,removedBatchIds:v,addedBatchIds:w}))})})})).apply(this,arguments)}function Ph(c){const t=Ie(c);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function Ed(c,t,i){let s=Qn(),u=Qn();return i.forEach(f=>s=s.add(f)),t.getEntries(c,s).next(f=>{let v=Ji();return i.forEach((w,N)=>{const q=f.get(w);N.isFoundDocument()!==q.isFoundDocument()&&(u=u.add(w)),N.isNoDocument()&&N.version.isEqual($t.min())?(t.removeEntry(w,N.readTime),v=v.insert(w,N)):!q.isValidDocument()||N.version.compareTo(q.version)>0||0===N.version.compareTo(q.version)&&q.hasPendingWrites?(t.addEntry(N),v=v.insert(w,N)):me("LocalStore","Ignoring outdated watch update for ",w,". Current version:",q.version," Watch version:",N.version)}),{cs:v,ls:u}})}function Mh(c,t){const i=Ie(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function ra(c,t){const i=Ie(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Qr.getTargetData(s,t).next(f=>f?(u=f,$e.resolve(u)):i.Qr.allocateTargetId(s).next(v=>(u=new ea(t,v,"TargetPurposeListen",s.currentSequenceNumber),i.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.ns=i.ns.insert(s.targetId,s),i.rs.set(t,s.targetId)),s})}function Mo(c,t,i){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,a.A)(function*(c,t,i){const s=Ie(c),u=s.ns.get(t),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!dt(v))throw v;me("LocalStore",`Failed to update sequence numbers for target ${t}: ${v}`)}s.ns=s.ns.remove(t),s.rs.delete(u.target)})).apply(this,arguments)}function Sl(c,t,i){const s=Ie(c);let u=$t.min(),f=Qn();return s.persistence.runTransaction("Execute query","readwrite",v=>function(N,q,ce){const Re=Ie(N),at=Re.rs.get(ce);return void 0!==at?$e.resolve(Re.ns.get(at)):Re.Qr.getTargetData(q,ce)}(s,v,Q(t)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(v,w.targetId).next(N=>{f=N})}).next(()=>s.ts.getDocumentsMatchingQuery(v,t,i?u:$t.min(),i?f:Qn())).next(w=>(Bc(s,us(t),w),{documents:w,hs:f})))}function Rl(c,t){const i=Ie(c),s=Ie(i.Qr),u=i.ns.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,t).next(v=>v?v.target:null))}function $c(c,t){const i=Ie(c),s=i.ss.get(t)||$t.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.os.getAllFromCollectionGroup(u,t,Jn(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Bc(i,t,u),u))}function Bc(c,t,i){let s=c.ss.get(t)||$t.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),c.ss.set(t,s)}function oc(){return(oc=(0,a.A)(function*(c,t,i,s){const u=Ie(c);let f=Qn(),v=Ji();for(const q of i){const ce=t.Ps(q.metadata.name);q.document&&(f=f.add(ce));const Re=t.Is(q);Re.setReadTime(t.Ts(q.metadata.readTime)),v=v.insert(ce,Re)}const w=u.os.newChangeBuffer({trackRemovals:!0}),N=yield ra(u,(ce=s,Q(zo(st.fromString(`__bundle__/docs/${ce}`)))));var ce;return u.persistence.runTransaction("Apply bundle documents","readwrite",q=>Ed(q,w,v).next(ce=>(w.apply(q),ce)).next(ce=>u.Qr.removeMatchingKeysForTargetId(q,N.targetId).next(()=>u.Qr.addMatchingKeys(q,f,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(q,ce.cs,ce.ls)).next(()=>ce.cs)))})).apply(this,arguments)}function Lp(c,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,a.A)(function*(c,t,i=Qn()){const s=yield ra(c,Q(Ue(t.bundledQuery))),u=Ie(c);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=Wr(t.readTime);if(s.snapshotVersion.compareTo(v)>=0)return u.$r.saveNamedQuery(f,t);const w=s.withResumeToken(mi.EMPTY_BYTE_STRING,v);return u.ns=u.ns.insert(w.targetId,w),u.Qr.updateTargetData(f,w).next(()=>u.Qr.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Qr.addMatchingKeys(f,i,s.targetId)).next(()=>u.$r.saveNamedQuery(f,t))})})).apply(this,arguments)}function ja(c,t){return`firestore_clients_${c}_${t}`}function Dd(c,t,i){let s=`firestore_mutations_${c}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function za(c,t){return`firestore_targets_${c}_${t}`}class jc{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Es(t,i,s){const u=JSON.parse(s);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new M(u.error.code,u.error.message))),v?new jc(t,i,u.state,f):(Et("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class sc{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Es(t,i){const s=JSON.parse(i);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new M(s.error.code,s.error.message))),f?new sc(t,s.state,u):(Et("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Nu{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Es(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Fs();for(let v=0;u&&v<s.activeTargetIds.length;++v)u=hn(s.activeTargetIds[v]),f=f.add(s.activeTargetIds[v]);return u?new Nu(t,f):(Et("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class xh{constructor(t,i){this.clientId=t,this.onlineState=i}static Es(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new xh(i.clientId,i.onlineState):(Et("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Oh{constructor(){this.activeTargetIds=Fs()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zc{constructor(t,i,s,u,f){this.window=t,this.oi=i,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new gr(en),this.started=!1,this.ys=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=ja(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Oh),this.bs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,a.A)(function*(){const i=yield t.syncEngine.Bi();for(const u of i){if(u===t.Vs)continue;const f=t.getItem(ja(t.persistenceKey,u));if(f){const v=Nu.Es(u,f);v&&(t.ps=t.ps.insert(v.clientId,v))}}t.Ms();const s=t.storage.getItem(t.vs);if(s){const u=t.xs(s);u&&t.Os(u)}for(const u of t.ys)t.gs(u);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let i=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.Ls(t,"pending")}updateMutationState(t,i,s){this.Ls(t,i,s),this.Bs(t)}addLocalQueryTarget(t){let i="not-current";if(this.isActiveQueryTarget(t)){const s=this.storage.getItem(za(this.persistenceKey,t));if(s){const u=sc.Es(t,s);u&&(i=u.state)}}return this.ks.As(t),this.Ms(),i}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(za(this.persistenceKey,t))}updateQueryState(t,i,s){this.qs(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Bs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return me("SharedClientState","READ",t,i),i}setItem(t,i){me("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){me("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var i=this;const s=t;if(s.storageArea===this.storage){if(me("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,a.A)(function*(){if(i.started){if(null!==s.key)if(i.bs.test(s.key)){if(null==s.newValue){const u=i.$s(s.key);return i.Us(u,null)}{const u=i.Ws(s.key,s.newValue);if(u)return i.Us(u.clientId,u)}}else if(i.Ds.test(s.key)){if(null!==s.newValue){const u=i.Gs(s.key,s.newValue);if(u)return i.zs(u)}}else if(i.Cs.test(s.key)){if(null!==s.newValue){const u=i.js(s.key,s.newValue);if(u)return i.Hs(u)}}else if(s.key===i.vs){if(null!==s.newValue){const u=i.xs(s.newValue);if(u)return i.Os(u)}}else if(s.key===i.Ss){const u=function(v){let w=J.oe;if(null!=v)try{const N=JSON.parse(v);We("number"==typeof N),w=N}catch(N){Et("SharedClientState","Failed to read sequence number from WebStorage",N)}return w}(s.newValue);u!==J.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Fs){const u=i.Js(s.newValue);yield Promise.all(u.map(f=>i.syncEngine.Ys(f)))}}else i.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(t,i,s){const u=new jc(this.currentUser,t,i,s),f=Dd(this.persistenceKey,this.currentUser,t);this.setItem(f,u.ds())}Bs(t){const i=Dd(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,i,s){const u=za(this.persistenceKey,t),f=new sc(t,i,s);this.setItem(u,f.ds())}Ks(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Fs,i)}$s(t){const i=this.bs.exec(t);return i?i[1]:null}Ws(t,i){const s=this.$s(t);return Nu.Es(s,i)}Gs(t,i){const s=this.Ds.exec(t),u=Number(s[1]);return jc.Es(new _e(void 0!==s[2]?s[2]:null),u,i)}js(t,i){const s=this.Cs.exec(t),u=Number(s[1]);return sc.Es(u,i)}xs(t){return xh.Es(t)}Js(t){return JSON.parse(t)}zs(t){var i=this;return(0,a.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.Zs(t.batchId,t.state,t.error);me("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,i){const s=i?this.ps.insert(t,i):this.ps.remove(t),u=this.Ns(this.ps),f=this.Ns(s),v=[],w=[];return f.forEach(N=>{u.has(N)||v.push(N)}),u.forEach(N=>{f.has(N)||w.push(N)}),this.syncEngine.eo(v,w).then(()=>{this.ps=s})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let i=Fs();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class ac{constructor(){this.no=new Oh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,s){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Oh,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Nh{io(t){}shutdown(){}}class lc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cc=null;function uc(){return null===cc?cc=268435456+Math.round(2147483648*Math.random()):cc++,"0x"+cc.toString(16)}const I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const p="WebChannelConnection";class D extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+i.host,this.So=`projects/${u}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Do(){return!1}Co(i,s,u,f,v){const w=uc(),N=this.vo(i,s.toUriEncodedString());me("RestConnection",`Sending RPC '${i}' ${w}:`,N,u);const q={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(q,f,v),this.Mo(i,N,q,u).then(ce=>(me("RestConnection",`Received RPC '${i}' ${w}: `,ce),ce),ce=>{throw Ye("RestConnection",`RPC '${i}' ${w} failed with error: `,ce,"url: ",N,"request:",u),ce})}xo(i,s,u,f,v,w){return this.Co(i,s,u,f,v)}Fo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+xe,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,v)=>i[v]=f),u&&u.headers.forEach((f,v)=>i[v]=f)}vo(i,s){return`${this.wo}/v1/${s}:${I[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,s,u){const f=uc();return new Promise((v,w)=>{const N=new Le;N.setWithCredentials(!0),N.listenOnce(Xe.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case et.NO_ERROR:const ce=N.getResponseJson();me(p,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(ce)),v(ce);break;case et.TIMEOUT:me(p,`RPC '${t}' ${f} timed out`),w(new M(W.DEADLINE_EXCEEDED,"Request time out"));break;case et.HTTP_ERROR:const Re=N.getStatus();if(me(p,`RPC '${t}' ${f} failed with status:`,Re,"response text:",N.getResponseText()),Re>0){let at=N.getResponseJson();Array.isArray(at)&&(at=at[0]);const Ot=at?.error;if(Ot&&Ot.status&&Ot.message){const cn=function(pn){const er=pn.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(er)>=0?er:W.UNKNOWN}(Ot.status);w(new M(cn,Ot.message))}else w(new M(W.UNKNOWN,"Server responded with status "+N.getStatus()))}else w(new M(W.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{me(p,`RPC '${t}' ${f} completed.`)}});const q=JSON.stringify(u);me(p,`RPC '${t}' ${f} sending request:`,u),N.send(i,"POST",q,s,15)})}Oo(t,i,s){const u=uc(),f=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],v=Ge(),w=It(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(N.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(N.xmlHttpFactory=new Fe({})),this.Fo(N.initMessageHeaders,i,s),N.encodeInitMessageHeaders=!0;const ce=f.join("");me(p,`Creating RPC '${t}' stream ${u}: ${ce}`,N);const Re=v.createWebChannel(ce,N);let at=!1,Ot=!1;const cn=new h({lo:pn=>{Ot?me(p,`Not sending because RPC '${t}' stream ${u} is closed:`,pn):(at||(me(p,`Opening RPC '${t}' stream ${u} transport.`),Re.open(),at=!0),me(p,`RPC '${t}' stream ${u} sending:`,pn),Re.send(pn))},ho:()=>Re.close()}),In=(pn,er,fr)=>{pn.listen(er,Vn=>{try{fr(Vn)}catch(xr){setTimeout(()=>{throw xr},0)}})};return In(Re,ke.EventType.OPEN,()=>{Ot||(me(p,`RPC '${t}' stream ${u} transport opened.`),cn.mo())}),In(Re,ke.EventType.CLOSE,()=>{Ot||(Ot=!0,me(p,`RPC '${t}' stream ${u} transport closed`),cn.po())}),In(Re,ke.EventType.ERROR,pn=>{Ot||(Ot=!0,Ye(p,`RPC '${t}' stream ${u} transport errored:`,pn),cn.po(new M(W.UNAVAILABLE,"The operation could not be completed")))}),In(Re,ke.EventType.MESSAGE,pn=>{var er;if(!Ot){const fr=pn.data[0];We(!!fr);const xr=fr.error||(null===(er=fr[0])||void 0===er?void 0:er.error);if(xr){me(p,`RPC '${t}' stream ${u} received error:`,xr);const li=xr.status;let Kr=function(vt){const bt=B[vt];if(void 0!==bt)return nn(bt)}(li),Dt=xr.message;void 0===Kr&&(Kr=W.INTERNAL,Dt="Unknown error status: "+li+" with message "+xr.message),Ot=!0,cn.po(new M(Kr,Dt)),Re.close()}else me(p,`RPC '${t}' stream ${u} received:`,fr),cn.yo(fr)}}),In(w,Be.STAT_EVENT,pn=>{pn.stat===qe.PROXY?me(p,`RPC '${t}' stream ${u} detected buffering proxy`):pn.stat===qe.NOPROXY&&me(p,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{cn.fo()},0),cn}}function K(){return typeof window<"u"?window:null}function ge(){return typeof document<"u"?document:null}function ht(c){return new vr(c,!0)}class kt{constructor(t,i,s=1e3,u=1.5,f=6e4){this.oi=t,this.timerId=i,this.No=s,this.Lo=u,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const i=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),u=Math.max(0,i-s);u>0&&me("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class un{constructor(t,i,s,u,f,v,w,N){this.oi=t,this.Go=s,this.zo=u,this.connection=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=w,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new kt(t,i)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,a.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,a.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){var s=this;return(0,a.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==t?s.Yo.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Et(i.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):i&&i.code===W.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.Ao(i)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.jo===i&&this.u_(s,u)},s=>{t(()=>{const u=new M(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(u)})})}u_(t,i){const s=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{s(()=>this.c_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}e_(){var t=this;this.state=5,this.Yo.$o((0,a.A)(function*(){t.state=0,t.start()}))}c_(t){return me("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jn extends un{constructor(t,i,s,u,f,v){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,v),this.serializer=f}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();const i=function Il(c,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(q=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Je(),u=t.targetChange.targetIds||[],f=function(q,ce){return q.useProto3Json?(We(void 0===ce||"string"==typeof ce),mi.fromBase64String(ce||"")):(We(void 0===ce||ce instanceof Buffer||ce instanceof Uint8Array),mi.fromUint8Array(ce||new Uint8Array))}(c,t.targetChange.resumeToken),v=t.targetChange.cause,w=v&&function(q){const ce=void 0===q.code?W.UNKNOWN:nn(q.code);return new M(ce,q.message||"")}(v);i=new Xr(s,u,f,w||null)}else if("documentChange"in t){const s=t.documentChange,u=eo(c,s.document.name),f=Wr(s.document.updateTime),v=s.document.createTime?Wr(s.document.createTime):$t.min(),w=new jt({mapValue:{fields:s.document.fields}}),N=an.newFoundDocument(u,f,v,w);i=new mn(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in t){const s=t.documentDelete,u=eo(c,s.document),f=s.readTime?Wr(s.readTime):$t.min(),v=an.newNoDocument(u,f);i=new mn([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){const s=t.documentRemove,u=eo(c,s.document);i=new mn([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Je();{const s=t.filter,{count:u=0,unchangedNames:f}=s,v=new F(u,f);i=new On(s.targetId,v)}}var q;return i}(this.serializer,t),s=function(f){if(!("targetChange"in f))return $t.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?$t.min():v.readTime?Wr(v.readTime):$t.min()}(t);return this.listener.h_(i,s)}P_(t){const i={};i.database=yr(this.serializer),i.addTarget=function(f,v){let w;const N=v.target;if(w=jo(N)?{documents:mo(f,N)}:{query:El(f,N)._t},w.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){w.resumeToken=ka(f,v.resumeToken);const q=gs(f,v.expectedCount);null!==q&&(w.expectedCount=q)}else if(v.snapshotVersion.compareTo($t.min())>0){w.readTime=Ps(f,v.snapshotVersion.toTimestamp());const q=gs(f,v.expectedCount);null!==q&&(w.expectedCount=q)}return w}(this.serializer,t);const s=function Lo(c,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.i_(i)}I_(t){const i={};i.database=yr(this.serializer),i.removeTarget=t,this.i_(i)}}class rr extends un{constructor(t,i,s,u,f,v){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,v),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(We(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const i=function lo(c,t){return c&&c.length>0?(We(void 0!==t),c.map(i=>function(u,f){let v=Wr(u.updateTime?u.updateTime:f);return v.isEqual($t.min())&&(v=Wr(f)),new gl(v,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=Wr(t.commitTime);return this.listener.A_(s,i)}return We(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=yr(this.serializer),this.i_(t)}d_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>Ii(this.serializer,s))};this.i_(i)}}class Gr extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new M(W.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,s,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.Co(t,Ms(i,s),u,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new M(W.UNKNOWN,f.toString())})}xo(t,i,s,u,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,w])=>this.connection.xo(t,Ms(i,s),u,v,w,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new M(W.UNKNOWN,v.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Ko{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Et(i),this.y_=!1):me("OnlineStateTracker",i)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class _a{constructor(t,i,s,u,f){var v=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(w=>{s.enqueueAndForget((0,a.A)(function*(){var N;Pi(v)&&(me("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,a.A)(function*(ce){const Re=Ie(ce);Re.M_.add(4),yield Ha(Re),Re.N_.set("Unknown"),Re.M_.delete(4),yield Ia(Re)}),function q(ce){return N.apply(this,arguments)})(v))}))}),this.N_=new Ko(s,u)}}function Ia(c){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.A)(function*(c){if(Pi(c))for(const t of c.x_)yield t(!0)})).apply(this,arguments)}function Ha(c){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,a.A)(function*(c){for(const t of c.x_)yield t(!1)})).apply(this,arguments)}function zs(c,t){const i=Ie(c);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),Ea(i)?ia(i):Vu(i).Xo()&&Wc(i,t))}function Wa(c,t){const i=Ie(c),s=Vu(i);i.F_.delete(t),s.Xo()&&ku(i,t),0===i.F_.size&&(s.Xo()?s.n_():Pi(i)&&i.N_.set("Unknown"))}function Wc(c,t){if(c.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Vu(c).P_(t)}function ku(c,t){c.L_.xe(t),Vu(c).I_(t)}function ia(c){c.L_=new Zr({getRemoteKeysForTarget:t=>c.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>c.F_.get(t)||null,tt:()=>c.datastore.serializer.databaseId}),Vu(c).start(),c.N_.w_()}function Ea(c){return Pi(c)&&!Vu(c).Zo()&&c.F_.size>0}function Pi(c){return 0===Ie(c).M_.size}function Fu(c){c.L_=void 0}function kh(c){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,a.A)(function*(c){c.N_.set("Online")})).apply(this,arguments)}function Qy(c){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,a.A)(function*(c){c.F_.forEach((t,i)=>{Wc(c,t)})})).apply(this,arguments)}function Lh(c,t){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,a.A)(function*(c,t){Fu(c),Ea(c)?(c.N_.D_(t),ia(c)):c.N_.set("Unknown")})).apply(this,arguments)}function Im(c,t,i){return Td.apply(this,arguments)}function Td(){return Td=(0,a.A)(function*(c,t,i){if(c.N_.set("Online"),t instanceof Xr&&2===t.state&&t.cause)try{yield(s=(0,a.A)(function*(f,v){const w=v.cause;for(const N of v.targetIds)f.F_.has(N)&&(yield f.remoteSyncer.rejectListen(N,w),f.F_.delete(N),f.L_.removeTarget(N))}),function u(f,v){return s.apply(this,arguments)})(c,t)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Gc(c,s)}else if(t instanceof mn?c.L_.Ke(t):t instanceof On?c.L_.He(t):c.L_.We(t),!i.isEqual($t.min()))try{const s=yield Ph(c.localStore);i.compareTo(s)>=0&&(yield function(f,v){const w=f.L_.rt(v);return w.targetChanges.forEach((N,q)=>{if(N.resumeToken.approximateByteSize()>0){const ce=f.F_.get(q);ce&&f.F_.set(q,ce.withResumeToken(N.resumeToken,v))}}),w.targetMismatches.forEach((N,q)=>{const ce=f.F_.get(N);if(!ce)return;f.F_.set(N,ce.withResumeToken(mi.EMPTY_BYTE_STRING,ce.snapshotVersion)),ku(f,N);const Re=new ea(ce.target,N,q,ce.sequenceNumber);Wc(f,Re)}),f.remoteSyncer.applyRemoteEvent(w)}(c,i))}catch(s){me("RemoteStore","Failed to raise snapshot:",s),yield Gc(c,s)}var s}),Td.apply(this,arguments)}function Gc(c,t,i){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,a.A)(function*(c,t,i){if(!dt(t))throw t;c.M_.add(1),yield Ha(c),c.N_.set("Offline"),i||(i=()=>Ph(c.localStore)),c.asyncQueue.enqueueRetryable((0,a.A)(function*(){me("RemoteStore","Retrying IndexedDB access"),yield i(),c.M_.delete(1),yield Ia(c)}))})).apply(this,arguments)}function Em(c,t){return t().catch(i=>Gc(c,i,t))}function Lu(c){return Up.apply(this,arguments)}function Up(){return(Up=(0,a.A)(function*(c){const t=Ie(c),i=hc(t);let s=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Cm(t);)try{const u=yield Mh(t.localStore,s);if(null===u){0===t.v_.length&&i.n_();break}s=u.batchId,Yy(t,u)}catch(u){yield Gc(t,u)}$p(t)&&Dm(t)})).apply(this,arguments)}function Cm(c){return Pi(c)&&c.v_.length<10}function Yy(c,t){c.v_.push(t);const i=hc(c);i.Xo()&&i.E_&&i.d_(t.mutations)}function $p(c){return Pi(c)&&!hc(c).Zo()&&c.v_.length>0}function Dm(c){hc(c).start()}function Jy(c){return Am.apply(this,arguments)}function Am(){return(Am=(0,a.A)(function*(c){hc(c).V_()})).apply(this,arguments)}function Tm(c){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,a.A)(function*(c){const t=hc(c);for(const i of c.v_)t.d_(i.mutations)})).apply(this,arguments)}function Hs(c,t,i){return wm.apply(this,arguments)}function wm(){return(wm=(0,a.A)(function*(c,t,i){const s=c.v_.shift(),u=Fo.from(s,t,i);yield Em(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield Lu(c)})).apply(this,arguments)}function bm(c,t){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,a.A)(function*(c,t){var i;t&&hc(c).E_&&(yield(i=(0,a.A)(function*(u,f){if(Nt(w=f.code)&&w!==W.ABORTED){const v=u.v_.shift();hc(u).t_(),yield Em(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,f)),yield Lu(u)}var w}),function s(u,f){return i.apply(this,arguments)})(c,t)),$p(c)&&Dm(c)}),Sm.apply(this,arguments)}function $h(c,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,a.A)(function*(c,t){const i=Ie(c);i.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=Pi(i);i.M_.add(3),yield Ha(i),s&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield Ia(i)})).apply(this,arguments)}function Bh(c,t){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.A)(function*(c,t){const i=Ie(c);t?(i.M_.delete(2),yield Ia(i)):t||(i.M_.add(2),yield Ha(i),i.N_.set("Unknown"))})).apply(this,arguments)}function Vu(c){return c.B_||(c.B_=function(i,s,u){const f=Ie(i);return f.f_(),new jn(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Po:kh.bind(null,c),To:Qy.bind(null,c),Ao:Lh.bind(null,c),h_:Im.bind(null,c)}),c.x_.push(function(){var t=(0,a.A)(function*(i){i?(c.B_.t_(),Ea(c)?ia(c):c.N_.set("Unknown")):(yield c.B_.stop(),Fu(c))});return function(i){return t.apply(this,arguments)}}())),c.B_}function hc(c){return c.k_||(c.k_=function(i,s,u){const f=Ie(i);return f.f_(),new rr(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Po:()=>Promise.resolve(),To:Jy.bind(null,c),Ao:bm.bind(null,c),R_:Tm.bind(null,c),A_:Hs.bind(null,c)}),c.x_.push(function(){var t=(0,a.A)(function*(i){i?(c.k_.t_(),yield Lu(c)):(yield c.k_.stop(),c.v_.length>0&&(me("RemoteStore",`Stopping write stream with ${c.v_.length} pending writes`),c.v_=[]))});return function(i){return t.apply(this,arguments)}}())),c.k_}class jh{constructor(t,i,s,u,f){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,f){const v=Date.now()+s,w=new jh(t,i,v,u,f);return w.start(s),w}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(c,t){if(Et("AsyncQueue",`${t}: ${c}`),dt(c))return new M(W.UNAVAILABLE,`${t}: ${c}`);throw c}class bd{constructor(t){this.comparator=t?(i,s)=>t(i,s)||Ht.comparator(i.key,s.key):(i,s)=>Ht.comparator(i.key,s.key),this.keyedMap=ds(),this.sortedSet=new gr(this.comparator)}static emptySet(t){return new bd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof bd)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new bd;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Zy{constructor(){this.q_=new gr(Ht.comparator)}track(t){const i=t.doc.key,s=this.q_.get(i);s?0!==t.type&&3===s.type?this.q_=this.q_.insert(i,t):3===t.type&&1!==s.type?this.q_=this.q_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.q_=this.q_.remove(i):1===t.type&&2===s.type?this.q_=this.q_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):Je():this.q_=this.q_.insert(i,t)}Q_(){const t=[];return this.q_.inorderTraversal((i,s)=>{t.push(s)}),t}}class Sd{constructor(t,i,s,u,f,v,w,N,q){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=w,this.excludesMetadataChanges=N,this.hasCachedResults=q}static fromInitialDocuments(t,i,s,u,f){const v=[];return i.forEach(w=>{v.push({type:0,doc:w})}),new Sd(t,i,bd.emptySet(i),v,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dr(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class W0{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class e_{constructor(){this.queries=new Ho(t=>Cr(t),dr),this.onlineState="Unknown",this.z_=new Set}}function fc(c,t){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,a.A)(function*(c,t){const i=Ie(c);let s=3;const u=t.query;let f=i.queries.get(u);f?!f.W_()&&t.G_()&&(s=2):(f=new W0,s=t.G_()?0:1);try{switch(s){case 0:f.K_=yield i.onListen(u,!0);break;case 1:f.K_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(v){const w=wd(v,`Initialization of query '${Eo(t.query)}' failed`);return void t.onError(w)}i.queries.set(u,f),f.U_.push(t),t.j_(i.onlineState),f.K_&&t.H_(f.K_)&&zp(i)})).apply(this,arguments)}function zh(c,t){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,a.A)(function*(c,t){const i=Ie(c),s=t.query;let u=3;const f=i.queries.get(s);if(f){const v=f.U_.indexOf(t);v>=0&&(f.U_.splice(v,1),0===f.U_.length?u=t.G_()?0:1:!f.W_()&&t.G_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function jp(c,t){const i=Ie(c);let s=!1;for(const u of t){const v=i.queries.get(u.query);if(v){for(const w of v.U_)w.H_(u)&&(s=!0);v.K_=u}}s&&zp(i)}function Ga(c,t,i){const s=Ie(c),u=s.queries.get(t);if(u)for(const f of u.U_)f.onError(i);s.queries.delete(t)}function zp(c){c.z_.forEach(t=>{t.next()})}var Rd,Uu;(Uu=Rd||(Rd={})).J_="default",Uu.Cache="cache";class Hp{constructor(t,i,s){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new Sd(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Sd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Rd.Cache}}class Rm{constructor(t,i){this.ia=t,this.byteLength=i}sa(){return"metadata"in this.ia}}class Wp{constructor(t){this.serializer=t}Ps(t){return eo(this.serializer,t)}Is(t){return t.metadata.exists?ss(this.serializer,t.document,!1):an.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return Wr(t)}}class Hh{constructor(t,i,s){this.oa=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pd(t)}_a(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.ia.namedQuery)this.queries.push(t.ia.namedQuery);else if(t.ia.documentMetadata){this.documents.push({metadata:t.ia.documentMetadata}),t.ia.documentMetadata.exists||++i;const s=st.fromString(t.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.ia.document&&(this.documents[this.documents.length-1].document=t.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(t){const i=new Map,s=new Wp(this.serializer);for(const u of t)if(u.metadata.queries){const f=s.Ps(u.metadata.name);for(const v of u.metadata.queries){const w=(i.get(v)||Qn()).add(f);i.set(v,w)}}return i}complete(){var t=this;return(0,a.A)(function*(){const i=yield function Cd(c,t,i,s){return oc.apply(this,arguments)}(t.localStore,new Wp(t.serializer),t.documents,t.oa.id),s=t.aa(t.documents);for(const u of t.queries)yield Lp(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,ua:t.collectionGroups,ca:i}})()}}function Pd(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Wh{constructor(t){this.key=t}}class Pm{constructor(t){this.key=t}}class Mm{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Qn(),this.mutatedKeys=Qn(),this.Ia=ks(t),this.Ta=new bd(this.Ia)}get Ea(){return this.la}da(t,i){const s=i?i.Aa:new Zy,u=i?i.Ta:this.Ta;let f=i?i.mutatedKeys:this.mutatedKeys,v=u,w=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((ce,Re)=>{const at=u.get(ce),Ot=Co(this.query,Re)?Re:null,cn=!!at&&this.mutatedKeys.has(at.key),In=!!Ot&&(Ot.hasLocalMutations||this.mutatedKeys.has(Ot.key)&&Ot.hasCommittedMutations);let pn=!1;at&&Ot?at.data.isEqual(Ot.data)?cn!==In&&(s.track({type:3,doc:Ot}),pn=!0):this.Ra(at,Ot)||(s.track({type:2,doc:Ot}),pn=!0,(N&&this.Ia(Ot,N)>0||q&&this.Ia(Ot,q)<0)&&(w=!0)):!at&&Ot?(s.track({type:0,doc:Ot}),pn=!0):at&&!Ot&&(s.track({type:1,doc:at}),pn=!0,(N||q)&&(w=!0)),pn&&(Ot?(v=v.add(Ot),f=In?f.add(ce):f.delete(ce)):(v=v.delete(ce),f=f.delete(ce)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ce="F"===this.query.limitType?v.last():v.first();v=v.delete(ce.key),f=f.delete(ce.key),s.track({type:1,doc:ce})}return{Ta:v,Aa:s,Xi:w,mutatedKeys:f}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const f=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const v=t.Aa.Q_();v.sort((ce,Re)=>function(Ot,cn){const In=pn=>{switch(pn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return In(Ot)-In(cn)}(ce.type,Re.type)||this.Ia(ce.doc,Re.doc)),this.Va(s),u=null!=u&&u;const w=i&&!u?this.ma():[],N=0===this.Pa.size&&this.current&&!u?1:0,q=N!==this.ha;return this.ha=N,0!==v.length||q?{snapshot:new Sd(this.query,t.Ta,f,v,t.mutatedKeys,0===N,q,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:w}:{fa:w}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Zy,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Qn(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const i=[];return t.forEach(s=>{this.Pa.has(s)||i.push(new Pm(s))}),this.Pa.forEach(s=>{t.has(s)||i.push(new Wh(s))}),i}pa(t){this.la=t.hs,this.Pa=Qn();const i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return Sd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class t_{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class xm{constructor(t){this.key=t,this.wa=!1}}class n_{constructor(t,i,s,u,f,v){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Sa={},this.ba=new Ho(w=>Cr(w),dr),this.Da=new Map,this.Ca=new Set,this.va=new gr(Ht.comparator),this.Fa=new Map,this.Ma=new nc,this.xa={},this.Oa=new Map,this.Na=wl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function r_(c,t){return as.apply(this,arguments)}function as(){return(as=(0,a.A)(function*(c,t,i=!0){const s=Xc(c);let u;const f=s.ba.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.ya()):u=yield Kh(s,t,i,!0),u})).apply(this,arguments)}function Gp(c,t){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,a.A)(function*(c,t){const i=Xc(c);yield Kh(i,t,!0,!1)})).apply(this,arguments)}function Kh(c,t,i,s){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.A)(function*(c,t,i,s){const u=yield ra(c.localStore,Q(t)),f=u.targetId,v=i?c.sharedClientState.addLocalQueryTarget(f):"not-current";let w;return s&&(w=yield qc(c,t,f,"current"===v,u.resumeToken)),c.isPrimaryClient&&i&&zs(c.remoteStore,u),w})).apply(this,arguments)}function qc(c,t,i,s,u){return qh.apply(this,arguments)}function qh(){return qh=(0,a.A)(function*(c,t,i,s,u){c.Ba=(Re,at,Ot)=>{return(cn=(0,a.A)(function*(pn,er,fr,Vn){let xr=er.view.da(fr);xr.Xi&&(xr=yield Sl(pn.localStore,er.query,!1).then(({documents:Qe})=>er.view.da(Qe,xr)));const li=Vn&&Vn.targetChanges.get(er.targetId),Kr=Vn&&null!=Vn.targetMismatches.get(er.targetId),Dt=er.view.applyChanges(xr,pn.isPrimaryClient,li,Kr);return Zp(pn,er.targetId,Dt.fa),Dt.snapshot}),function In(pn,er,fr,Vn){return cn.apply(this,arguments)})(c,Re,at,Ot);var cn};const f=yield Sl(c.localStore,t,!0),v=new Mm(t,f.hs),w=v.da(f.documents),N=Lr.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),q=v.applyChanges(w,c.isPrimaryClient,N);Zp(c,i,q.fa);const ce=new t_(t,i,v);return c.ba.set(t,ce),c.Da.has(i)?c.Da.get(i).push(t):c.Da.set(i,[t]),q.snapshot}),qh.apply(this,arguments)}function Om(c,t,i){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,a.A)(function*(c,t,i){const s=Ie(c),u=s.ba.get(t),f=s.Da.get(u.targetId);if(f.length>1)return s.Da.set(u.targetId,f.filter(v=>!dr(v,t))),void s.ba.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Mo(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Wa(s.remoteStore,u.targetId),Bu(s,u.targetId)}).catch(qt))):(Bu(s,u.targetId),yield Mo(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Nm(c,t){return qp.apply(this,arguments)}function qp(){return(qp=(0,a.A)(function*(c,t){const i=Ie(c),s=i.ba.get(t),u=i.Da.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Wa(i.remoteStore,s.targetId))})).apply(this,arguments)}function Xp(){return(Xp=(0,a.A)(function*(c,t,i){const s=ig(c);try{const u=yield function(v,w){const N=Ie(v),q=sn.now(),ce=w.reduce((Ot,cn)=>Ot.add(cn.key),Qn());let Re,at;return N.persistence.runTransaction("Locally write mutations","readwrite",Ot=>{let cn=Ji(),In=Qn();return N.os.getEntries(Ot,ce).next(pn=>{cn=pn,cn.forEach((er,fr)=>{fr.isValidDocument()||(In=In.add(er))})}).next(()=>N.localDocuments.getOverlayedDocuments(Ot,cn)).next(pn=>{Re=pn;const er=[];for(const fr of w){const Vn=Wl(fr,Re.get(fr.key).overlayedDocument);null!=Vn&&er.push(new bo(fr.key,Vn,Yt(Vn.value.mapValue),ai.exists(!0)))}return N.mutationQueue.addMutationBatch(Ot,q,er,w)}).next(pn=>{at=pn;const er=pn.applyToLocalDocumentSet(Re,In);return N.documentOverlayCache.saveOverlays(Ot,pn.batchId,er)})}).then(()=>({batchId:at.batchId,changes:Pa(Re)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(v,w,N){let q=v.xa[v.currentUser.toKey()];q||(q=new gr(en)),q=q.insert(w,N),v.xa[v.currentUser.toKey()]=q}(s,u.batchId,i),yield pc(s,u.changes),yield Lu(s.remoteStore)}catch(u){const f=wd(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Qp(c,t){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,a.A)(function*(c,t){const i=Ie(c);try{const s=yield function Fp(c,t){const i=Ie(c),s=t.snapshotVersion;let u=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=i.os.newChangeBuffer({trackRemovals:!0});u=i.ns;const w=[];t.targetChanges.forEach((ce,Re)=>{const at=u.get(Re);if(!at)return;w.push(i.Qr.removeMatchingKeys(f,ce.removedDocuments,Re).next(()=>i.Qr.addMatchingKeys(f,ce.addedDocuments,Re)));let Ot=at.withSequenceNumber(f.currentSequenceNumber);var In,pn,er;null!==t.targetMismatches.get(Re)?Ot=Ot.withResumeToken(mi.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):ce.resumeToken.approximateByteSize()>0&&(Ot=Ot.withResumeToken(ce.resumeToken,s)),u=u.insert(Re,Ot),pn=Ot,er=ce,(0===(In=at).resumeToken.approximateByteSize()||pn.snapshotVersion.toMicroseconds()-In.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&w.push(i.Qr.updateTargetData(f,Ot))});let N=Ji(),q=Qn();if(t.documentUpdates.forEach(ce=>{t.resolvedLimboDocuments.has(ce)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(f,ce))}),w.push(Ed(f,v,t.documentUpdates).next(ce=>{N=ce.cs,q=ce.ls})),!s.isEqual($t.min())){const ce=i.Qr.getLastRemoteSnapshotVersion(f).next(Re=>i.Qr.setTargetsMetadata(f,f.currentSequenceNumber,s));w.push(ce)}return $e.waitFor(w).next(()=>v.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,N,q)).next(()=>N)}).then(f=>(i.ns=u,f))}(i.localStore,t);t.targetChanges.forEach((u,f)=>{const v=i.Fa.get(f);v&&(We(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.wa=!0:u.modifiedDocuments.size>0?We(v.wa):u.removedDocuments.size>0&&(We(v.wa),v.wa=!1))}),yield pc(i,s,t)}catch(s){yield qt(s)}})).apply(this,arguments)}function Fm(c,t,i){const s=Ie(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.ba.forEach((f,v)=>{const w=v.view.j_(t);w.snapshot&&u.push(w.snapshot)}),function(v,w){const N=Ie(v);N.onlineState=w;let q=!1;N.queries.forEach((ce,Re)=>{for(const at of Re.U_)at.j_(w)&&(q=!0)}),q&&zp(N)}(s.eventManager,t),u.length&&s.Sa.h_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function i_(c,t,i){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,a.A)(function*(c,t,i){const s=Ie(c);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Fa.get(t),f=u&&u.key;if(f){let v=new gr(Ht.comparator);v=v.insert(f,an.newNoDocument(f,$t.min()));const w=Qn().add(f),N=new yi($t.min(),new Map,new gr(en),v,w);yield Qp(s,N),s.va=s.va.remove(f),s.Fa.delete(t),Zh(s)}else yield Mo(s.localStore,t,!1).then(()=>Bu(s,t,i)).catch(qt)})).apply(this,arguments)}function Lm(c,t){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,a.A)(function*(c,t){const i=Ie(c),s=t.batch.batchId;try{const u=yield function Rh(c,t){const i=Ie(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=i.os.newChangeBuffer({trackRemovals:!0});return function(w,N,q,ce){const Re=q.batch,at=Re.keys();let Ot=$e.resolve();return at.forEach(cn=>{Ot=Ot.next(()=>ce.getEntry(N,cn)).next(In=>{const pn=q.docVersions.get(cn);We(null!==pn),In.version.compareTo(pn)<0&&(Re.applyToRemoteDocument(In,q),In.isValidDocument()&&(In.setReadTime(q.commitVersion),ce.addEntry(In)))})}),Ot.next(()=>w.mutationQueue.removeMutationBatch(N,Re))}(i,s,t,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let N=Qn();for(let q=0;q<w.mutationResults.length;++q)w.mutationResults[q].transformResults.length>0&&(N=N.add(w.batch.mutations[q].key));return N}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);Jh(i,s,null),Yh(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield pc(i,u)}catch(u){yield qt(u)}})).apply(this,arguments)}function Vm(c,t,i){return $u.apply(this,arguments)}function $u(){return($u=(0,a.A)(function*(c,t,i){const s=Ie(c);try{const u=yield function(v,w){const N=Ie(v);return N.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let ce;return N.mutationQueue.lookupMutationBatch(q,w).next(Re=>(We(null!==Re),ce=Re.keys(),N.mutationQueue.removeMutationBatch(q,Re))).next(()=>N.mutationQueue.performConsistencyCheck(q)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(q,ce,w)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,ce)).next(()=>N.localDocuments.getDocuments(q,ce))})}(s.localStore,t);Jh(s,t,i),Yh(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield pc(s,u)}catch(u){yield qt(u)}})).apply(this,arguments)}function Qh(){return(Qh=(0,a.A)(function*(c,t){const i=Ie(c);Pi(i.remoteStore)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const w=Ie(v);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>w.mutationQueue.getHighestUnacknowledgedBatchId(N))}(i.localStore);if(-1===s)return void t.resolve();const u=i.Oa.get(s)||[];u.push(t),i.Oa.set(s,u)}catch(s){const u=wd(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Yh(c,t){(c.Oa.get(t)||[]).forEach(i=>{i.resolve()}),c.Oa.delete(t)}function Jh(c,t,i){const s=Ie(c);let u=s.xa[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(i?f.reject(i):f.resolve(),u=u.remove(t)),s.xa[s.currentUser.toKey()]=u}}function Bu(c,t,i=null){c.sharedClientState.removeLocalQueryTarget(t);for(const s of c.Da.get(t))c.ba.delete(s),i&&c.Sa.ka(s,i);c.Da.delete(t),c.isPrimaryClient&&c.Ma.Vr(t).forEach(s=>{c.Ma.containsKey(s)||$m(c,s)})}function $m(c,t){c.Ca.delete(t.path.canonicalString());const i=c.va.get(t);null!==i&&(Wa(c.remoteStore,i),c.va=c.va.remove(t),c.Fa.delete(i),Zh(c))}function Zp(c,t,i){for(const s of i)s instanceof Wh?(c.Ma.addReference(s.key,t),o_(c,s)):s instanceof Pm?(me("SyncEngine","Document no longer in limbo: "+s.key),c.Ma.removeReference(s.key,t),c.Ma.containsKey(s.key)||$m(c,s.key)):Je()}function o_(c,t){const i=t.key,s=i.path.canonicalString();c.va.get(i)||c.Ca.has(s)||(me("SyncEngine","New document in limbo: "+i),c.Ca.add(s),Zh(c))}function Zh(c){for(;c.Ca.size>0&&c.va.size<c.maxConcurrentLimboResolutions;){const t=c.Ca.values().next().value;c.Ca.delete(t);const i=new Ht(st.fromString(t)),s=c.Na.next();c.Fa.set(s,new xm(i)),c.va=c.va.insert(i,s),zs(c.remoteStore,new ea(Q(zo(i.path)),s,"TargetPurposeLimboResolution",J.oe))}}function pc(c,t,i){return ef.apply(this,arguments)}function ef(){return ef=(0,a.A)(function*(c,t,i){const s=Ie(c),u=[],f=[],v=[];var w;s.ba.isEmpty()||(s.ba.forEach((w,N)=>{v.push(s.Ba(N,t,i).then(q=>{if((q||i)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,q&&!q.fromCache?"current":"not-current"),q){u.push(q);const ce=Ou.Ki(N.targetId,q);f.push(ce)}}))}),yield Promise.all(v),s.Sa.h_(u),yield(w=(0,a.A)(function*(q,ce){const Re=Ie(q);try{yield Re.persistence.runTransaction("notifyLocalViewChanges","readwrite",at=>$e.forEach(ce,Ot=>$e.forEach(Ot.qi,cn=>Re.persistence.referenceDelegate.addReference(at,Ot.targetId,cn)).next(()=>$e.forEach(Ot.Qi,cn=>Re.persistence.referenceDelegate.removeReference(at,Ot.targetId,cn)))))}catch(at){if(!dt(at))throw at;me("LocalStore","Failed to update sequence numbers: "+at)}for(const at of ce){const Ot=at.targetId;if(!at.fromCache){const cn=Re.ns.get(Ot),pn=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);Re.ns=Re.ns.insert(Ot,pn)}}}),function N(q,ce){return w.apply(this,arguments)})(s.localStore,f))}),ef.apply(this,arguments)}function s_(c,t){return eg.apply(this,arguments)}function eg(){return(eg=(0,a.A)(function*(c,t){const i=Ie(c);if(!i.currentUser.isEqual(t)){me("SyncEngine","User change. New user:",t.toKey());const s=yield Ti(i.localStore,t);i.currentUser=t,(f=i).Oa.forEach(w=>{w.forEach(N=>{N.reject(new M(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield pc(i,s.us)}var f})).apply(this,arguments)}function G0(c,t){const i=Ie(c),s=i.Fa.get(t);if(s&&s.wa)return Qn().add(s.key);{let u=Qn();const f=i.Da.get(t);if(!f)return u;for(const v of f){const w=i.ba.get(v);u=u.unionWith(w.view.Ea)}return u}}function a_(c,t){return tf.apply(this,arguments)}function tf(){return(tf=(0,a.A)(function*(c,t){const i=Ie(c),s=yield Sl(i.localStore,t.query,!0),u=t.view.pa(s);return i.isPrimaryClient&&Zp(i,t.targetId,u.fa),u})).apply(this,arguments)}function tg(c,t){return ng.apply(this,arguments)}function ng(){return(ng=(0,a.A)(function*(c,t){const i=Ie(c);return $c(i.localStore,t).then(s=>pc(i,s))})).apply(this,arguments)}function gc(c,t,i,s){return nf.apply(this,arguments)}function nf(){return(nf=(0,a.A)(function*(c,t,i,s){const u=Ie(c),f=yield function(w,N){const q=Ie(w),ce=Ie(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Re=>ce.vn(Re,N).next(at=>at?q.localDocuments.getDocuments(Re,at):$e.resolve(null)))}(u.localStore,t);var N;null!==f?("pending"===i?yield Lu(u.remoteStore):"acknowledged"===i||"rejected"===i?(Jh(u,t,s||null),Yh(u,t),N=t,Ie(Ie(u.localStore).mutationQueue).Mn(N)):Je(),yield pc(u,f)):me("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function rf(){return(rf=(0,a.A)(function*(c,t){const i=Ie(c);if(Xc(i),ig(i),!0===t&&!0!==i.La){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield sf(i,s.toArray());i.La=!0,yield Bh(i.remoteStore,!0);for(const f of u)zs(i.remoteStore,f)}else if(!1===t&&!1!==i.La){const s=[];let u=Promise.resolve();i.Da.forEach((f,v)=>{i.sharedClientState.isLocalQueryTarget(v)?s.push(v):u=u.then(()=>(Bu(i,v),Mo(i.localStore,v,!0))),Wa(i.remoteStore,v)}),yield u,yield sf(i,s),function(v){const w=Ie(v);w.Fa.forEach((N,q)=>{Wa(w.remoteStore,q)}),w.Ma.mr(),w.Fa=new Map,w.va=new gr(Ht.comparator)}(i),i.La=!1,yield Bh(i.remoteStore,!1)}})).apply(this,arguments)}function sf(c,t,i){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,a.A)(function*(c,t,i){const s=Ie(c),u=[],f=[];for(const v of t){let w;const N=s.Da.get(v);if(N&&0!==N.length){w=yield ra(s.localStore,Q(N[0]));for(const q of N){const ce=s.ba.get(q),Re=yield a_(s,ce);Re.snapshot&&f.push(Re.snapshot)}}else{const q=yield Rl(s.localStore,v);w=yield ra(s.localStore,q),yield qc(s,c_(q),v,!1,w.resumeToken)}u.push(w)}return s.Sa.h_(f),u})).apply(this,arguments)}function c_(c){return rs(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function u_(c){return i=Ie(c).localStore,Ie(Ie(i).persistence).Bi();var i}function d_(c,t,i,s){return rg.apply(this,arguments)}function rg(){return(rg=(0,a.A)(function*(c,t,i,s){const u=Ie(c);if(u.La)return void me("SyncEngine","Ignoring unexpected query state notification.");const f=u.Da.get(t);if(f&&f.length>0)switch(i){case"current":case"not-current":{const v=yield $c(u.localStore,us(f[0])),w=yi.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,mi.EMPTY_BYTE_STRING);yield pc(u,v,w);break}case"rejected":yield Mo(u.localStore,t,!0),Bu(u,t,s);break;default:Je()}})).apply(this,arguments)}function K0(c,t,i){return jm.apply(this,arguments)}function jm(){return(jm=(0,a.A)(function*(c,t,i){const s=Xc(c);if(s.La){for(const u of t){if(s.Da.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){me("SyncEngine","Adding an already active target "+u);continue}const f=yield Rl(s.localStore,u),v=yield ra(s.localStore,f);yield qc(s,c_(f),v.targetId,!1,v.resumeToken),zs(s.remoteStore,v)}for(const u of i)s.Da.has(u)&&(yield Mo(s.localStore,u,!1).then(()=>{Wa(s.remoteStore,u),Bu(s,u)}).catch(qt))}})).apply(this,arguments)}function Xc(c){const t=Ie(c);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G0.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=i_.bind(null,t),t.Sa.h_=jp.bind(null,t.eventManager),t.Sa.ka=Ga.bind(null,t.eventManager),t}function ig(c){const t=Ie(c);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vm.bind(null,t),t}class mc{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,a.A)(function*(){i.serializer=ht(t.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(t),i.persistence=i.createPersistence(t),yield i.persistence.start(),i.localStore=i.createLocalStore(t),i.gcScheduler=i.createGarbageCollectionScheduler(t,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(t,i.localStore)})()}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return Ba(this.persistence,new Sh,t.initialUser,this.serializer)}createPersistence(t){return new _d(rc.Hr,this.serializer)}createSharedClientState(t){return new ac}terminate(){var t=this;return(0,a.A)(function*(){var i,s;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(s=t.indexBackfillerScheduler)||void 0===s||s.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Md extends mc{constructor(t,i,s){super(),this.Qa=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,a.A)(function*(){yield i().call(s,t),yield s.Qa.initialize(s,t),yield ig(s.Qa.syncEngine),yield Lu(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Ba(this.persistence,new Sh,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){return new Th(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){const s=new de(i,this.persistence);return new ne(t.asyncQueue,s)}createPersistence(t){const i=xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?co.withCacheSize(this.cacheSizeBytes):co.DEFAULT;return new Fc(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,K(),ge(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new ac}}class af extends Md{constructor(t,i){super(t,i,!1),this.Qa=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,a.A)(function*(){yield i().call(s,t);const u=s.Qa.syncEngine;s.sharedClientState instanceof zc&&(s.sharedClientState.syncEngine={Zs:gc.bind(null,u),Xs:d_.bind(null,u),eo:K0.bind(null,u),Bi:u_.bind(null,u),Ys:tg.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var f=(0,a.A)(function*(v){yield function l_(c,t){return rf.apply(this,arguments)}(s.Qa.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}createSharedClientState(t){const i=K();if(!zc.D(i))throw new M(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zc(i,t.asyncQueue,s,t.clientId,t.initialUser)}}class Ka{initialize(t,i){var s=this;return(0,a.A)(function*(){s.localStore||(s.localStore=t.localStore,s.sharedClientState=t.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!t.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Fm(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=s_.bind(null,s.syncEngine),yield Bh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(t){return new e_}createDatastore(t){const i=ht(t.databaseInfo.databaseId),s=new D(t.databaseInfo);return new Gr(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return s=this.localStore,u=this.datastore,f=t.asyncQueue,v=i=>Fm(this.syncEngine,i,0),w=lc.D()?new lc:new Nh,new _a(s,u,f,v,w);var s,u,f,v,w}createSyncEngine(t,i){return function(u,f,v,w,N,q,ce){const Re=new n_(u,f,v,w,N,q);return ce&&(Re.La=!0),Re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,a.A)(function*(){var i,s;yield(s=(0,a.A)(function*(f){const v=Ie(f);me("RemoteStore","RemoteStore shutting down."),v.M_.add(5),yield Ha(v),v.O_.shutdown(),v.N_.set("Unknown")}),function u(f){return s.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate()})()}}function xd(c,t=10240){let i=0;return{read:()=>(0,a.A)(function*(){if(i<c.byteLength){const s={value:c.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,a.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xl{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Et("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class sg{constructor(t,i){this.Ua=t,this.serializer=i,this.metadata=new S,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var t=this;return(0,a.A)(function*(){return t.metadata.promise})()}qa(){var t=this;return(0,a.A)(function*(){return yield t.getMetadata(),t.Ga()})()}Ga(){var t=this;return(0,a.A)(function*(){const i=yield t.za();if(null===i)return null;const s=t.Wa.decode(i),u=Number(s);isNaN(u)&&t.ja(`length string (${s}) is not valid number`);const f=yield t.Ha(u);return new Rm(JSON.parse(f),i.length+u)})()}Ja(){return this.buffer.findIndex(t=>123===t)}za(){var t=this;return(0,a.A)(function*(){for(;t.Ja()<0&&!(yield t.Ya()););if(0===t.buffer.length)return null;const i=t.Ja();i<0&&t.ja("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}Ha(t){var i=this;return(0,a.A)(function*(){for(;i.buffer.length<t;)(yield i.Ya())&&i.ja("Reached the end of bundle when more is expected.");const s=i.Wa.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}ja(t){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${t}`)}Ya(){var t=this;return(0,a.A)(function*(){const i=yield t.Ua.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class ag{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,a.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new M(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,a.A)(function*(v,w){const N=Ie(v),q={documents:w.map(Ot=>Gl(N.serializer,Ot))},ce=yield N.xo("BatchGetDocuments",N.serializer.databaseId,st.emptyPath(),q,w.length),Re=new Map;ce.forEach(Ot=>{const cn=function Ni(c,t){return"found"in t?function(s,u){We(!!u.found);const f=eo(s,u.found.name),v=Wr(u.found.updateTime),w=u.found.createTime?Wr(u.found.createTime):$t.min(),N=new jt({mapValue:{fields:u.found.fields}});return an.newFoundDocument(f,v,w,N)}(c,t):"missing"in t?function(s,u){We(!!u.missing),We(!!u.readTime);const f=eo(s,u.missing),v=Wr(u.readTime);return an.newNoDocument(f,v)}(c,t):Je()}(N.serializer,Ot);Re.set(cn.key.toString(),cn)});const at=[];return w.forEach(Ot=>{const cn=Re.get(Ot.toString());We(!!cn),at.push(cn)}),at}),function f(v,w){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ss(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,a.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const f=Ht.fromPath(u);t.mutations.push(new is(f,t.precondition(f)))}),yield(s=(0,a.A)(function*(f,v){const w=Ie(f),N={writes:v.map(q=>Ii(w.serializer,q))};yield w.Co("Commit",w.serializer.databaseId,st.emptyPath(),N)}),function u(f,v){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Je();i=$t.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new M(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual($t.min())?ai.exists(!1):ai.updateTime(i):ai.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual($t.min()))throw new M(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ai.updateTime(i)}return ai.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class lf{constructor(t,i,s,u,f){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=f,this.Za=s.maxAttempts,this.Yo=new kt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,a.A)(function*(){const i=new ag(t.datastore),s=t.tu(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(f=>{t.nu(f)}))}).catch(u=>{t.nu(u)})}))}tu(t){try{const i=this.updateFunction(t);return!rt(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Nt(i)}return!1}}class q0{constructor(t,i,s,u){var f=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=_e.UNAUTHENTICATED,this.clientId=hr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,a.A)(function*(w){me("FirestoreClient","Received user=",w.uid),yield f.authCredentialListener(w),f.user=w});return function(w){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(me("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=wd(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function zu(c,t){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,a.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const i=c.configuration;yield t.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,a.A)(function*(f){s.isEqual(f)||(yield Ti(t.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=t}),Qc.apply(this,arguments)}function lg(c,t){return cf.apply(this,arguments)}function cf(){return(cf=(0,a.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress();const i=yield cg(c);me("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,c.configuration),c.setCredentialChangeListener(s=>$h(t.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>$h(t.remoteStore,u)),c._onlineComponents=t})).apply(this,arguments)}function zm(c){return"FirebaseError"===c.name?c.code===W.FAILED_PRECONDITION||c.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code}function cg(c){return Od.apply(this,arguments)}function Od(){return(Od=(0,a.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zu(c,c._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!zm(i))throw i;Ye("Error using user provided cache. Falling back to memory cache: "+i),yield zu(c,new mc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),yield zu(c,new mc);return c._offlineComponents})).apply(this,arguments)}function Nd(c){return ug.apply(this,arguments)}function ug(){return(ug=(0,a.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),yield lg(c,c._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),yield lg(c,new Ka))),c._onlineComponents})).apply(this,arguments)}function Hm(c){return cg(c).then(t=>t.persistence)}function qa(c){return cg(c).then(t=>t.localStore)}function dg(c){return Nd(c).then(t=>t.remoteStore)}function kd(c){return Nd(c).then(t=>t.syncEngine)}function Fd(c){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,a.A)(function*(c){const t=yield Nd(c),i=t.eventManager;return i.onListen=r_.bind(null,t.syncEngine),i.onUnlisten=Om.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Gp.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Nm.bind(null,t.syncEngine),i})).apply(this,arguments)}function df(c,t,i={}){const s=new S;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(f,v,w,N,q){const ce=new xl({next:at=>{v.enqueueAndForget(()=>zh(f,Re));const Ot=at.docs.has(w);!Ot&&at.fromCache?q.reject(new M(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Ot&&at.fromCache&&N&&"server"===N.source?q.reject(new M(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(at)},error:at=>q.reject(at)}),Re=new Hp(zo(w.path),ce,{includeMetadataChanges:!0,ra:!0});return fc(f,Re)}(yield Fd(c),c.asyncQueue,t,i,s)})),s.promise}function hg(c,t,i={}){const s=new S;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(f,v,w,N,q){const ce=new xl({next:at=>{v.enqueueAndForget(()=>zh(f,Re)),at.fromCache&&"server"===N.source?q.reject(new M(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(at)},error:at=>q.reject(at)}),Re=new Hp(w,ce,{includeMetadataChanges:!0,ra:!0});return fc(f,Re)}(yield Fd(c),c.asyncQueue,t,i,s)})),s.promise}function gf(c){const t={};return void 0!==c.timeoutSeconds&&(t.timeoutSeconds=c.timeoutSeconds),t}const Yc=new Map;function pg(c,t,i){if(!i)throw new M(W.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${t}.`)}function Qm(c,t,i,s){if(!0===t&&!0===s)throw new M(W.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)}function p_(c){if(!Ht.isDocumentKey(c))throw new M(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function Vd(c){if(Ht.isDocumentKey(c))throw new M(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Hu(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const t=(s=c).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof c?"a function":Je()}function Br(c,t){if("_delegate"in c&&(c=c._delegate),!(c instanceof t)){if(t.name===c.constructor.name)throw new M(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hu(c);throw new M(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return c}function gg(c,t){if(t<=0)throw new M(W.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${t}.`)}class mg{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new M(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Qm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gf(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new M(W.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new M(W.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new M(W.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wu{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new M(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mg(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new se;switch(s.type){case"firstParty":return new tn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new M(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Yc.get(i);s&&(me("ComponentProvider","Removing Datastore"),Yc.delete(i),s.terminate())}(this),Promise.resolve()}}function Ym(c,t,i,s={}){var u;const f=(c=Br(c,Wu))._getSettings(),v=`${t}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==v&&Ye("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},f),{host:v,ssl:!1})),s.mockUserToken){let w,N;if("string"==typeof s.mockUserToken)w=s.mockUserToken,N=_e.MOCK_USER;else{w=(0,Se.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!q)throw new M(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new _e(q)}c._authCredentials=new je(new L(w,N))}}class qo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new qo(this.firestore,t,this._query)}}class uo{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new uo(this.firestore,t,this._key)}}class Xa extends qo{constructor(t,i,s){super(t,i,zo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new uo(this.firestore,null,new Ht(t))}withConverter(t){return new Xa(this.firestore,t,this._path)}}function g_(c,t,...i){if(c=(0,Se.Ku)(c),pg("collection","path",t),c instanceof Wu){const s=st.fromString(t,...i);return Vd(s),new Xa(c,null,s)}{if(!(c instanceof uo||c instanceof Xa))throw new M(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(st.fromString(t,...i));return Vd(s),new Xa(c.firestore,null,s)}}function vc(c,t){if(c=Br(c,Wu),pg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(W.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qo(c,null,(s=t,new Yi(st.emptyPath(),s)));var s}function Gu(c,t,...i){if(c=(0,Se.Ku)(c),1===arguments.length&&(t=hr.newId()),pg("doc","path",t),c instanceof Wu){const s=st.fromString(t,...i);return p_(s),new uo(c,null,new Ht(s))}{if(!(c instanceof uo||c instanceof Xa))throw new M(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(st.fromString(t,...i));return p_(s),new uo(c.firestore,c instanceof Xa?c.converter:null,new Ht(s))}}function m_(c,t){return c=(0,Se.Ku)(c),t=(0,Se.Ku)(t),(c instanceof uo||c instanceof Xa)&&(t instanceof uo||t instanceof Xa)&&c.firestore===t.firestore&&c.path===t.path&&c.converter===t.converter}function Jm(c,t){return c=(0,Se.Ku)(c),t=(0,Se.Ku)(t),c instanceof qo&&t instanceof qo&&c.firestore===t.firestore&&dr(c._query,t._query)&&c.converter===t.converter}class X0{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new kt(this,"async_queue_retry"),this.hu=()=>{const i=ge();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};const t=ge();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const i=ge();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const i=new S;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,a.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(i){if(!dt(i))throw i;me("AsyncQueue","Operation failed with retryable error: "+i)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const i=this.iu.then(()=>(this.uu=!0,t().catch(s=>{throw this.au=s,this.uu=!1,Et("INTERNAL UNHANDLED ERROR: ",function(v){let w=v.message||"";return v.stack&&(w=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),w}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=i,i}enqueueAfterDelay(t,i,s){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);const u=jh.createAndSchedule(this,t,i,s,f=>this.Eu(f));return this._u.push(u),u}Pu(){this.au&&Je()}verifyOperationInProgress(){}du(){var t=this;return(0,a.A)(function*(){let i;do{i=t.iu,yield i}while(i!==t.iu)})()}Au(t){for(const i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this._u)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const i=this._u.indexOf(t);this._u.splice(i,1)}}function Zm(c){return function(i,s){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(c)}class Q0{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}const Y0=-1;class wi extends Wu{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new X0,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ev(this),this._firestoreClient.terminate()}}function v_(c,t){const i="object"==typeof c?c:(0,C.getApp)(),s="string"==typeof c?c:t||"(default)",u=(0,C._getProvider)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=(0,Se.yU)("firestore");f&&Ym(u,...f)}return u}function Gi(c){return c._firestoreClient||ev(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function ev(c){var t,i,s;const u=c._freezeSettings(),f=(N=(null===(t=c._app)||void 0===t?void 0:t.options.appId)||"",new cs(c._databaseId,N,c._persistenceKey,(ce=u).host,ce.ssl,ce.experimentalForceLongPolling,ce.experimentalAutoDetectLongPolling,gf(ce.experimentalLongPollingOptions),ce.useFetchStreams));var N,ce;c._firestoreClient=new q0(c._authCredentials,c._appCheckCredentials,c._queue,f),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(c._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function vg(c,t){mf(c=Br(c,wi));const i=Gi(c);if(i._uninitializedComponentsProvider)throw new M(W.FAILED_PRECONDITION,"SDK cache is already specified.");Ye("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=c._freezeSettings(),u=new Ka;return Ku(i,u,new Md(u,s.cacheSizeBytes,t?.forceOwnership))}function Ol(c){mf(c=Br(c,wi));const t=Gi(c);if(t._uninitializedComponentsProvider)throw new M(W.FAILED_PRECONDITION,"SDK cache is already specified.");Ye("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=c._freezeSettings(),s=new Ka;return Ku(t,s,new af(s,i.cacheSizeBytes))}function Ku(c,t,i){const s=new S;return c.asyncQueue.enqueue((0,a.A)(function*(){try{yield zu(c,i),yield lg(c,t),s.resolve()}catch(u){const f=u;if(!zm(f))throw f;Ye("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function tv(c){if(c._initialized&&!c._terminated)throw new M(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new S;return c._queue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{yield(i=(0,a.A)(function*(u){if(!Fn.D())return Promise.resolve();const f=u+"main";yield Fn.delete(f)}),function s(u){return i.apply(this,arguments)})(xu(c._databaseId,c._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}function nv(c){return function(i){const s=new S;return i.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function Um(c,t){return Qh.apply(this,arguments)}(yield kd(i),s)})),s.promise}(Gi(c=Br(c,wi)))}function rv(c){return function Ld(c){return c.asyncQueue.enqueue((0,a.A)(function*(){const t=yield Hm(c),i=yield dg(c);return t.setNetworkEnabled(!0),function(u){const f=Ie(u);return f.M_.delete(0),Ia(f)}(i)}))}(Gi(c=Br(c,wi)))}function Z0(c){return function h_(c){return c.asyncQueue.enqueue((0,a.A)(function*(){const t=yield Hm(c),i=yield dg(c);return t.setNetworkEnabled(!1),(s=(0,a.A)(function*(f){const v=Ie(f);v.M_.add(0),yield Ha(v),v.N_.set("Offline")}),function u(f){return s.apply(this,arguments)})(i);var s}))}(Gi(c=Br(c,wi)))}function eC(c,t){const i=Gi(c=Br(c,wi)),s=new Q0;return function ff(c,t,i,s){const u=function(v,w){let N;return N="string"==typeof v?di().encode(v):v,ce=function(ce,Re){if(ce instanceof Uint8Array)return xd(ce,void 0);if(ce instanceof ArrayBuffer)return xd(new Uint8Array(ce),void 0);if(ce instanceof ReadableStream)return ce.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new sg(ce,w);var ce}(i,ht(t));c.asyncQueue.enqueueAndForget((0,a.A)(function*(){!function og(c,t,i){const s=Ie(c);var u;(u=(0,a.A)(function*(v,w,N){try{const q=yield w.getMetadata();if(yield function(cn,In){const pn=Ie(cn),er=Wr(In.createTime);return pn.persistence.runTransaction("hasNewerBundle","readonly",fr=>pn.$r.getBundleMetadata(fr,In.id)).then(fr=>!!fr&&fr.createTime.compareTo(er)>=0)}(v.localStore,q))return yield w.close(),N._completeWith({taskState:"Success",documentsLoaded:(cn=q).totalDocuments,bytesLoaded:cn.totalBytes,totalDocuments:cn.totalDocuments,totalBytes:cn.totalBytes}),Promise.resolve(new Set);N._updateProgress(Pd(q));const ce=new Hh(q,v.localStore,w.serializer);let Re=yield w.qa();for(;Re;){const Ot=yield ce._a(Re);Ot&&N._updateProgress(Ot),Re=yield w.qa()}const at=yield ce.complete();return yield pc(v,at.ca,void 0),yield function(cn,In){const pn=Ie(cn);return pn.persistence.runTransaction("Save bundle","readwrite",er=>pn.$r.saveBundleMetadata(er,In))}(v.localStore,q),N._completeWith(at.progress),Promise.resolve(at.ua)}catch(q){return Ye("SyncEngine",`Loading bundle failed with ${q}`),N._failWith(q),Promise.resolve(new Set)}var cn}),function f(v,w,N){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield kd(c),u,s)}))}(i,c._databaseId,t,s),s}function yg(c,t){return function Km(c,t){return c.asyncQueue.enqueue((0,a.A)(function*(){return function(s,u){const f=Ie(s);return f.persistence.runTransaction("Get named query","readonly",v=>f.$r.getNamedQuery(v,u))}(yield qa(c),t)}))}(Gi(c=Br(c,wi)),t).then(i=>i?new qo(c,null,i.query):null)}function mf(c){if(c._initialized||c._terminated)throw new M(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nl(mi.fromBase64String(t))}catch(i){throw new M(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Nl(mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class yc{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new M(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jc{constructor(t){this._methodName=t}}class yf{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new M(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new M(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}}const y_=/^__.*__$/;class iv{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new bo(t,this.data,this.fieldMask,i,this.fieldTransforms):new fs(t,this.data,i,this.fieldTransforms)}}class _g{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new bo(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ov(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class _f{constructor(t,i,s,u,f,v){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new _f(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.gu({path:s,yu:!1});return u.wu(t),u}Su(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.gu({path:s,yu:!1});return u.mu(),u}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Tf(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(ov(this.fu)&&y_.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class sv{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||ht(t)}Fu(t,i,s,u=!1){return new _f({fu:t,methodName:i,vu:s,path:Kt.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qa(c){const t=c._freezeSettings(),i=ht(c._databaseId);return new sv(c._databaseId,!!t.ignoreUndefinedProperties,i)}function If(c,t,i,s,u,f={}){const v=c.Fu(f.merge||f.mergeFields?2:0,t,i,u);uv("Data must be an object, but it was:",v,s);const w=cv(s,v);let N,q;if(f.merge)N=new Vr(v.fieldMask),q=v.fieldTransforms;else if(f.mergeFields){const ce=[];for(const Re of f.mergeFields){const at=Df(t,Re,i);if(!v.contains(at))throw new M(W.INVALID_ARGUMENT,`Field '${at}' is specified in your field mask but missing from your input data.`);dv(ce,at)||ce.push(at)}N=new Vr(ce),q=v.fieldTransforms.filter(Re=>N.covers(Re.field))}else N=null,q=v.fieldTransforms;return new iv(new jt(w),N,q)}class Zc extends Jc{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zc}}function av(c,t,i){return new _f({fu:3,vu:t.settings.vu,methodName:c._methodName,yu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _c extends Jc{_toFieldTransform(t){return new Xs(t.path,new As)}isEqual(t){return t instanceof _c}}class Ig extends Jc{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){const i=av(this,t,!0),s=this.Mu.map(f=>eu(f,i)),u=new Vs(s);return new Xs(t.path,u)}isEqual(t){return t instanceof Ig&&(0,Se.bD)(this.Mu,t.Mu)}}class Eg extends Jc{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){const i=av(this,t,!0),s=this.Mu.map(f=>eu(f,i)),u=new Ts(s);return new Xs(t.path,u)}isEqual(t){return t instanceof Eg&&(0,Se.bD)(this.Mu,t.Mu)}}class Ef extends Jc{constructor(t,i){super(t),this.xu=i}_toFieldTransform(t){const i=new qs(t.serializer,hl(t.serializer,this.xu));return new Xs(t.path,i)}isEqual(t){return t instanceof Ef&&this.xu===t.xu}}function Cf(c,t,i,s){const u=c.Fu(1,t,i);uv("Data must be an object, but it was:",u,s);const f=[],v=jt.empty();si(s,(N,q)=>{const ce=Af(t,N,i);q=(0,Se.Ku)(q);const Re=u.Su(ce);if(q instanceof Zc)f.push(ce);else{const at=eu(q,Re);null!=at&&(f.push(ce),v.set(ce,at))}});const w=new Vr(f);return new _g(v,w,u.fieldTransforms)}function Cg(c,t,i,s,u,f){const v=c.Fu(1,t,i),w=[Df(t,s,i)],N=[u];if(f.length%2!=0)throw new M(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let at=0;at<f.length;at+=2)w.push(Df(t,f[at])),N.push(f[at+1]);const q=[],ce=jt.empty();for(let at=w.length-1;at>=0;--at)if(!dv(q,w[at])){const Ot=w[at];let cn=N[at];cn=(0,Se.Ku)(cn);const In=v.Su(Ot);if(cn instanceof Zc)q.push(Ot);else{const pn=eu(cn,In);null!=pn&&(q.push(Ot),ce.set(Ot,pn))}}const Re=new Vr(q);return new _g(ce,Re,v.fieldTransforms)}function lv(c,t,i,s=!1){return eu(i,c.Fu(s?4:3,t))}function eu(c,t){if(Dg(c=(0,Se.Ku)(c)))return uv("Unsupported field value:",t,c),cv(c,t);if(c instanceof Jc)return function(s,u){if(!ov(u.fu))throw u.Du(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(c,t),null;if(void 0===c&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),c instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(s,u){const f=[];let v=0;for(const w of s){let N=eu(w,u.bu(v));null==N&&(N={nullValue:"NULL_VALUE"}),f.push(N),v++}return{arrayValue:{values:f}}}(c,t)}return function(s,u){if(null===(s=(0,Se.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return hl(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=sn.fromDate(s);return{timestampValue:Ps(u.serializer,f)}}if(s instanceof sn){const f=new sn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ps(u.serializer,f)}}if(s instanceof yf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nl)return{bytesValue:ka(u.serializer,s._byteString)};if(s instanceof uo){const f=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(f))throw u.Du(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Js(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Du(`Unsupported field value: ${Hu(s)}`)}(c,t)}function cv(c,t){const i={};return zr(c)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):si(c,(s,u)=>{const f=eu(u,t.pu(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function Dg(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof sn||c instanceof yf||c instanceof Nl||c instanceof uo||c instanceof Jc)}function uv(c,t,i){if(!Dg(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Hu(i);throw t.Du("an object"===s?c+" a custom object":c+" "+s)}var u}function Df(c,t,i){if((t=(0,Se.Ku)(t))instanceof yc)return t._internalPath;if("string"==typeof t)return Af(c,t);throw Tf("Field path arguments must be of type string or ",c,!1,void 0,i)}const Ud=new RegExp("[~\\*/\\[\\]]");function Af(c,t,i){if(t.search(Ud)>=0)throw Tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new yc(...t.split("."))._internalPath}catch{throw Tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Tf(c,t,i,s,u){const f=s&&!s.isEmpty(),v=void 0!==u;let w=`Function ${t}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let N="";return(f||v)&&(N+=" (found",f&&(N+=` in field ${s}`),v&&(N+=` in document ${u}`),N+=")"),new M(W.INVALID_ARGUMENT,w+c+N)}function dv(c,t){return c.some(i=>i.isEqual(t))}class qu{constructor(t,i,s,u,f){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new __(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(wf("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class __ extends qu{data(){return super.data()}}function wf(c,t){return"string"==typeof t?Af(c,t):t instanceof yc?t._internalPath:t._delegate._internalPath}function hv(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new M(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class $d extends Ag{}function I_(c,t,...i){let s=[];t instanceof Ag&&s.push(t),s=s.concat(i),function(f){const v=f.filter(N=>N instanceof Bd).length,w=f.filter(N=>N instanceof tu).length;if(v>1||v>0&&w>0)throw new M(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class tu extends $d{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new tu(t,i,s)}_apply(t){const i=this._parse(t);return Os(t._query,i),new qo(t.firestore,t.converter,Ze(t._query,i))}_parse(t){const i=Qa(t.firestore);return function(f,v,w,N,q,ce,Re){let at;if(q.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new M(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on documentId().`);if("in"===ce||"not-in"===ce){ru(Re,ce);const Ot=[];for(const cn of Re)Ot.push(bg(N,f,cn));at={arrayValue:{values:Ot}}}else at=bg(N,f,Re)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||ru(Re,ce),at=lv(w,"where",Re,"in"===ce||"not-in"===ce);return Wn.create(q,ce,at)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}function rC(c,t,i){const s=t,u=wf("where",c);return tu._create(u,s,i)}class Bd extends Ag{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Bd(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:ar.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,f){let v=u;const w=f.getFlattenedFilters();for(const N of w)Os(v,N),v=Ze(v,N)}(t._query,i),new qo(t.firestore,t.converter,Ze(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pv extends $d{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new pv(t,i)}_apply(t){const i=function(u,f,v){if(null!==u.startAt)throw new M(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new M(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ir(f,v)}(t._query,this._field,this._direction);return new qo(t.firestore,t.converter,function(u,f){const v=u.explicitOrderBy.concat([f]);return new Yi(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}function iC(c,t="asc"){const i=t,s=wf("orderBy",c);return pv._create(s,i)}class Tg extends $d{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Tg(t,i,s)}_apply(t){return new qo(t.firestore,t.converter,bn(t._query,this._limit,this._limitType))}}function oC(c){return gg("limit",c),Tg._create("limit",c,"F")}function E_(c){return gg("limitToLast",c),Tg._create("limitToLast",c,"L")}class nu extends $d{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new nu(t,i,s)}_apply(t){const i=mv(t,this.type,this._docOrFields,this._inclusive);return new qo(t.firestore,t.converter,(f=i,new Yi((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function bf(...c){return nu._create("startAt",c,!0)}function wg(...c){return nu._create("startAfter",c,!1)}class jd extends $d{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new jd(t,i,s)}_apply(t){const i=mv(t,this.type,this._docOrFields,this._inclusive);return new qo(t.firestore,t.converter,(f=i,new Yi((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function gv(...c){return jd._create("endBefore",c,!1)}function C_(...c){return jd._create("endAt",c,!0)}function mv(c,t,i,s){if(i[0]=(0,Se.Ku)(i[0]),i[0]instanceof qu)return function(f,v,w,N,q){if(!N)throw new M(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const ce=[];for(const Re of G(f))if(Re.field.isKeyField())ce.push(Kn(v,N.key));else{const at=N.data.field(Re.field);if(_o(at))throw new M(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===at){const Ot=Re.field.canonicalString();throw new M(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ot}' (used as the orderBy) does not exist.`)}ce.push(at)}return new Tn(ce,q)}(c._query,c.firestore._databaseId,t,i[0]._document,s);{const u=Qa(c.firestore);return function(v,w,N,q,ce,Re){const at=v.explicitOrderBy;if(ce.length>at.length)throw new M(W.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ot=[];for(let cn=0;cn<ce.length;cn++){const In=ce[cn];if(at[cn].field.isKeyField()){if("string"!=typeof In)throw new M(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof In}`);if(!Ns(v)&&-1!==In.indexOf("/"))throw new M(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${In}' contains a slash.`);const pn=v.path.child(st.fromString(In));if(!Ht.isDocumentKey(pn))throw new M(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${pn}' is not because it contains an odd number of segments.`);const er=new Ht(pn);Ot.push(Kn(w,er))}else{const pn=lv(N,q,In);Ot.push(pn)}}return new Tn(Ot,Re)}(c._query,c.firestore._databaseId,u,t,i,s)}}function bg(c,t,i){if("string"==typeof(i=(0,Se.Ku)(i))){if(""===i)throw new M(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ns(t)&&-1!==i.indexOf("/"))throw new M(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(st.fromString(i));if(!Ht.isDocumentKey(s))throw new M(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Kn(c,new Ht(s))}if(i instanceof uo)return Kn(c,i._key);throw new M(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hu(i)}.`)}function ru(c,t){if(!Array.isArray(c)||0===c.length)throw new M(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Os(c,t){const i=function(u,f){for(const v of u)for(const w of v.getFlattenedFilters())if(f.indexOf(w.op)>=0)return w.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new M(W.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Sf{convertValue(t,i="none"){switch(Do(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Jr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(qi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw Je()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return si(t,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertGeoPoint(t){return new yf(Jr(t.latitude),Jr(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=or(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Rr(t));default:return null}}convertTimestamp(t){const i=ro(t);return new sn(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=st.fromString(t);We(Iu(s));const u=new qn(s.get(1),s.get(3)),f=new Ht(s.popFirst(5));return u.isEqual(i)||Et(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Sg(c,t,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(t,i):c.toFirestore(t):t,s}class D_ extends Sf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nl(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new uo(this.firestore,null,i)}}class Ya{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kl extends qu{constructor(t,i,s,u,f,v){super(t,i,s,u,v),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class iu extends kl{data(t={}){return super.data(t)}}class ou{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ya(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new iu(this._firestore,this._userDataWriter,s.key,s,new Ya(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new M(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new iu(u._firestore,u._userDataWriter,w.doc.key,w.doc,new Ya(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>f||3!==w.type).map(w=>{const N=new iu(u._firestore,u._userDataWriter,w.doc.key,w.doc,new Ya(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let q=-1,ce=-1;return 0!==w.type&&(q=v.indexOf(w.doc.key),v=v.delete(w.doc.key)),1!==w.type&&(v=v.add(w.doc),ce=v.indexOf(w.doc.key)),{type:Xu(w.type),doc:N,oldIndex:q,newIndex:ce}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Xu(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function Rg(c,t){return c instanceof kl&&t instanceof kl?c._firestore===t._firestore&&c._key.isEqual(t._key)&&(null===c._document?null===t._document:c._document.isEqual(t._document))&&c._converter===t._converter:c instanceof ou&&t instanceof ou&&c._firestore===t._firestore&&Jm(c.query,t.query)&&c.metadata.isEqual(t.metadata)&&c._snapshot.isEqual(t._snapshot)}function yv(c){c=Br(c,uo);const t=Br(c.firestore,wi);return df(Gi(t),c._key).then(i=>Mg(t,c,i))}class Ja extends Sf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nl(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new uo(this.firestore,null,i)}}function Rf(c){c=Br(c,uo);const t=Br(c.firestore,wi),i=Gi(t),s=new Ja(t);return function uf(c,t){const i=new S;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(f,v,w){try{const N=yield function(ce,Re){const at=Ie(ce);return at.persistence.runTransaction("read document","readonly",Ot=>at.localDocuments.getDocument(Ot,Re))}(f,v);N.isFoundDocument()?w.resolve(N):N.isNoDocument()?w.resolve(null):w.reject(new M(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const q=wd(N,`Failed to get document '${v} from cache`);w.reject(q)}}),function u(f,v,w){return s.apply(this,arguments)})(yield qa(c),t,i);var s})),i.promise}(i,c._key).then(u=>new kl(t,s,c._key,u,new Ya(null!==u&&u.hasLocalMutations,!0),c.converter))}function T_(c){c=Br(c,uo);const t=Br(c.firestore,wi);return df(Gi(t),c._key,{source:"server"}).then(i=>Mg(t,c,i))}function w_(c){c=Br(c,qo);const t=Br(c.firestore,wi),i=Gi(t),s=new Ja(t);return hv(c._query),hg(i,c._query).then(u=>new ou(t,s,c,u))}function _v(c){c=Br(c,qo);const t=Br(c.firestore,wi),i=Gi(t),s=new Ja(t);return function f_(c,t){const i=new S;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(f,v,w){try{const N=yield Sl(f,v,!0),q=new Mm(v,N.hs),ce=q.da(N.documents),Re=q.applyChanges(ce,!1);w.resolve(Re.snapshot)}catch(N){const q=wd(N,`Failed to execute query '${v} against cache`);w.reject(q)}}),function u(f,v,w){return s.apply(this,arguments)})(yield qa(c),t,i);var s})),i.promise}(i,c._query).then(u=>new ou(t,s,c,u))}function b_(c){c=Br(c,qo);const t=Br(c.firestore,wi),i=Gi(t),s=new Ja(t);return hg(i,c._query,{source:"server"}).then(u=>new ou(t,s,c,u))}function S_(c,t,i){c=Br(c,uo);const s=Br(c.firestore,wi),u=Sg(c.converter,t,i);return Qu(s,[If(Qa(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,ai.none())])}function R_(c,t,i,...s){c=Br(c,uo);const u=Br(c.firestore,wi),f=Qa(u);let v;return v="string"==typeof(t=(0,Se.Ku)(t))||t instanceof yc?Cg(f,"updateDoc",c._key,t,i,s):Cf(f,"updateDoc",c._key,t),Qu(u,[v.toMutation(c._key,ai.exists(!0))])}function Iv(c){return Qu(Br(c.firestore,wi),[new Ss(c._key,ai.none())])}function zd(c,t){const i=Br(c.firestore,wi),s=Gu(c),u=Sg(c.converter,t);return Qu(i,[If(Qa(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,ai.exists(!1))]).then(()=>s)}function Pf(c,...t){var i,s,u;c=(0,Se.Ku)(c);let f={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof t[v]||Zm(t[v])||(f=t[v],v++);const w={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Zm(t[v])){const Re=t[v];t[v]=null===(i=Re.next)||void 0===i?void 0:i.bind(Re),t[v+1]=null===(s=Re.error)||void 0===s?void 0:s.bind(Re),t[v+2]=null===(u=Re.complete)||void 0===u?void 0:u.bind(Re)}let N,q,ce;if(c instanceof uo)q=Br(c.firestore,wi),ce=zo(c._key.path),N={next:Re=>{t[v]&&t[v](Mg(q,c,Re))},error:t[v+1],complete:t[v+2]};else{const Re=Br(c,qo);q=Br(Re.firestore,wi),ce=Re._query;const at=new Ja(q);N={next:Ot=>{t[v]&&t[v](new ou(q,at,Re,Ot))},error:t[v+1],complete:t[v+2]},hv(c._query)}return function(at,Ot,cn,In){const pn=new xl(In),er=new Hp(Ot,pn,cn);return at.asyncQueue.enqueueAndForget((0,a.A)(function*(){return fc(yield Fd(at),er)})),()=>{pn.$a(),at.asyncQueue.enqueueAndForget((0,a.A)(function*(){return zh(yield Fd(at),er)}))}}(Gi(q),ce,w,N)}function Pg(c,t){return function hf(c,t){const i=new xl(t);return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return u=yield Fd(c),f=i,Ie(u).z_.add(f),void f.next();var u,f})),()=>{i.$a(),c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return u=yield Fd(c),f=i,void Ie(u).z_.delete(f);var u,f}))}}(Gi(c=Br(c,wi)),Zm(t)?t:{next:t})}function Qu(c,t){return function(s,u){const f=new S;return s.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function km(c,t,i){return Xp.apply(this,arguments)}(yield kd(s),u,f)})),f.promise}(Gi(c),t)}function Mg(c,t,i){const s=i.docs.get(t._key),u=new Ja(c);return new kl(c,u,t._key,s,new Ya(i.hasPendingWrites,i.fromCache),t.converter)}const Mf={maxAttempts:5};class Yu{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Qa(t)}set(t,i,s){this._verifyNotCommitted();const u=Fl(t,this._firestore),f=Sg(u.converter,i,s),v=If(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,ai.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const f=Fl(t,this._firestore);let v;return v="string"==typeof(i=(0,Se.Ku)(i))||i instanceof yc?Cg(this._dataReader,"WriteBatch.update",f._key,i,s,u):Cf(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(v.toMutation(f._key,ai.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Fl(t,this._firestore);return this._mutations=this._mutations.concat(new Ss(i._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fl(c,t){if((c=(0,Se.Ku)(c)).firestore!==t)throw new M(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class Ng extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=Qa(i)}get(i){const s=Fl(i,this._firestore),u=new D_(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Je();const v=f[0];if(v.isFoundDocument())return new qu(this._firestore,u,v.key,v,s.converter);if(v.isNoDocument())return new qu(this._firestore,u,s._key,null,s.converter);throw Je()})}set(i,s,u){const f=Fl(i,this._firestore),v=Sg(f.converter,s,u),w=If(this._dataReader,"Transaction.set",f._key,v,null!==f.converter,u);return this._transaction.set(f._key,w),this}update(i,s,u,...f){const v=Fl(i,this._firestore);let w;return w="string"==typeof(s=(0,Se.Ku)(s))||s instanceof yc?Cg(this._dataReader,"Transaction.update",v._key,s,u,f):Cf(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,w),this}delete(i){const s=Fl(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Fl(t,this._firestore),s=new Ja(this._firestore);return super.get(t).then(u=>new kl(this._firestore,s,i._key,u._document,new Ya(!1,!1),i.converter))}}function Hd(c,t,i){c=Br(c,wi);const s=Object.assign(Object.assign({},Mf),i);return function(f){if(f.maxAttempts<1)throw new M(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,v,w){const N=new S;return f.asyncQueue.enqueueAndForget((0,a.A)(function*(){const q=yield function Wm(c){return Nd(c).then(t=>t.datastore)}(f);new lf(f.asyncQueue,q,w,v,N).Xa()})),N.promise}(Gi(c),u=>t(new Ng(c,u)),s)}function bv(){return new Zc("deleteField")}function kg(){return new _c("serverTimestamp")}function xf(...c){return new Ig("arrayUnion",c)}function O_(...c){return new Eg("arrayRemove",c)}function Sv(c){return new Ef("increment",c)}!function(t,i=!0){xe=C.SDK_VERSION,(0,C._registerComponent)(new V.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const v=s.getProvider("app").getImmediate(),w=new wi(new we(s.getProvider("auth-internal")),new ln(s.getProvider("app-check-internal")),function(q,ce){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new M(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qn(q.options.projectId,ce)}(v,u),v);return f=Object.assign({useFetchStreams:i},f),w._setSettings(f),w},"PUBLIC").setMultipleInstances(!0)),(0,C.registerVersion)(tt,"4.6.3",t),(0,C.registerVersion)(tt,"4.6.3","esm2017")}()},1076:(vn,gt,x)=>{"use strict";x.d(gt,{Am:()=>Ht,Bd:()=>Et,FA:()=>we,Fy:()=>Pe,I9:()=>cr,Im:()=>$t,Ku:()=>ut,Ll:()=>me,T9:()=>tt,Tj:()=>It,Uj:()=>ze,XA:()=>_e,ZQ:()=>lt,bD:()=>st,cY:()=>xe,eX:()=>S,g:()=>je,gR:()=>Gn,hp:()=>zn,jZ:()=>Ne,lT:()=>We,lV:()=>ot,nr:()=>W,sr:()=>Ye,tD:()=>gn,u:()=>De,yU:()=>Ge,zW:()=>M,zw:()=>Le});const le=function(pe){const ve=[];let ne=0;for(let de=0;de<pe.length;de++){let J=pe.charCodeAt(de);J<128?ve[ne++]=J:J<2048?(ve[ne++]=J>>6|192,ve[ne++]=63&J|128):55296==(64512&J)&&de+1<pe.length&&56320==(64512&pe.charCodeAt(de+1))?(J=65536+((1023&J)<<10)+(1023&pe.charCodeAt(++de)),ve[ne++]=J>>18|240,ve[ne++]=J>>12&63|128,ve[ne++]=J>>6&63|128,ve[ne++]=63&J|128):(ve[ne++]=J>>12|224,ve[ne++]=J>>6&63|128,ve[ne++]=63&J|128)}return ve},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ve){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let J=0;J<pe.length;J+=3){const rt=pe[J],Mt=J+1<pe.length,hn=Mt?pe[J+1]:0,An=J+2<pe.length,nr=An?pe[J+2]:0;let yn=(15&hn)<<2|nr>>6,Hn=63&nr;An||(Hn=64,Mt||(yn=64)),de.push(ne[rt>>2],ne[(3&rt)<<4|hn>>4],ne[yn],ne[Hn])}return de.join("")},encodeString(pe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(pe):this.encodeByteArray(le(pe),ve)},decodeString(pe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(pe):function(pe){const ve=[];let ne=0,de=0;for(;ne<pe.length;){const J=pe[ne++];if(J<128)ve[de++]=String.fromCharCode(J);else if(J>191&&J<224){const rt=pe[ne++];ve[de++]=String.fromCharCode((31&J)<<6|63&rt)}else if(J>239&&J<365){const An=((7&J)<<18|(63&pe[ne++])<<12|(63&pe[ne++])<<6|63&pe[ne++])-65536;ve[de++]=String.fromCharCode(55296+(An>>10)),ve[de++]=String.fromCharCode(56320+(1023&An))}else{const rt=pe[ne++],Mt=pe[ne++];ve[de++]=String.fromCharCode((15&J)<<12|(63&rt)<<6|63&Mt)}}return ve.join("")}(this.decodeStringToByteArray(pe,ve))},decodeStringToByteArray(pe,ve){this.init_();const ne=ve?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let J=0;J<pe.length;){const rt=ne[pe.charAt(J++)],hn=J<pe.length?ne[pe.charAt(J)]:0;++J;const nr=J<pe.length?ne[pe.charAt(J)]:64;++J;const En=J<pe.length?ne[pe.charAt(J)]:64;if(++J,null==rt||null==hn||null==nr||null==En)throw new ue;de.push(rt<<2|hn>>4),64!==nr&&(de.push(hn<<4&240|nr>>2),64!==En&&de.push(nr<<6&192|En))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(pe){return function(pe){const ve=le(pe);return Ve.encodeByteArray(ve,!0)}(pe).replace(/\./g,"")},De=function(pe){try{return Ve.decodeString(pe,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function Le(pe,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ve}for(const ne in ve)!ve.hasOwnProperty(ne)||!Fe(ne)||(pe[ne]=Le(pe[ne],ve[ne]));return pe}function Fe(pe){return"__proto__"!==pe}const Be=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=pe&&De(pe[1]);return ve&&JSON.parse(ve)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},It=pe=>{var ve,ne;return null===(ne=null===(ve=Be())||void 0===ve?void 0:ve.emulatorHosts)||void 0===ne?void 0:ne[pe]},Ge=pe=>{const ve=It(pe);if(!ve)return;const ne=ve.lastIndexOf(":");if(ne<=0||ne+1===ve.length)throw new Error(`Invalid host ${ve} with no separate hostname and port!`);const de=parseInt(ve.substring(ne+1),10);return"["===ve[0]?[ve.substring(1,ne-1),de]:[ve.substring(0,ne),de]},tt=()=>{var pe;return null===(pe=Be())||void 0===pe?void 0:pe.config},_e=pe=>{var ve;return null===(ve=Be())||void 0===ve?void 0:ve[`_${pe}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,ne)=>{this.resolve=ve,this.reject=ne})}wrapCallback(ve){return(ne,de)=>{ne?this.reject(ne):this.resolve(de),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(ne):ve(ne,de))}}}function Pe(pe,ve){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=ve||"demo-project",J=pe.iat||0,rt=pe.sub||pe.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:J,exp:J+3600,auth_time:J,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(Mt)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function me(){var pe;const ve=null===(pe=Be())||void 0===pe?void 0:pe.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function Ye(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const pe=lt();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function W(){return!me()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M(){try{return"object"==typeof indexedDB}catch{return!1}}function S(){return new Promise((pe,ve)=>{try{let ne=!0;const de="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(de);J.onsuccess=()=>{J.result.close(),ne||self.indexedDB.deleteDatabase(de),pe(!0)},J.onupgradeneeded=()=>{ne=!1},J.onerror=()=>{var rt;ve((null===(rt=J.error)||void 0===rt?void 0:rt.message)||"")}}catch(ne){ve(ne)}})}class je extends Error{constructor(ve,ne,de){super(ne),this.code=ve,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(ve,ne,de){this.service=ve,this.serviceName=ne,this.errors=de}create(ve,...ne){const de=ne[0]||{},J=`${this.service}/${ve}`,rt=this.errors[ve],Mt=rt?function Bt(pe,ve){return pe.replace(tn,(ne,de)=>{const J=ve[de];return null!=J?String(J):`<${de}?>`})}(rt,de):"Error";return new je(J,`${this.serviceName}: ${Mt} (${J}).`,de)}}const tn=/\{\$([^}]+)}/g;function Gn(pe,ve){return Object.prototype.hasOwnProperty.call(pe,ve)}function $t(pe){for(const ve in pe)if(Object.prototype.hasOwnProperty.call(pe,ve))return!1;return!0}function st(pe,ve){if(pe===ve)return!0;const ne=Object.keys(pe),de=Object.keys(ve);for(const J of ne){if(!de.includes(J))return!1;const rt=pe[J],Mt=ve[J];if(Tt(rt)&&Tt(Mt)){if(!st(rt,Mt))return!1}else if(rt!==Mt)return!1}for(const J of de)if(!ne.includes(J))return!1;return!0}function Tt(pe){return null!==pe&&"object"==typeof pe}function Ht(pe){const ve=[];for(const[ne,de]of Object.entries(pe))Array.isArray(de)?de.forEach(J=>{ve.push(encodeURIComponent(ne)+"="+encodeURIComponent(J))}):ve.push(encodeURIComponent(ne)+"="+encodeURIComponent(de));return ve.length?"&"+ve.join("&"):""}function cr(pe){const ve={};return pe.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[J,rt]=de.split("=");ve[decodeURIComponent(J)]=decodeURIComponent(rt)}}),ve}function zn(pe){const ve=pe.indexOf("?");if(!ve)return"";const ne=pe.indexOf("#",ve);return pe.substring(ve,ne>0?ne:void 0)}function gn(pe,ve){const ne=new Un(pe,ve);return ne.subscribe.bind(ne)}class Un{constructor(ve,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{ve(this)}).catch(de=>{this.error(de)})}next(ve){this.forEachObserver(ne=>{ne.next(ve)})}error(ve){this.forEachObserver(ne=>{ne.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,ne,de){let J;if(void 0===ve&&void 0===ne&&void 0===de)throw new Error("Missing Observer.");J=function Rn(pe,ve){if("object"!=typeof pe||null===pe)return!1;for(const ne of ve)if(ne in pe&&"function"==typeof pe[ne])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:ne,complete:de},void 0===J.next&&(J.next=Jn),void 0===J.error&&(J.error=Jn),void 0===J.complete&&(J.complete=Jn);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),rt}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,ve)}sendOne(ve,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{ne(this.observers[ve])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}function ut(pe){return pe&&pe._delegate?pe._delegate:pe}},4442:(vn,gt,x)=>{"use strict";x.d(gt,{L:()=>Se,a:()=>Ve,b:()=>ue,c:()=>Oe,d:()=>ze,g:()=>Ie}),x(5531);const Se="ionViewWillEnter",Ve="ionViewDidEnter",ue="ionViewWillLeave",Oe="ionViewDidLeave",ze="ionViewWillUnload",Ie=W=>W.classList.contains("ion-page")?W:W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||W},5531:(vn,gt,x)=>{"use strict";x.d(gt,{a:()=>De,c:()=>C,g:()=>ze});class a{constructor(){this.m=new Map}reset(W){this.m=new Map(Object.entries(W))}get(W,M){const S=this.m.get(W);return void 0!==S?S:M}getBoolean(W,M=!1){const S=this.m.get(W);return void 0===S?M:"string"==typeof S?"true"===S:!!S}getNumber(W,M){const S=parseFloat(this.m.get(W));return isNaN(S)?void 0!==M?M:NaN:S}set(W,M){this.m.set(W,M)}}const C=new a,ze=Ie=>he(Ie),De=(Ie,W)=>("string"==typeof Ie&&(W=Ie,Ie=void 0),ze(Ie).includes(W)),he=(Ie=window)=>{if(typeof Ie>"u")return[];Ie.Ionic=Ie.Ionic||{};let W=Ie.Ionic.platforms;return null==W&&(W=Ie.Ionic.platforms=Le(Ie),W.forEach(M=>Ie.document.documentElement.classList.add(`plt-${M}`))),W},Le=Ie=>{const W=C.get("platform");return Object.keys(ot).filter(M=>{const S=W?.[M];return"function"==typeof S?S(Ie):ot[M](Ie)})},ke=Ie=>!!(Et(Ie,/iPad/i)||Et(Ie,/Macintosh/i)&&tt(Ie)),qe=Ie=>Et(Ie,/android|sink/i),tt=Ie=>Ye(Ie,"(any-pointer:coarse)"),xe=Ie=>Pe(Ie)||lt(Ie),Pe=Ie=>!!(Ie.cordova||Ie.phonegap||Ie.PhoneGap),lt=Ie=>{const W=Ie.Capacitor;return!!W?.isNative},Et=(Ie,W)=>W.test(Ie.navigator.userAgent),Ye=(Ie,W)=>{var M;return null===(M=Ie.matchMedia)||void 0===M?void 0:M.call(Ie,W).matches},ot={ipad:ke,iphone:Ie=>Et(Ie,/iPhone/i),ios:Ie=>Et(Ie,/iPhone|iPod/i)||ke(Ie),android:qe,phablet:Ie=>{const W=Ie.innerWidth,M=Ie.innerHeight,S=Math.min(W,M),L=Math.max(W,M);return S>390&&S<520&&L>620&&L<800},tablet:Ie=>{const W=Ie.innerWidth,M=Ie.innerHeight,S=Math.min(W,M),L=Math.max(W,M);return ke(Ie)||(Ie=>qe(Ie)&&!Et(Ie,/mobile/i))(Ie)||S>460&&S<820&&L>780&&L<1400},cordova:Pe,capacitor:lt,electron:Ie=>Et(Ie,/electron/i),pwa:Ie=>{var W;return!!(null!==(W=Ie.matchMedia)&&void 0!==W&&W.call(Ie,"(display-mode: standalone)").matches||Ie.navigator.standalone)},mobile:tt,mobileweb:Ie=>tt(Ie)&&!xe(Ie),desktop:Ie=>!tt(Ie),hybrid:xe}},9986:(vn,gt,x)=>{"use strict";x.d(gt,{c:()=>Ve});var a=x(8476);let C;const le=(ue,Oe,ze)=>{const De=Oe.startsWith("animation")?(ue=>(void 0===C&&(C=void 0===ue.style.animationName&&void 0!==ue.style.webkitAnimationName?"-webkit-":""),C))(ue):"";ue.style.setProperty(De+Oe,ze)},Se=(ue=[],Oe)=>{if(void 0!==Oe){const ze=Array.isArray(Oe)?Oe:[Oe];return[...ue,...ze]}return ue},Ve=ue=>{let Oe,ze,De,he,Le,Fe,Be,Ne,me,Et,We,ke=[],Xe=[],et=[],qe=!1,It={},Ge=[],tt=[],_e={},xe=0,Pe=!1,lt=!1,Ye=!0,ot=!1,Je=!0,At=!1;const Ie=ue,W=[],M=[],S=[],L=[],se=[],je=[],we=[],Bt=[],tn=[],Cn=[],ln=[],rn="function"==typeof AnimationEffect||void 0!==a.w&&"function"==typeof a.w.AnimationEffect,Pn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&rn,hr=()=>ln,$t=(Te,mt)=>{const zt=mt.findIndex(Xt=>Xt.c===Te);zt>-1&&mt.splice(zt,1)},st=(Te,mt)=>((mt?.oneTimeCallback?M:W).push({c:Te,o:mt}),We),Kt=()=>{Pn&&(ln.forEach(Te=>{Te.cancel()}),ln.length=0)},Ht=()=>{je.forEach(Te=>{Te?.parentNode&&Te.parentNode.removeChild(Te)}),je.length=0},wt=()=>void 0!==Le?Le:Be?Be.getFill():"both",qt=()=>void 0!==Ne?Ne:void 0!==Fe?Fe:Be?Be.getDirection():"normal",$n=()=>Pe?"linear":void 0!==De?De:Be?Be.getEasing():"linear",$e=()=>lt?0:void 0!==me?me:void 0!==ze?ze:Be?Be.getDuration():0,Dn=()=>void 0!==he?he:Be?Be.getIterations():1,Fn=()=>void 0!==Et?Et:void 0!==Oe?Oe:Be?Be.getDelay():0,An=()=>{0!==xe&&(xe--,0===xe&&((()=>{tn.forEach(on=>on()),Cn.forEach(on=>on());const Te=Ye?1:0,mt=Ge,zt=tt,Xt=_e;L.forEach(on=>{const ir=on.classList;mt.forEach(Zn=>ir.add(Zn)),zt.forEach(Zn=>ir.remove(Zn));for(const Zn in Xt)Xt.hasOwnProperty(Zn)&&le(on,Zn,Xt[Zn])}),me=void 0,Ne=void 0,Et=void 0,W.forEach(on=>on.c(Te,We)),M.forEach(on=>on.c(Te,We)),M.length=0,Je=!0,Ye&&(ot=!0),Ye=!0})(),Be&&Be.animationFinish()))},mr=()=>{(()=>{we.forEach(Xt=>Xt()),Bt.forEach(Xt=>Xt());const Te=Xe,mt=et,zt=It;L.forEach(Xt=>{const on=Xt.classList;Te.forEach(ir=>on.add(ir)),mt.forEach(ir=>on.remove(ir));for(const ir in zt)zt.hasOwnProperty(ir)&&le(Xt,ir,zt[ir])})})(),ke.length>0&&Pn&&(L.forEach(Te=>{const mt=Te.animate(ke,{id:Ie,delay:Fn(),duration:$e(),easing:$n(),iterations:Dn(),fill:wt(),direction:qt()});mt.pause(),ln.push(mt)}),ln.length>0&&(ln[0].onfinish=()=>{An()})),qe=!0},En=Te=>{Te=Math.min(Math.max(Te,0),.9999),Pn&&ln.forEach(mt=>{mt.currentTime=mt.effect.getComputedTiming().delay+$e()*Te,mt.pause()})},yn=Te=>{ln.forEach(mt=>{mt.effect.updateTiming({delay:Fn(),duration:$e(),easing:$n(),iterations:Dn(),fill:wt(),direction:qt()})}),void 0!==Te&&En(Te)},Hn=(Te=!1,mt=!0,zt)=>(Te&&se.forEach(Xt=>{Xt.update(Te,mt,zt)}),Pn&&yn(zt),We),bi=()=>{qe&&(Pn?ln.forEach(Te=>{Te.pause()}):L.forEach(Te=>{le(Te,"animation-play-state","paused")}),At=!0)},re=Te=>new Promise(mt=>{Te?.sync&&(lt=!0,st(()=>lt=!1,{oneTimeCallback:!0})),qe||mr(),ot&&(Pn&&(En(0),yn()),ot=!1),Je&&(xe=se.length+1,Je=!1);const zt=()=>{$t(Xt,M),mt()},Xt=()=>{$t(zt,S),mt()};st(Xt,{oneTimeCallback:!0}),((Te,mt)=>{S.push({c:Te,o:{oneTimeCallback:!0}})})(zt),se.forEach(on=>{on.play()}),Pn?(ln.forEach(Te=>{Te.play()}),(0===ke.length||0===L.length)&&An()):An(),At=!1}),H=(Te,mt)=>{const zt=ke[0];return void 0===zt||void 0!==zt.offset&&0!==zt.offset?ke=[{offset:0,[Te]:mt},...ke]:zt[Te]=mt,We};return We={parentAnimation:Be,elements:L,childAnimations:se,id:Ie,animationFinish:An,from:H,to:(Te,mt)=>{const zt=ke[ke.length-1];return void 0===zt||void 0!==zt.offset&&1!==zt.offset?ke=[...ke,{offset:1,[Te]:mt}]:zt[Te]=mt,We},fromTo:(Te,mt,zt)=>H(Te,mt).to(Te,zt),parent:Te=>(Be=Te,We),play:re,pause:()=>(se.forEach(Te=>{Te.pause()}),bi(),We),stop:()=>{se.forEach(Te=>{Te.stop()}),qe&&(Kt(),qe=!1),Pe=!1,lt=!1,Je=!0,Ne=void 0,me=void 0,Et=void 0,xe=0,ot=!1,Ye=!0,At=!1,S.forEach(Te=>Te.c(0,We)),S.length=0},destroy:Te=>(se.forEach(mt=>{mt.destroy(Te)}),(Te=>{Kt(),Te&&Ht()})(Te),L.length=0,se.length=0,ke.length=0,W.length=0,M.length=0,qe=!1,Je=!0,We),keyframes:Te=>{const mt=ke!==Te;return ke=Te,mt&&(Te=>{Pn&&hr().forEach(mt=>{const zt=mt.effect;if(zt.setKeyframes)zt.setKeyframes(Te);else{const Xt=new KeyframeEffect(zt.target,Te,zt.getTiming());mt.effect=Xt}})})(ke),We},addAnimation:Te=>{if(null!=Te)if(Array.isArray(Te))for(const mt of Te)mt.parent(We),se.push(mt);else Te.parent(We),se.push(Te);return We},addElement:Te=>{if(null!=Te)if(1===Te.nodeType)L.push(Te);else if(Te.length>=0)for(let mt=0;mt<Te.length;mt++)L.push(Te[mt]);else console.error("Invalid addElement value");return We},update:Hn,fill:Te=>(Le=Te,Hn(!0),We),direction:Te=>(Fe=Te,Hn(!0),We),iterations:Te=>(he=Te,Hn(!0),We),duration:Te=>(!Pn&&0===Te&&(Te=1),ze=Te,Hn(!0),We),easing:Te=>(De=Te,Hn(!0),We),delay:Te=>(Oe=Te,Hn(!0),We),getWebAnimations:hr,getKeyframes:()=>ke,getFill:wt,getDirection:qt,getDelay:Fn,getIterations:Dn,getEasing:$n,getDuration:$e,afterAddRead:Te=>(tn.push(Te),We),afterAddWrite:Te=>(Cn.push(Te),We),afterClearStyles:(Te=[])=>{for(const mt of Te)_e[mt]="";return We},afterStyles:(Te={})=>(_e=Te,We),afterRemoveClass:Te=>(tt=Se(tt,Te),We),afterAddClass:Te=>(Ge=Se(Ge,Te),We),beforeAddRead:Te=>(we.push(Te),We),beforeAddWrite:Te=>(Bt.push(Te),We),beforeClearStyles:(Te=[])=>{for(const mt of Te)It[mt]="";return We},beforeStyles:(Te={})=>(It=Te,We),beforeRemoveClass:Te=>(et=Se(et,Te),We),beforeAddClass:Te=>(Xe=Se(Xe,Te),We),onFinish:st,isRunning:()=>0!==xe&&!At,progressStart:(Te=!1,mt)=>(se.forEach(zt=>{zt.progressStart(Te,mt)}),bi(),Pe=Te,qe||mr(),Hn(!1,!0,mt),We),progressStep:Te=>(se.forEach(mt=>{mt.progressStep(Te)}),En(Te),We),progressEnd:(Te,mt,zt)=>(Pe=!1,se.forEach(Xt=>{Xt.progressEnd(Te,mt,zt)}),void 0!==zt&&(me=zt),ot=!1,Ye=!0,0===Te?(Ne="reverse"===qt()?"normal":"reverse","reverse"===Ne&&(Ye=!1),Pn?(Hn(),En(1-mt)):(Et=(1-mt)*$e()*-1,Hn(!1,!1))):1===Te&&(Pn?(Hn(),En(mt)):(Et=mt*$e()*-1,Hn(!1,!1))),void 0!==Te&&!Be&&re(),We)}}},464:(vn,gt,x)=>{"use strict";x.d(gt,{E:()=>De,a:()=>a,s:()=>Oe});const a=he=>{try{if(he instanceof ue)return he.value;if(!le()||"string"!=typeof he||""===he)return he;if(he.includes("onload="))return"";const Le=document.createDocumentFragment(),Fe=document.createElement("div");Le.appendChild(Fe),Fe.innerHTML=he,Ve.forEach(qe=>{const Be=Le.querySelectorAll(qe);for(let It=Be.length-1;It>=0;It--){const Ge=Be[It];Ge.parentNode?Ge.parentNode.removeChild(Ge):Le.removeChild(Ge);const tt=V(Ge);for(let _e=0;_e<tt.length;_e++)C(tt[_e])}});const ke=V(Le);for(let qe=0;qe<ke.length;qe++)C(ke[qe]);const Xe=document.createElement("div");Xe.appendChild(Le);const et=Xe.querySelector("div");return null!==et?et.innerHTML:Xe.innerHTML}catch(Le){return console.error(Le),""}},C=he=>{if(he.nodeType&&1!==he.nodeType)return;if(typeof NamedNodeMap<"u"&&!(he.attributes instanceof NamedNodeMap))return void he.remove();for(let Fe=he.attributes.length-1;Fe>=0;Fe--){const ke=he.attributes.item(Fe),Xe=ke.name;if(!Se.includes(Xe.toLowerCase())){he.removeAttribute(Xe);continue}const et=ke.value,qe=he[Xe];(null!=et&&et.toLowerCase().includes("javascript:")||null!=qe&&qe.toLowerCase().includes("javascript:"))&&he.removeAttribute(Xe)}const Le=V(he);for(let Fe=0;Fe<Le.length;Fe++)C(Le[Fe])},V=he=>null!=he.children?he.children:he.childNodes,le=()=>{var he;const Le=window,Fe=null===(he=Le?.Ionic)||void 0===he?void 0:he.config;return!Fe||(Fe.get?Fe.get("sanitizerEnabled",!0):!0===Fe.sanitizerEnabled||void 0===Fe.sanitizerEnabled)},Se=["class","id","href","src","name","slot"],Ve=["script","style","iframe","meta","link","object","embed"];class ue{constructor(Le){this.value=Le}}const Oe=he=>{const Le=window,Fe=Le.Ionic;if(!Fe||!Fe.config||"Object"===Fe.config.constructor.name)return Le.Ionic=Le.Ionic||{},Le.Ionic.config=Object.assign(Object.assign({},Le.Ionic.config),he),Le.Ionic.config},De=!1},8621:(vn,gt,x)=>{"use strict";x.d(gt,{C:()=>Se,a:()=>V,d:()=>le});var a=x(467),C=x(4920);const V=function(){var Ve=(0,a.A)(function*(ue,Oe,ze,De,he,Le){var Fe;if(ue)return ue.attachViewToDom(Oe,ze,he,De);if(!(Le||"string"==typeof ze||ze instanceof HTMLElement))throw new Error("framework delegate is missing");const ke="string"==typeof ze?null===(Fe=Oe.ownerDocument)||void 0===Fe?void 0:Fe.createElement(ze):ze;return De&&De.forEach(Xe=>ke.classList.add(Xe)),he&&Object.assign(ke,he),Oe.appendChild(ke),yield new Promise(Xe=>(0,C.c)(ke,Xe)),ke});return function(Oe,ze,De,he,Le,Fe){return Ve.apply(this,arguments)}}(),le=(Ve,ue)=>{if(ue){if(Ve)return Ve.removeViewFromDom(ue.parentElement,ue);ue.remove()}return Promise.resolve()},Se=()=>{let Ve,ue;return{attachViewToDom:function(){var De=(0,a.A)(function*(he,Le,Fe={},ke=[]){var Xe,et;let qe;if(Ve=he,Le){const It="string"==typeof Le?null===(Xe=Ve.ownerDocument)||void 0===Xe?void 0:Xe.createElement(Le):Le;ke.forEach(Ge=>It.classList.add(Ge)),Object.assign(It,Fe),Ve.appendChild(It),qe=It,yield new Promise(Ge=>(0,C.c)(It,Ge))}else if(Ve.children.length>0&&("ION-MODAL"===Ve.tagName||"ION-POPOVER"===Ve.tagName)&&!(qe=Ve.children[0]).classList.contains("ion-delegate-host")){const Ge=null===(et=Ve.ownerDocument)||void 0===et?void 0:et.createElement("div");Ge.classList.add("ion-delegate-host"),ke.forEach(tt=>Ge.classList.add(tt)),Ge.append(...Ve.children),Ve.appendChild(Ge),qe=Ge}const Be=document.querySelector("ion-app")||document.body;return ue=document.createComment("ionic teleport"),Ve.parentNode.insertBefore(ue,Ve),Be.appendChild(Ve),qe??Ve});return function(Le,Fe){return De.apply(this,arguments)}}(),removeViewFromDom:()=>(Ve&&ue&&(ue.parentNode.insertBefore(Ve,ue),ue.remove()),Promise.resolve())}}},1970:(vn,gt,x)=>{"use strict";x.d(gt,{B:()=>le,G:()=>Se});class C{constructor(ue,Oe,ze,De,he){this.id=Oe,this.name=ze,this.disableScroll=he,this.priority=1e6*De+Oe,this.ctrl=ue}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ue=this.ctrl.capture(this.name,this.id,this.priority);return ue&&this.disableScroll&&this.ctrl.disableScroll(this.id),ue}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class V{constructor(ue,Oe,ze,De){this.id=Oe,this.disable=ze,this.disableScroll=De,this.ctrl=ue}block(){if(this.ctrl){if(this.disable)for(const ue of this.disable)this.ctrl.disableGesture(ue,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ue of this.disable)this.ctrl.enableGesture(ue,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const le="backdrop-no-scroll",Se=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ue){var Oe;return new C(this,this.newID(),ue.name,null!==(Oe=ue.priority)&&void 0!==Oe?Oe:0,!!ue.disableScroll)}createBlocker(ue={}){return new V(this,this.newID(),ue.disable,!!ue.disableScroll)}start(ue,Oe,ze){return this.canStart(ue)?(this.requestedStart.set(Oe,ze),!0):(this.requestedStart.delete(Oe),!1)}capture(ue,Oe,ze){if(!this.start(ue,Oe,ze))return!1;const De=this.requestedStart;let he=-1e4;if(De.forEach(Le=>{he=Math.max(he,Le)}),he===ze){this.capturedId=Oe,De.clear();const Le=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ue}});return document.dispatchEvent(Le),!0}return De.delete(Oe),!1}release(ue){this.requestedStart.delete(ue),this.capturedId===ue&&(this.capturedId=void 0)}disableGesture(ue,Oe){let ze=this.disabledGestures.get(ue);void 0===ze&&(ze=new Set,this.disabledGestures.set(ue,ze)),ze.add(Oe)}enableGesture(ue,Oe){const ze=this.disabledGestures.get(ue);void 0!==ze&&ze.delete(Oe)}disableScroll(ue){this.disabledScroll.add(ue),1===this.disabledScroll.size&&document.body.classList.add(le)}enableScroll(ue){this.disabledScroll.delete(ue),0===this.disabledScroll.size&&document.body.classList.remove(le)}canStart(ue){return!(void 0!==this.capturedId||this.isDisabled(ue))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ue){const Oe=this.disabledGestures.get(ue);return!!(Oe&&Oe.size>0)}newID(){return this.gestureId++,this.gestureId}}},8103:(vn,gt,x)=>{"use strict";x.r(gt),x.d(gt,{MENU_BACK_BUTTON_PRIORITY:()=>ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>Oe,blockHardwareBackButton:()=>Ve,shouldUseCloseWatcher:()=>Se,startHardwareBackButton:()=>ue});var a=x(467),C=x(8476),V=x(6482);x(3649);const Se=()=>V.c.get("experimentalCloseWatcher",!1)&&void 0!==C.w&&"CloseWatcher"in C.w,Ve=()=>{document.addEventListener("backbutton",()=>{})},ue=()=>{const De=document;let he=!1;const Le=()=>{if(he)return;let Fe=0,ke=[];const Xe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Be,It){ke.push({priority:Be,handler:It,id:Fe++})}}});De.dispatchEvent(Xe);const et=function(){var Be=(0,a.A)(function*(It){try{if(It?.handler){const Ge=It.handler(qe);null!=Ge&&(yield Ge)}}catch(Ge){console.error(Ge)}});return function(Ge){return Be.apply(this,arguments)}}(),qe=()=>{if(ke.length>0){let Be={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(It=>{It.priority>=Be.priority&&(Be=It)}),he=!0,ke=ke.filter(It=>It.id!==Be.id),et(Be).then(()=>he=!1)}};qe()};if(Se()){let Fe;const ke=()=>{Fe?.destroy(),Fe=new C.w.CloseWatcher,Fe.onclose=()=>{Le(),ke()}};ke()}else De.addEventListener("backbutton",Le)},Oe=100,ze=99},4920:(vn,gt,x)=>{"use strict";x.d(gt,{a:()=>Oe,b:()=>ze,c:()=>V,d:()=>ke,e:()=>It,f:()=>Fe,g:()=>De,h:()=>Se,i:()=>ue,j:()=>Xe,k:()=>le,l:()=>Le,m:()=>et,n:()=>Be,o:()=>Ge,p:()=>qe,r:()=>he,s:()=>tt,t:()=>a});const a=(_e,xe=0)=>new Promise(Pe=>{C(_e,xe,Pe)}),C=(_e,xe=0,Pe)=>{let lt,Ne;const me={passive:!0},Ye=()=>{lt&&lt()},ot=Je=>{(void 0===Je||_e===Je.target)&&(Ye(),Pe(Je))};return _e&&(_e.addEventListener("webkitTransitionEnd",ot,me),_e.addEventListener("transitionend",ot,me),Ne=setTimeout(ot,xe+500),lt=()=>{void 0!==Ne&&(clearTimeout(Ne),Ne=void 0),_e.removeEventListener("webkitTransitionEnd",ot,me),_e.removeEventListener("transitionend",ot,me)}),Ye},V=(_e,xe)=>{_e.componentOnReady?_e.componentOnReady().then(Pe=>xe(Pe)):he(()=>xe(_e))},le=_e=>void 0!==_e.componentOnReady,Se=(_e,xe=[])=>{const Pe={};return xe.forEach(lt=>{_e.hasAttribute(lt)&&(null!==_e.getAttribute(lt)&&(Pe[lt]=_e.getAttribute(lt)),_e.removeAttribute(lt))}),Pe},Ve=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ue=(_e,xe)=>{let Pe=Ve;return xe&&xe.length>0&&(Pe=Pe.filter(lt=>!xe.includes(lt))),Se(_e,Pe)},Oe=(_e,xe,Pe,lt)=>{var Ne;if(typeof window<"u"){const me=window,Et=null===(Ne=me?.Ionic)||void 0===Ne?void 0:Ne.config;if(Et){const Ye=Et.get("_ael");if(Ye)return Ye(_e,xe,Pe,lt);if(Et._ael)return Et._ael(_e,xe,Pe,lt)}}return _e.addEventListener(xe,Pe,lt)},ze=(_e,xe,Pe,lt)=>{var Ne;if(typeof window<"u"){const me=window,Et=null===(Ne=me?.Ionic)||void 0===Ne?void 0:Ne.config;if(Et){const Ye=Et.get("_rel");if(Ye)return Ye(_e,xe,Pe,lt);if(Et._rel)return Et._rel(_e,xe,Pe,lt)}}return _e.removeEventListener(xe,Pe,lt)},De=(_e,xe=_e)=>_e.shadowRoot||xe,he=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e),Le=_e=>!!_e.shadowRoot&&!!_e.attachShadow,Fe=_e=>{if(_e.focus(),_e.classList.contains("ion-focusable")){const xe=_e.closest("ion-app");xe&&xe.setFocus([_e])}},ke=(_e,xe,Pe,lt,Ne)=>{if(_e||Le(xe)){let me=xe.querySelector("input.aux-input");me||(me=xe.ownerDocument.createElement("input"),me.type="hidden",me.classList.add("aux-input"),xe.appendChild(me)),me.disabled=Ne,me.name=Pe,me.value=lt||""}},Xe=(_e,xe,Pe)=>Math.max(_e,Math.min(xe,Pe)),et=(_e,xe)=>{if(!_e){const Pe="ASSERT: "+xe;throw console.error(Pe),new Error(Pe)}},qe=_e=>{if(_e){const xe=_e.changedTouches;if(xe&&xe.length>0){const Pe=xe[0];return{x:Pe.clientX,y:Pe.clientY}}if(void 0!==_e.pageX)return{x:_e.pageX,y:_e.pageY}}return{x:0,y:0}},Be=_e=>{const xe="rtl"===document.dir;switch(_e){case"start":return xe;case"end":return!xe;default:throw new Error(`"${_e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},It=(_e,xe)=>{const Pe=_e._original||_e;return{_original:_e,emit:Ge(Pe.emit.bind(Pe),xe)}},Ge=(_e,xe=0)=>{let Pe;return(...lt)=>{clearTimeout(Pe),Pe=setTimeout(_e,xe,...lt)}},tt=(_e,xe)=>{if(_e??(_e={}),xe??(xe={}),_e===xe)return!0;const Pe=Object.keys(_e);if(Pe.length!==Object.keys(xe).length)return!1;for(const lt of Pe)if(!(lt in xe)||_e[lt]!==xe[lt])return!1;return!0}},8607:(vn,gt,x)=>{"use strict";x.r(gt),x.d(gt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>ze});var a=x(1970);const C=(Fe,ke,Xe,et)=>{const qe=V(Fe)?{capture:!!et.capture,passive:!!et.passive}:!!et.capture;let Be,It;return Fe.__zone_symbol__addEventListener?(Be="__zone_symbol__addEventListener",It="__zone_symbol__removeEventListener"):(Be="addEventListener",It="removeEventListener"),Fe[Be](ke,Xe,qe),()=>{Fe[It](ke,Xe,qe)}},V=Fe=>{if(void 0===le)try{const ke=Object.defineProperty({},"passive",{get:()=>{le=!0}});Fe.addEventListener("optsTest",()=>{},ke)}catch{le=!1}return!!le};let le;const ue=Fe=>Fe instanceof Document?Fe:Fe.ownerDocument,ze=Fe=>{let ke=!1,Xe=!1,et=!0,qe=!1;const Be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Fe),It=Be.canStart,Ge=Be.onWillStart,tt=Be.onStart,_e=Be.onEnd,xe=Be.notCaptured,Pe=Be.onMove,lt=Be.threshold,Ne=Be.passive,me=Be.blurOnStart,Et={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ye=((Fe,ke,Xe)=>{const et=Xe*(Math.PI/180),qe="x"===Fe,Be=Math.cos(et),It=ke*ke;let Ge=0,tt=0,_e=!1,xe=0;return{start(Pe,lt){Ge=Pe,tt=lt,xe=0,_e=!0},detect(Pe,lt){if(!_e)return!1;const Ne=Pe-Ge,me=lt-tt,Et=Ne*Ne+me*me;if(Et<It)return!1;const Ye=Math.sqrt(Et),ot=(qe?Ne:me)/Ye;return xe=ot>Be?1:ot<-Be?-1:0,_e=!1,!0},isGesture:()=>0!==xe,getDirection:()=>xe}})(Be.direction,Be.threshold,Be.maxAngle),ot=a.G.createGesture({name:Fe.gestureName,priority:Fe.gesturePriority,disableScroll:Fe.disableScroll}),At=()=>{ke&&(qe=!1,Pe&&Pe(Et))},Ie=()=>!!ot.capture()&&(ke=!0,et=!1,Et.startX=Et.currentX,Et.startY=Et.currentY,Et.startTime=Et.currentTime,Ge?Ge(Et).then(M):M(),!0),M=()=>{me&&(()=>{if(typeof document<"u"){const we=document.activeElement;we?.blur&&we.blur()}})(),tt&&tt(Et),et=!0},S=()=>{ke=!1,Xe=!1,qe=!1,et=!0,ot.release()},L=we=>{const Bt=ke,tn=et;if(S(),tn){if(De(Et,we),Bt)return void(_e&&_e(Et));xe&&xe(Et)}},se=((Fe,ke,Xe,et,qe)=>{let Be,It,Ge,tt,_e,xe,Pe,lt=0;const Ne=W=>{lt=Date.now()+2e3,ke(W)&&(!It&&Xe&&(It=C(Fe,"touchmove",Xe,qe)),Ge||(Ge=C(W.target,"touchend",Et,qe)),tt||(tt=C(W.target,"touchcancel",Et,qe)))},me=W=>{lt>Date.now()||ke(W)&&(!xe&&Xe&&(xe=C(ue(Fe),"mousemove",Xe,qe)),Pe||(Pe=C(ue(Fe),"mouseup",Ye,qe)))},Et=W=>{ot(),et&&et(W)},Ye=W=>{Je(),et&&et(W)},ot=()=>{It&&It(),Ge&&Ge(),tt&&tt(),It=Ge=tt=void 0},Je=()=>{xe&&xe(),Pe&&Pe(),xe=Pe=void 0},We=()=>{ot(),Je()},At=(W=!0)=>{W?(Be||(Be=C(Fe,"touchstart",Ne,qe)),_e||(_e=C(Fe,"mousedown",me,qe))):(Be&&Be(),_e&&_e(),Be=_e=void 0,We())};return{enable:At,stop:We,destroy:()=>{At(!1),et=Xe=ke=void 0}}})(Be.el,we=>{const Bt=Le(we);return!(Xe||!et||(he(we,Et),Et.startX=Et.currentX,Et.startY=Et.currentY,Et.startTime=Et.currentTime=Bt,Et.velocityX=Et.velocityY=Et.deltaX=Et.deltaY=0,Et.event=we,It&&!1===It(Et))||(ot.release(),!ot.start()))&&(Xe=!0,0===lt?Ie():(Ye.start(Et.startX,Et.startY),!0))},we=>{ke?!qe&&et&&(qe=!0,De(Et,we),requestAnimationFrame(At)):(De(Et,we),Ye.detect(Et.currentX,Et.currentY)&&(!Ye.isGesture()||!Ie())&&je())},L,{capture:!1,passive:Ne}),je=()=>{S(),se.stop(),xe&&xe(Et)};return{enable(we=!0){we||(ke&&L(void 0),S()),se.enable(we)},destroy(){ot.destroy(),se.destroy()}}},De=(Fe,ke)=>{if(!ke)return;const Xe=Fe.currentX,et=Fe.currentY,qe=Fe.currentTime;he(ke,Fe);const Be=Fe.currentX,It=Fe.currentY,tt=(Fe.currentTime=Le(ke))-qe;if(tt>0&&tt<100){const xe=(It-et)/tt;Fe.velocityX=(Be-Xe)/tt*.7+.3*Fe.velocityX,Fe.velocityY=.7*xe+.3*Fe.velocityY}Fe.deltaX=Be-Fe.startX,Fe.deltaY=It-Fe.startY,Fe.event=ke},he=(Fe,ke)=>{let Xe=0,et=0;if(Fe){const qe=Fe.changedTouches;if(qe&&qe.length>0){const Be=qe[0];Xe=Be.clientX,et=Be.clientY}else void 0!==Fe.pageX&&(Xe=Fe.pageX,et=Fe.pageY)}ke.currentX=Xe,ke.currentY=et},Le=Fe=>Fe.timeStamp||Date.now()},2116:(vn,gt,x)=>{"use strict";x.d(gt,{b:()=>Oe,c:()=>ze,d:()=>De,e:()=>We,g:()=>W,l:()=>ot,s:()=>At,t:()=>Be,w:()=>Je});var a=x(467),C=x(6482),V=x(3649),le=x(4929),Se=x(4920);const Oe="ionViewWillLeave",ze="ionViewDidLeave",De="ionViewWillUnload",he=M=>{M.tabIndex=-1,M.focus()},Le=M=>null!==M.offsetParent,ke="ion-last-focus",qe_saveViewFocus=L=>{if(C.c.get("focusManagerPriority",!1)){const je=document.activeElement;null!==je&&L?.contains(je)&&je.setAttribute(ke,"true")}},qe_setViewFocus=L=>{const se=C.c.get("focusManagerPriority",!1);if(Array.isArray(se)&&!L.contains(document.activeElement)){const je=L.querySelector(`[${ke}]`);if(je&&Le(je))return void he(je);for(const we of se)switch(we){case"content":const Bt=L.querySelector('main, [role="main"]');if(Bt&&Le(Bt))return void he(Bt);break;case"heading":const tn=L.querySelector('h1, [role="heading"][aria-level="1"]');if(tn&&Le(tn))return void he(tn);break;case"banner":const Cn=L.querySelector('header, [role="banner"]');if(Cn&&Le(Cn))return void he(Cn);break;default:(0,le.p)(`Unrecognized focus manager priority value ${we}`)}he(L)}},Be=M=>new Promise((S,L)=>{(0,V.w)(()=>{It(M),Ge(M).then(se=>{se.animation&&se.animation.destroy(),tt(M),S(se)},se=>{tt(M),L(se)})})}),It=M=>{const S=M.enteringEl,L=M.leavingEl;qe_saveViewFocus(L),Ie(S,L,M.direction),M.showGoBack?S.classList.add("can-go-back"):S.classList.remove("can-go-back"),At(S,!1),S.style.setProperty("pointer-events","none"),L&&(At(L,!1),L.style.setProperty("pointer-events","none"))},Ge=function(){var M=(0,a.A)(function*(S){const L=yield _e(S);return L&&V.B.isBrowser?xe(L,S):Pe(S)});return function(L){return M.apply(this,arguments)}}(),tt=M=>{const S=M.enteringEl,L=M.leavingEl;S.classList.remove("ion-page-invisible"),S.style.removeProperty("pointer-events"),void 0!==L&&(L.classList.remove("ion-page-invisible"),L.style.removeProperty("pointer-events")),qe_setViewFocus(S)},_e=function(){var M=(0,a.A)(function*(S){return S.leavingEl&&S.animated&&0!==S.duration?S.animationBuilder?S.animationBuilder:"ios"===S.mode?(yield Promise.resolve().then(x.bind(x,7602))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,9499))).mdTransitionAnimation:void 0});return function(L){return M.apply(this,arguments)}}(),xe=function(){var M=(0,a.A)(function*(S,L){yield lt(L,!0);const se=S(L.baseEl,L);Et(L.enteringEl,L.leavingEl);const je=yield me(se,L);return L.progressCallback&&L.progressCallback(void 0),je&&Ye(L.enteringEl,L.leavingEl),{hasCompleted:je,animation:se}});return function(L,se){return M.apply(this,arguments)}}(),Pe=function(){var M=(0,a.A)(function*(S){const L=S.enteringEl,se=S.leavingEl,je=C.c.get("focusManagerPriority",!1);return yield lt(S,je),Et(L,se),Ye(L,se),{hasCompleted:!0}});return function(L){return M.apply(this,arguments)}}(),lt=function(){var M=(0,a.A)(function*(S,L){(void 0!==S.deepWait?S.deepWait:L)&&(yield Promise.all([We(S.enteringEl),We(S.leavingEl)])),yield Ne(S.viewIsReady,S.enteringEl)});return function(L,se){return M.apply(this,arguments)}}(),Ne=function(){var M=(0,a.A)(function*(S,L){S&&(yield S(L))});return function(L,se){return M.apply(this,arguments)}}(),me=(M,S)=>{const L=S.progressCallback,se=new Promise(je=>{M.onFinish(we=>je(1===we))});return L?(M.progressStart(!0),L(M)):M.play(),se},Et=(M,S)=>{ot(S,Oe),ot(M,"ionViewWillEnter")},Ye=(M,S)=>{ot(M,"ionViewDidEnter"),ot(S,ze)},ot=(M,S)=>{if(M){const L=new CustomEvent(S,{bubbles:!1,cancelable:!1});M.dispatchEvent(L)}},Je=()=>new Promise(M=>(0,Se.r)(()=>(0,Se.r)(()=>M()))),We=function(){var M=(0,a.A)(function*(S){const L=S;if(L){if(null!=L.componentOnReady){if(null!=(yield L.componentOnReady()))return}else if(null!=L.__registerHost)return void(yield new Promise(je=>(0,Se.r)(je)));yield Promise.all(Array.from(L.children).map(We))}});return function(L){return M.apply(this,arguments)}}(),At=(M,S)=>{S?(M.setAttribute("aria-hidden","true"),M.classList.add("ion-page-hidden")):(M.hidden=!1,M.removeAttribute("aria-hidden"),M.classList.remove("ion-page-hidden"))},Ie=(M,S,L)=>{void 0!==M&&(M.style.zIndex="back"===L?"99":"101"),void 0!==S&&(S.style.zIndex="100")},W=M=>M.classList.contains("ion-page")?M:M.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||M},4929:(vn,gt,x)=>{"use strict";x.d(gt,{a:()=>C,b:()=>V,p:()=>a});const a=(le,...Se)=>console.warn(`[Ionic Warning]: ${le}`,...Se),C=(le,...Se)=>console.error(`[Ionic Error]: ${le}`,...Se),V=(le,...Se)=>console.error(`<${le.tagName.toLowerCase()}> must be used inside ${Se.join(" or ")}.`)},8476:(vn,gt,x)=>{"use strict";x.d(gt,{d:()=>C,w:()=>a});const a=typeof window<"u"?window:void 0,C=typeof document<"u"?document:void 0},3649:(vn,gt,x)=>{"use strict";x.d(gt,{B:()=>Ve,a:()=>ho,b:()=>zr,c:()=>tn,d:()=>Pn,e:()=>Ur,f:()=>Ie,g:()=>Cn,h:()=>We,i:()=>rn,j:()=>Hn,k:()=>ue,r:()=>ur,w:()=>so});var a=x(467);var le=Object.defineProperty,Ve={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ue=$=>{const oe=new URL($,qn.$resourcesUrl$);return oe.origin!==or.location.origin?oe.href:oe.pathname},Oe={},Le=$=>"object"==($=typeof $)||"function"===$;function Fe($){var oe,Ae,He;return null!=(He=null==(Ae=null==(oe=$.head)?void 0:oe.querySelector('meta[name="csp-nonce"]'))?void 0:Ae.getAttribute("content"))?He:void 0}(($,oe)=>{for(var Ae in oe)le($,Ae,{get:oe[Ae],enumerable:!0})})({},{err:()=>et,map:()=>qe,ok:()=>Xe,unwrap:()=>Be,unwrapErr:()=>It});var Xe=$=>({isOk:!0,isErr:!1,value:$}),et=$=>({isOk:!1,isErr:!0,value:$});function qe($,oe){if($.isOk){const Ae=oe($.value);return Ae instanceof Promise?Ae.then(He=>Xe(He)):Xe(Ae)}if($.isErr)return et($.value);throw"should never get here"}var Be=$=>{if($.isOk)return $.value;throw $.value},It=$=>{if($.isErr)return $.value;throw $.value},Ne="s-id",me="sty-id",ot="slot-fb{display:contents}slot-fb[hidden]{display:none}",Je="http://www.w3.org/1999/xlink",We=($,oe,...Ae)=>{let He=null,yt=null,pt=null,Wt=!1,Qt=!1;const jt=[],Yt=Tn=>{for(let Bn=0;Bn<Tn.length;Bn++)He=Tn[Bn],Array.isArray(He)?Yt(He):null!=He&&"boolean"!=typeof He&&((Wt="function"!=typeof $&&!Le(He))&&(He=String(He)),Wt&&Qt?jt[jt.length-1].$text$+=He:jt.push(Wt?At(null,He):He),Qt=Wt)};if(Yt(Ae),oe){oe.key&&(yt=oe.key),oe.name&&(pt=oe.name);{const Tn=oe.className||oe.class;Tn&&(oe.class="object"!=typeof Tn?Tn:Object.keys(Tn).filter(Bn=>Tn[Bn]).join(" "))}}if("function"==typeof $)return $(null===oe?{}:oe,jt,M);const an=At($,null);return an.$attrs$=oe,jt.length>0&&(an.$children$=jt),an.$key$=yt,an.$name$=pt,an},At=($,oe)=>({$flags$:0,$tag$:$,$text$:oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ie={},M={forEach:($,oe)=>$.map(S).forEach(oe),map:($,oe)=>$.map(S).map(oe).map(L)},S=$=>({vattrs:$.$attrs$,vchildren:$.$children$,vkey:$.$key$,vname:$.$name$,vtag:$.$tag$,vtext:$.$text$}),L=$=>{if("function"==typeof $.vtag){const Ae={...$.vattrs};return $.vkey&&(Ae.key=$.vkey),$.vname&&(Ae.name=$.vname),We($.vtag,Ae,...$.vchildren||[])}const oe=At($.vtag,$.vtext);return oe.$attrs$=$.vattrs,oe.$children$=$.vchildren,oe.$key$=$.vkey,oe.$name$=$.vname,oe},je=($,oe,Ae,He,yt,pt,Wt)=>{let Qt,jt,Yt,an;if(1===pt.nodeType){for(Qt=pt.getAttribute("c-id"),Qt&&(jt=Qt.split("."),(jt[0]===Wt||"0"===jt[0])&&(Yt={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:pt.tagName.toLowerCase(),$elm$:pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},oe.push(Yt),pt.removeAttribute("c-id"),$.$children$||($.$children$=[]),$.$children$[Yt.$index$]=Yt,$=Yt,He&&"0"===Yt.$depth$&&(He[Yt.$index$]=Yt.$elm$))),an=pt.childNodes.length-1;an>=0;an--)je($,oe,Ae,He,yt,pt.childNodes[an],Wt);if(pt.shadowRoot)for(an=pt.shadowRoot.childNodes.length-1;an>=0;an--)je($,oe,Ae,He,yt,pt.shadowRoot.childNodes[an],Wt)}else if(8===pt.nodeType)jt=pt.nodeValue.split("."),(jt[1]===Wt||"0"===jt[1])&&(Qt=jt[0],Yt={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Qt?(Yt.$elm$=pt.nextSibling,Yt.$elm$&&3===Yt.$elm$.nodeType&&(Yt.$text$=Yt.$elm$.textContent,oe.push(Yt),pt.remove(),$.$children$||($.$children$=[]),$.$children$[Yt.$index$]=Yt,He&&"0"===Yt.$depth$&&(He[Yt.$index$]=Yt.$elm$))):Yt.$hostId$===Wt&&("s"===Qt?(Yt.$tag$="slot",pt["s-sn"]=jt[5]?Yt.$name$=jt[5]:"",pt["s-sr"]=!0,He&&(Yt.$elm$=Rr.createElement(Yt.$tag$),Yt.$name$&&Yt.$elm$.setAttribute("name",Yt.$name$),pt.parentNode.insertBefore(Yt.$elm$,pt),pt.remove(),"0"===Yt.$depth$&&(He[Yt.$index$]=Yt.$elm$)),Ae.push(Yt),$.$children$||($.$children$=[]),$.$children$[Yt.$index$]=Yt):"r"===Qt&&(He?pt.remove():(yt["s-cr"]=pt,pt["s-cn"]=!0))));else if($&&"style"===$.$tag$){const Tn=At(null,pt.textContent);Tn.$elm$=pt,Tn.$index$="0",$.$children$=[Tn]}},we=($,oe)=>{if(1===$.nodeType){let Ae=0;for(;Ae<$.childNodes.length;Ae++)we($.childNodes[Ae],oe);if($.shadowRoot)for(Ae=0;Ae<$.shadowRoot.childNodes.length;Ae++)we($.shadowRoot.childNodes[Ae],oe)}else if(8===$.nodeType){const Ae=$.nodeValue.split(".");"o"===Ae[0]&&(oe.set(Ae[1]+"."+Ae[2],$),$.nodeValue="",$["s-en"]=Ae[3])}},tn=$=>_o.push($),Cn=$=>Vr($).$modeName$,rn=$=>Vr($).$hostElement$,Pn=($,oe,Ae)=>{const He=rn($);return{emit:yt=>hr(He,oe,{bubbles:!!(4&Ae),composed:!!(2&Ae),cancelable:!!(1&Ae),detail:yt})}},hr=($,oe,Ae)=>{const He=qn.ce(oe,Ae);return $.dispatchEvent(He),He},en=new WeakMap,kn=($,oe,Ae)=>{let He=qi.get($);oo&&Ae?(He=He||new CSSStyleSheet,"string"==typeof He?He=oe:He.replaceSync(oe)):He=oe,qi.set($,He)},Gn=($,oe,Ae)=>{var He;const yt=$t(oe,Ae),pt=qi.get(yt);if($=11===$.nodeType?$:Rr,pt)if("string"==typeof pt){let Qt,Wt=en.get($=$.head||$);if(Wt||en.set($,Wt=new Set),!Wt.has(yt)){if($.host&&(Qt=$.querySelector(`[${me}="${yt}"]`)))Qt.innerHTML=pt;else{Qt=Rr.createElement("style"),Qt.innerHTML=pt;const jt=null!=(He=qn.$nonce$)?He:Fe(Rr);null!=jt&&Qt.setAttribute("nonce",jt),$.insertBefore(Qt,$.querySelector("link"))}4&oe.$flags$&&(Qt.innerHTML+=ot),Wt&&Wt.add(yt)}}else $.adoptedStyleSheets.includes(pt)||($.adoptedStyleSheets=[...$.adoptedStyleSheets,pt]);return yt},$t=($,oe)=>"sc-"+(oe&&32&$.$flags$?$.$tagName$+"-"+oe:$.$tagName$),ct=$=>$.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),st=($,oe,Ae,He,yt,pt)=>{if(Ae!==He){let Wt=mi($,oe),Qt=oe.toLowerCase();if("class"===oe){const jt=$.classList,Yt=Kt(Ae),an=Kt(He);jt.remove(...Yt.filter(Tn=>Tn&&!an.includes(Tn))),jt.add(...an.filter(Tn=>Tn&&!Yt.includes(Tn)))}else if("style"===oe){for(const jt in Ae)(!He||null==He[jt])&&(jt.includes("-")?$.style.removeProperty(jt):$.style[jt]="");for(const jt in He)(!Ae||He[jt]!==Ae[jt])&&(jt.includes("-")?$.style.setProperty(jt,He[jt]):$.style[jt]=He[jt])}else if("key"!==oe)if("ref"===oe)He&&He($);else if(Wt||"o"!==oe[0]||"n"!==oe[1]){const jt=Le(He);if((Wt||jt&&null!==He)&&!yt)try{if($.tagName.includes("-"))$[oe]=He;else{const an=He??"";"list"===oe?Wt=!1:(null==Ae||$[oe]!=an)&&($[oe]=an)}}catch{}let Yt=!1;Qt!==(Qt=Qt.replace(/^xlink\:?/,""))&&(oe=Qt,Yt=!0),null==He||!1===He?(!1!==He||""===$.getAttribute(oe))&&(Yt?$.removeAttributeNS(Je,oe):$.removeAttribute(oe)):(!Wt||4&pt||yt)&&!jt&&(He=!0===He?"":He,Yt?$.setAttributeNS(Je,oe,He):$.setAttribute(oe,He))}else if(oe="-"===oe[2]?oe.slice(3):mi(or,Qt)?Qt.slice(2):Qt[2]+oe.slice(3),Ae||He){const jt=oe.endsWith(Ht);oe=oe.replace(cr,""),Ae&&qn.rel($,oe,Ae,jt),He&&qn.ael($,oe,He,jt)}}},Tt=/\s/,Kt=$=>$?$.split(Tt):[],Ht="Capture",cr=new RegExp(Ht+"$"),zn=($,oe,Ae)=>{const He=11===oe.$elm$.nodeType&&oe.$elm$.host?oe.$elm$.host:oe.$elm$,yt=$&&$.$attrs$||Oe,pt=oe.$attrs$||Oe;for(const Wt of fn(Object.keys(yt)))Wt in pt||st(He,Wt,yt[Wt],void 0,Ae,oe.$flags$);for(const Wt of fn(Object.keys(pt)))st(He,Wt,yt[Wt],pt[Wt],Ae,oe.$flags$)};function fn($){return $.includes("ref")?[...$.filter(oe=>"ref"!==oe),"ref"]:$}var gn,Un,Yn,Rn=!1,Jn=!1,wn=!1,Vt=!1,_t=($,oe,Ae,He)=>{var yt;const pt=oe.$children$[Ae];let Qt,jt,Yt,Wt=0;if(Rn||(wn=!0,"slot"===pt.$tag$&&(gn&&He.classList.add(gn+"-s"),pt.$flags$|=pt.$children$?2:1)),null!==pt.$text$)Qt=pt.$elm$=Rr.createTextNode(pt.$text$);else if(1&pt.$flags$)Qt=pt.$elm$=Rr.createTextNode("");else{if(Vt||(Vt="svg"===pt.$tag$),Qt=pt.$elm$=Rr.createElementNS(Vt?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&pt.$flags$?"slot-fb":pt.$tag$),Vt&&"foreignObject"===pt.$tag$&&(Vt=!1),zn(null,pt,Vt),($=>null!=$)(gn)&&Qt["s-si"]!==gn&&Qt.classList.add(Qt["s-si"]=gn),de(Qt,He),pt.$children$)for(Wt=0;Wt<pt.$children$.length;++Wt)jt=_t($,pt,Wt,Qt),jt&&Qt.appendChild(jt);"svg"===pt.$tag$?Vt=!1:"foreignObject"===Qt.tagName&&(Vt=!0)}return Qt["s-hn"]=Yn,3&pt.$flags$&&(Qt["s-sr"]=!0,Qt["s-cr"]=Un,Qt["s-sn"]=pt.$name$||"",Qt["s-rf"]=null==(yt=pt.$attrs$)?void 0:yt.ref,Yt=$&&$.$children$&&$.$children$[Ae],Yt&&Yt.$tag$===pt.$tag$&&$.$elm$&&Ut($.$elm$)),Qt},Ut=$=>{qn.$flags$|=1;const oe=$.closest(Yn.toLowerCase());if(null!=oe){const Ae=Array.from(oe.childNodes).find(yt=>yt["s-cr"]),He=Array.from($.childNodes);for(const yt of Ae?He.reverse():He)null!=yt["s-sh"]&&(ve(oe,yt,Ae??null),yt["s-sh"]=void 0,wn=!0)}qn.$flags$&=-2},wt=($,oe)=>{qn.$flags$|=1;const Ae=Array.from($.childNodes);if($["s-sr"]){let He=$;for(;He=He.nextSibling;)He&&He["s-sn"]===$["s-sn"]&&He["s-sh"]===Yn&&Ae.push(He)}for(let He=Ae.length-1;He>=0;He--){const yt=Ae[He];yt["s-hn"]!==Yn&&yt["s-ol"]&&(ve(Tr(yt),yt,Fn(yt)),yt["s-ol"].remove(),yt["s-ol"]=void 0,yt["s-sh"]=void 0,wn=!0),oe&&wt(yt,oe)}qn.$flags$&=-2},qt=($,oe,Ae,He,yt,pt)=>{let Qt,Wt=$["s-cr"]&&$["s-cr"].parentNode||$;for(Wt.shadowRoot&&Wt.tagName===Yn&&(Wt=Wt.shadowRoot);yt<=pt;++yt)He[yt]&&(Qt=_t(null,Ae,yt,$),Qt&&(He[yt].$elm$=Qt,ve(Wt,Qt,Fn(oe))))},$n=($,oe,Ae)=>{for(let He=oe;He<=Ae;++He){const yt=$[He];if(yt){const pt=yt.$elm$;pe(yt),pt&&(Jn=!0,pt["s-ol"]?pt["s-ol"].remove():wt(pt,!0),pt.remove())}}},Dn=($,oe,Ae=!1)=>$.$tag$===oe.$tag$&&("slot"===$.$tag$?$.$name$===oe.$name$:!!Ae||$.$key$===oe.$key$),Fn=$=>$&&$["s-ol"]||$,Tr=$=>($["s-ol"]?$["s-ol"]:$).parentNode,tr=($,oe,Ae=!1)=>{const He=oe.$elm$=$.$elm$,yt=$.$children$,pt=oe.$children$,Wt=oe.$tag$,Qt=oe.$text$;let jt;null===Qt?(Vt="svg"===Wt||"foreignObject"!==Wt&&Vt,"slot"!==Wt||Rn?zn($,oe,Vt):$.$name$!==oe.$name$&&(oe.$elm$["s-sn"]=oe.$name$||"",Ut(oe.$elm$.parentElement)),null!==yt&&null!==pt?(($,oe,Ae,He,yt=!1)=>{let xi,Er,pt=0,Wt=0,Qt=0,jt=0,Yt=oe.length-1,an=oe[0],Tn=oe[Yt],Bn=He.length-1,Xn=He[0],Ir=He[Bn];for(;pt<=Yt&&Wt<=Bn;)if(null==an)an=oe[++pt];else if(null==Tn)Tn=oe[--Yt];else if(null==Xn)Xn=He[++Wt];else if(null==Ir)Ir=He[--Bn];else if(Dn(an,Xn,yt))tr(an,Xn,yt),an=oe[++pt],Xn=He[++Wt];else if(Dn(Tn,Ir,yt))tr(Tn,Ir,yt),Tn=oe[--Yt],Ir=He[--Bn];else if(Dn(an,Ir,yt))("slot"===an.$tag$||"slot"===Ir.$tag$)&&wt(an.$elm$.parentNode,!1),tr(an,Ir,yt),ve($,an.$elm$,Tn.$elm$.nextSibling),an=oe[++pt],Ir=He[--Bn];else if(Dn(Tn,Xn,yt))("slot"===an.$tag$||"slot"===Ir.$tag$)&&wt(Tn.$elm$.parentNode,!1),tr(Tn,Xn,yt),ve($,Tn.$elm$,an.$elm$),Tn=oe[--Yt],Xn=He[++Wt];else{for(Qt=-1,jt=pt;jt<=Yt;++jt)if(oe[jt]&&null!==oe[jt].$key$&&oe[jt].$key$===Xn.$key$){Qt=jt;break}Qt>=0?(Er=oe[Qt],Er.$tag$!==Xn.$tag$?xi=_t(oe&&oe[Wt],Ae,Qt,$):(tr(Er,Xn,yt),oe[Qt]=void 0,xi=Er.$elm$),Xn=He[++Wt]):(xi=_t(oe&&oe[Wt],Ae,Wt,$),Xn=He[++Wt]),xi&&ve(Tr(an.$elm$),xi,Fn(an.$elm$))}pt>Yt?qt($,null==He[Bn+1]?null:He[Bn+1].$elm$,Ae,He,Wt,Bn):Wt>Bn&&$n(oe,pt,Yt)})(He,yt,oe,pt,Ae):null!==pt?(null!==$.$text$&&(He.textContent=""),qt(He,null,oe,pt,0,pt.length-1)):null!==yt&&$n(yt,0,yt.length-1),Vt&&"svg"===Wt&&(Vt=!1)):(jt=He["s-cr"])?jt.parentNode.textContent=Qt:$.$text$!==Qt&&(He.data=Qt)},nt=$=>{const oe=$.childNodes;for(const Ae of oe)if(1===Ae.nodeType){if(Ae["s-sr"]){const He=Ae["s-sn"];Ae.hidden=!1;for(const yt of oe)if(yt!==Ae)if(yt["s-hn"]!==Ae["s-hn"]||""!==He){if(1===yt.nodeType&&(He===yt.getAttribute("slot")||He===yt["s-sn"])||3===yt.nodeType&&He===yt["s-sn"]){Ae.hidden=!0;break}}else if(1===yt.nodeType||3===yt.nodeType&&""!==yt.textContent.trim()){Ae.hidden=!0;break}}nt(Ae)}},dt=[],Me=$=>{let oe,Ae,He;for(const yt of $.childNodes){if(yt["s-sr"]&&(oe=yt["s-cr"])&&oe.parentNode){Ae=oe.parentNode.childNodes;const pt=yt["s-sn"];for(He=Ae.length-1;He>=0;He--)if(oe=Ae[He],!(oe["s-cn"]||oe["s-nr"]||oe["s-hn"]===yt["s-hn"]||oe["s-sh"]&&oe["s-sh"]===yt["s-hn"]))if(ut(oe,pt)){let Wt=dt.find(Qt=>Qt.$nodeToRelocate$===oe);Jn=!0,oe["s-sn"]=oe["s-sn"]||pt,Wt?(Wt.$nodeToRelocate$["s-sh"]=yt["s-hn"],Wt.$slotRefNode$=yt):(oe["s-sh"]=yt["s-hn"],dt.push({$slotRefNode$:yt,$nodeToRelocate$:oe})),oe["s-sr"]&&dt.map(Qt=>{ut(Qt.$nodeToRelocate$,oe["s-sn"])&&(Wt=dt.find(jt=>jt.$nodeToRelocate$===oe),Wt&&!Qt.$slotRefNode$&&(Qt.$slotRefNode$=Wt.$slotRefNode$))})}else dt.some(Wt=>Wt.$nodeToRelocate$===oe)||dt.push({$nodeToRelocate$:oe})}1===yt.nodeType&&Me(yt)}},ut=($,oe)=>1===$.nodeType?null===$.getAttribute("slot")&&""===oe||$.getAttribute("slot")===oe:$["s-sn"]===oe||""===oe,pe=$=>{$.$attrs$&&$.$attrs$.ref&&$.$attrs$.ref(null),$.$children$&&$.$children$.map(pe)},ve=($,oe,Ae)=>{const He=$?.insertBefore(oe,Ae);return de(oe,$),He},ne=$=>{const oe=[];return $&&oe.push(...$["s-scs"]||[],$["s-si"],$["s-sc"],...ne($.parentElement)),oe},de=($,oe,Ae=!1)=>{var He;if($&&oe&&1===$.nodeType){const yt=new Set(ne(oe).filter(Boolean));if(yt.size&&(null==(He=$.classList)||He.add(...$["s-scs"]=[...yt]),$["s-ol"]||Ae))for(const pt of Array.from($.childNodes))de(pt,$,!0)}},rt=($,oe)=>{oe&&!$.$onRenderResolve$&&oe["s-p"]&&oe["s-p"].push(new Promise(Ae=>$.$onRenderResolve$=Ae))},Mt=($,oe)=>{if($.$flags$|=16,!(4&$.$flags$))return rt($,$.$ancestorComponent$),so(()=>hn($,oe));$.$flags$|=512},hn=($,oe)=>{const yt=$.$lazyInstance$;if(!yt)throw new Error(`Can't render component <${$.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let pt;return oe&&($.$flags$|=256,$.$queuedListeners$&&($.$queuedListeners$.map(([Wt,Qt])=>jr(yt,Wt,Qt)),$.$queuedListeners$=void 0),pt=jr(yt,"componentWillLoad")),pt=An(pt,()=>jr(yt,"componentWillRender")),An(pt,()=>mr($,yt,oe))},An=($,oe)=>nr($)?$.then(oe):oe(),nr=$=>$ instanceof Promise||$&&$.then&&"function"==typeof $.then,mr=function(){var $=(0,a.A)(function*(oe,Ae,He){var yt;const pt=oe.$hostElement$,Qt=pt["s-rc"];He&&($=>{const oe=$.$cmpMeta$,Ae=$.$hostElement$,He=oe.$flags$,pt=Gn(Ae.shadowRoot?Ae.shadowRoot:Ae.getRootNode(),oe,$.$modeName$);10&He&&(Ae["s-sc"]=pt,Ae.classList.add(pt+"-h"),2&He&&Ae.classList.add(pt+"-s"))})(oe);En(oe,Ae,pt,He),Qt&&(Qt.map(Yt=>Yt()),pt["s-rc"]=void 0);{const Yt=null!=(yt=pt["s-p"])?yt:[],an=()=>yn(oe);0===Yt.length?an():(Promise.all(Yt).then(an),oe.$flags$|=4,Yt.length=0)}});return function(Ae,He,yt){return $.apply(this,arguments)}}(),En=($,oe,Ae,He)=>{try{oe=oe.render&&oe.render(),$.$flags$&=-17,$.$flags$|=2,(($,oe,Ae=!1)=>{var He,yt,pt,Wt,Qt;const jt=$.$hostElement$,Yt=$.$cmpMeta$,an=$.$vnode$||At(null,null),Tn=($=>$&&$.$tag$===Ie)(oe)?oe:We(null,null,oe);if(Yn=jt.tagName,Yt.$attrsToReflect$&&(Tn.$attrs$=Tn.$attrs$||{},Yt.$attrsToReflect$.map(([Bn,Xn])=>Tn.$attrs$[Xn]=jt[Bn])),Ae&&Tn.$attrs$)for(const Bn of Object.keys(Tn.$attrs$))jt.hasAttribute(Bn)&&!["key","ref","style","class"].includes(Bn)&&(Tn.$attrs$[Bn]=jt[Bn]);if(Tn.$tag$=null,Tn.$flags$|=4,$.$vnode$=Tn,Tn.$elm$=an.$elm$=jt.shadowRoot||jt,gn=jt["s-sc"],Rn=!!(1&Yt.$flags$),Un=jt["s-cr"],Jn=!1,tr(an,Tn,Ae),qn.$flags$|=1,wn){Me(Tn.$elm$);for(const Bn of dt){const Xn=Bn.$nodeToRelocate$;if(!Xn["s-ol"]){const Ir=Rr.createTextNode("");Ir["s-nr"]=Xn,ve(Xn.parentNode,Xn["s-ol"]=Ir,Xn)}}for(const Bn of dt){const Xn=Bn.$nodeToRelocate$,Ir=Bn.$slotRefNode$;if(Ir){const xi=Ir.parentNode;let Er=Ir.nextSibling;if(Er&&1===Er.nodeType){let Wn=null==(He=Xn["s-ol"])?void 0:He.previousSibling;for(;Wn;){let ar=null!=(yt=Wn["s-nr"])?yt:null;if(ar&&ar["s-sn"]===Xn["s-sn"]&&xi===ar.parentNode){for(ar=ar.nextSibling;ar===Xn||ar?.["s-sr"];)ar=ar?.nextSibling;if(!ar||!ar["s-nr"]){Er=ar;break}}Wn=Wn.previousSibling}}(!Er&&xi!==Xn.parentNode||Xn.nextSibling!==Er)&&Xn!==Er&&(ve(xi,Xn,Er),1===Xn.nodeType&&(Xn.hidden=null!=(pt=Xn["s-ih"])&&pt)),Xn&&"function"==typeof Ir["s-rf"]&&Ir["s-rf"](Xn)}else 1===Xn.nodeType&&(Ae&&(Xn["s-ih"]=null!=(Wt=Xn.hidden)&&Wt),Xn.hidden=!0)}}if(Jn&&nt(Tn.$elm$),qn.$flags$&=-2,dt.length=0,2&Yt.$flags$)for(const Bn of Tn.$elm$.childNodes)Bn["s-hn"]!==Yn&&!Bn["s-sh"]&&(Ae&&null==Bn["s-ih"]&&(Bn["s-ih"]=null!=(Qt=Bn.hidden)&&Qt),Bn.hidden=!0);Un=void 0})($,oe,He)}catch(yt){Ri(yt,$.$hostElement$)}return null},yn=$=>{const Ae=$.$hostElement$,yt=$.$lazyInstance$,pt=$.$ancestorComponent$;jr(yt,"componentDidRender"),64&$.$flags$?jr(yt,"componentDidUpdate"):($.$flags$|=64,Ci(Ae),jr(yt,"componentDidLoad"),$.$onReadyResolve$(Ae),pt||Or()),$.$onInstanceResolve$(Ae),$.$onRenderResolve$&&($.$onRenderResolve$(),$.$onRenderResolve$=void 0),512&$.$flags$&&wr(()=>Mt($,!1)),$.$flags$&=-517},Hn=$=>{{const oe=Vr($),Ae=oe.$hostElement$.isConnected;return Ae&&2==(18&oe.$flags$)&&Mt(oe,!1),Ae}},Or=$=>{Ci(Rr.documentElement),wr(()=>hr(or,"appload",{detail:{namespace:"ionic"}}))},jr=($,oe,Ae)=>{if($&&$[oe])try{return $[oe](Ae)}catch(He){Ri(He)}},Ci=$=>$.classList.add(("hydrated","hydrated")),Mi=($,oe,Ae)=>{var He;const yt=$.prototype;if(oe.$members$){$.watchers&&(oe.$watchers$=$.watchers);const pt=Object.entries(oe.$members$);if(pt.map(([Wt,[Qt]])=>{31&Qt||2&Ae&&32&Qt?Object.defineProperty(yt,Wt,{get(){return(($,oe)=>Vr(this).$instanceValues$.get(oe))(0,Wt)},set(jt){(($,oe,Ae,He)=>{const yt=Vr($);if(!yt)throw new Error(`Couldn't find host element for "${He.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const pt=yt.$hostElement$,Wt=yt.$instanceValues$.get(oe),Qt=yt.$flags$,jt=yt.$lazyInstance$;Ae=(($,oe)=>null==$||Le($)?$:4&oe?"false"!==$&&(""===$||!!$):2&oe?parseFloat($):1&oe?String($):$)(Ae,He.$members$[oe][0]);const Yt=Number.isNaN(Wt)&&Number.isNaN(Ae);if((!(8&Qt)||void 0===Wt)&&Ae!==Wt&&!Yt&&(yt.$instanceValues$.set(oe,Ae),jt)){if(He.$watchers$&&128&Qt){const Tn=He.$watchers$[oe];Tn&&Tn.map(Bn=>{try{jt[Bn](Ae,Wt,oe)}catch(Xn){Ri(Xn,pt)}})}2==(18&Qt)&&Mt(yt,!1)}})(this,Wt,jt,oe)},configurable:!0,enumerable:!0}):1&Ae&&64&Qt&&Object.defineProperty(yt,Wt,{value(...jt){var Yt;const an=Vr(this);return null==(Yt=an?.$onInstancePromise$)?void 0:Yt.then(()=>{var Tn;return null==(Tn=an.$lazyInstance$)?void 0:Tn[Wt](...jt)})}})}),1&Ae){const Wt=new Map;yt.attributeChangedCallback=function(Qt,jt,Yt){qn.jmp(()=>{var an;const Tn=Wt.get(Qt);if(this.hasOwnProperty(Tn))Yt=this[Tn],delete this[Tn];else{if(yt.hasOwnProperty(Tn)&&"number"==typeof this[Tn]&&this[Tn]==Yt)return;if(null==Tn){const Bn=Vr(this),Xn=Bn?.$flags$;if(Xn&&!(8&Xn)&&128&Xn&&Yt!==jt){const Ir=Bn.$lazyInstance$,xi=null==(an=oe.$watchers$)?void 0:an[Qt];xi?.forEach(Er=>{null!=Ir[Er]&&Ir[Er].call(Ir,Yt,jt,Qt)})}return}}this[Tn]=(null!==Yt||"boolean"!=typeof this[Tn])&&Yt})},$.observedAttributes=Array.from(new Set([...Object.keys(null!=(He=oe.$watchers$)?He:{}),...pt.filter(([Qt,jt])=>15&jt[0]).map(([Qt,jt])=>{var Yt;const an=jt[1]||Qt;return Wt.set(an,Qt),512&jt[0]&&(null==(Yt=oe.$attrsToReflect$)||Yt.push([Qt,an])),an})]))}}return $},oi=function(){var $=(0,a.A)(function*(oe,Ae,He,yt){let pt;if(!(32&Ae.$flags$)){if(Ae.$flags$|=32,He.$lazyBundleId$){const Yt=Jr(He);if(Yt&&"then"in Yt){const Tn=()=>{};pt=yield Yt,Tn()}else pt=Yt;if(!pt)throw new Error(`Constructor for "${He.$tagName$}#${Ae.$modeName$}" was not found`);pt.isProxied||(He.$watchers$=pt.watchers,Mi(pt,He,2),pt.isProxied=!0);const an=()=>{};Ae.$flags$|=8;try{new pt(Ae)}catch(Tn){Ri(Tn)}Ae.$flags$&=-9,Ae.$flags$|=128,an(),Di(Ae.$lazyInstance$)}else pt=oe.constructor,customElements.whenDefined(oe.localName).then(()=>Ae.$flags$|=128);if(pt&&pt.style){let Yt=pt.style;"string"!=typeof Yt&&(Ae.$modeName$=($=>_o.map(oe=>oe($)).find(oe=>!!oe))(oe),Ae.$modeName$&&(Yt=Yt[Ae.$modeName$]));const an=$t(He,Ae.$modeName$);if(!qi.has(an)){const Tn=()=>{};kn(an,Yt,!!(1&He.$flags$)),Tn()}}}const Wt=Ae.$ancestorComponent$,Qt=()=>Mt(Ae,!0);Wt&&Wt["s-rc"]?Wt["s-rc"].push(Qt):Qt()});return function(Ae,He,yt,pt){return $.apply(this,arguments)}}(),Di=$=>{jr($,"connectedCallback")},ee=$=>{const oe=$["s-cr"]=Rr.createComment("");oe["s-cn"]=!0,ve($,oe,$.firstChild)},H=$=>{jr($,"disconnectedCallback")},ie=function(){var $=(0,a.A)(function*(oe){if(!(1&qn.$flags$)){const Ae=Vr(oe);Ae.$rmListeners$&&(Ae.$rmListeners$.map(He=>He()),Ae.$rmListeners$=void 0),Ae?.$lazyInstance$?H(Ae.$lazyInstance$):Ae?.$onReadyPromise$&&Ae.$onReadyPromise$.then(()=>H(Ae.$lazyInstance$))}});return function(Ae){return $.apply(this,arguments)}}(),Te=$=>{const oe=$.cloneNode;$.cloneNode=function(Ae){const He=this,yt=He.shadowRoot&&io,pt=oe.call(He,!!yt&&Ae);if(!yt&&Ae){let Qt,jt,Wt=0;const Yt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Wt<He.childNodes.length;Wt++)Qt=He.childNodes[Wt]["s-nr"],jt=Yt.every(an=>!He.childNodes[Wt][an]),Qt&&(pt.__appendChild?pt.__appendChild(Qt.cloneNode(!0)):pt.appendChild(Qt.cloneNode(!0))),jt&&pt.appendChild(He.childNodes[Wt].cloneNode(!0))}return pt}},mt=$=>{$.__appendChild=$.appendChild,$.appendChild=function(oe){const Ae=oe["s-sn"]=Vi(oe),He=si(this.childNodes,Ae,this.tagName);if(He){const yt=gi(He,Ae),pt=yt[yt.length-1],Wt=ve(pt.parentNode,oe,pt.nextSibling);return nt(this),Wt}return this.__appendChild(oe)}},zt=$=>{$.__removeChild=$.removeChild,$.removeChild=function(oe){if(oe&&typeof oe["s-sn"]<"u"){const Ae=si(this.childNodes,oe["s-sn"],this.tagName);if(Ae){const yt=gi(Ae,oe["s-sn"]).find(pt=>pt===oe);if(yt)return yt.remove(),void nt(this)}}return this.__removeChild(oe)}},Xt=$=>{const oe=$.prepend;$.prepend=function(...Ae){Ae.forEach(He=>{"string"==typeof He&&(He=this.ownerDocument.createTextNode(He));const yt=He["s-sn"]=Vi(He),pt=si(this.childNodes,yt,this.tagName);if(pt){const Wt=document.createTextNode("");Wt["s-nr"]=He,pt["s-cr"].parentNode.__appendChild(Wt),He["s-ol"]=Wt;const jt=gi(pt,yt)[0];return ve(jt.parentNode,He,jt.nextSibling)}return 1===He.nodeType&&He.getAttribute("slot")&&(He.hidden=!0),oe.call(this,He)})}},on=$=>{$.append=function(...oe){oe.forEach(Ae=>{"string"==typeof Ae&&(Ae=this.ownerDocument.createTextNode(Ae)),this.appendChild(Ae)})}},ir=$=>{const oe=$.insertAdjacentHTML;$.insertAdjacentHTML=function(Ae,He){if("afterbegin"!==Ae&&"beforeend"!==Ae)return oe.call(this,Ae,He);const yt=this.ownerDocument.createElement("_");let pt;if(yt.innerHTML=He,"afterbegin"===Ae)for(;pt=yt.firstChild;)this.prepend(pt);else if("beforeend"===Ae)for(;pt=yt.firstChild;)this.append(pt)}},Zn=$=>{$.insertAdjacentText=function(oe,Ae){this.insertAdjacentHTML(oe,Ae)}},qr=$=>{const oe=$.insertAdjacentElement;$.insertAdjacentElement=function(Ae,He){return"afterbegin"!==Ae&&"beforeend"!==Ae?oe.call(this,Ae,He):"afterbegin"===Ae?(this.prepend(He),He):("beforeend"===Ae&&this.append(He),He)}},pi=$=>{const oe=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty($,"__textContent",oe),Object.defineProperty($,"textContent",{get(){return" "+Nn(this.childNodes).map(yt=>{var pt,Wt;const Qt=[];let jt=yt.nextSibling;for(;jt&&jt["s-sn"]===yt["s-sn"];)(3===jt.nodeType||1===jt.nodeType)&&Qt.push(null!=(Wt=null==(pt=jt.textContent)?void 0:pt.trim())?Wt:""),jt=jt.nextSibling;return Qt.filter(Yt=>""!==Yt).join(" ")}).filter(yt=>""!==yt).join(" ")+" "},set(Ae){Nn(this.childNodes).forEach(yt=>{let pt=yt.nextSibling;for(;pt&&pt["s-sn"]===yt["s-sn"];){const Wt=pt;pt=pt.nextSibling,Wt.remove()}if(""===yt["s-sn"]){const Wt=this.ownerDocument.createTextNode(Ae);Wt["s-sn"]="",ve(yt.parentElement,Wt,yt.nextSibling)}else yt.remove()})}})},Si=($,oe)=>{class Ae extends Array{item(yt){return this[yt]}}if(8&oe.$flags$){const He=$.__lookupGetter__("childNodes");Object.defineProperty($,"children",{get(){return this.childNodes.map(yt=>1===yt.nodeType)}}),Object.defineProperty($,"childElementCount",{get:()=>$.children.length}),Object.defineProperty($,"childNodes",{get(){const yt=He.call(this);if(!(1&qn.$flags$)&&2&Vr(this).$flags$){const pt=new Ae;for(let Wt=0;Wt<yt.length;Wt++){const Qt=yt[Wt]["s-nr"];Qt&&pt.push(Qt)}return pt}return Ae.from(yt)}})}},Nn=$=>{const oe=[];for(const Ae of Array.from($))Ae["s-sr"]&&oe.push(Ae),oe.push(...Nn(Ae.childNodes));return oe},Vi=$=>$["s-sn"]||1===$.nodeType&&$.getAttribute("slot")||"",si=($,oe,Ae)=>{let yt,He=0;for(;He<$.length;He++)if(yt=$[He],yt["s-sr"]&&yt["s-sn"]===oe&&yt["s-hn"]===Ae||(yt=si(yt.childNodes,oe,Ae),yt))return yt;return null},gi=($,oe)=>{const Ae=[$];for(;($=$.nextSibling)&&$["s-sn"]===oe;)Ae.push($);return Ae},zr=($,oe={})=>{var Ae;const yt=[],pt=oe.exclude||[],Wt=or.customElements,Qt=Rr.head,jt=Qt.querySelector("meta[charset]"),Yt=Rr.createElement("style"),an=[],Tn=Rr.querySelectorAll(`[${me}]`);let Bn,Xn=!0,Ir=0;for(Object.assign(qn,oe),qn.$resourcesUrl$=new URL(oe.resourcesUrl||"./",Rr.baseURI).href,qn.$flags$|=2;Ir<Tn.length;Ir++)kn(Tn[Ir].getAttribute(me),ct(Tn[Ir].innerHTML),!0);let xi=!1;if($.map(Er=>{Er[1].map(Wn=>{var ar;const ri={$flags$:Wn[0],$tagName$:Wn[1],$members$:Wn[2],$listeners$:Wn[3]};4&ri.$flags$&&(xi=!0),ri.$members$=Wn[2],ri.$listeners$=Wn[3],ri.$attrsToReflect$=[],ri.$watchers$=null!=(ar=Wn[4])?ar:{};const fo=ri.$tagName$,ko=class extends HTMLElement{constructor(ao){super(ao),Sr(ao=this,ri),1&ri.$flags$&&ao.attachShadow({mode:"open",delegatesFocus:!!(16&ri.$flags$)})}connectedCallback(){Bn&&(clearTimeout(Bn),Bn=null),Xn?an.push(this):qn.jmp(()=>($=>{if(!(1&qn.$flags$)){const oe=Vr($),Ae=oe.$cmpMeta$,He=()=>{};if(1&oe.$flags$)gr($,oe,Ae.$listeners$),oe?.$lazyInstance$?Di(oe.$lazyInstance$):oe?.$onReadyPromise$&&oe.$onReadyPromise$.then(()=>Di(oe.$lazyInstance$));else{let yt;if(oe.$flags$|=1,yt=$.getAttribute(Ne),yt){if(1&Ae.$flags$){const pt=Gn($.shadowRoot,Ae,$.getAttribute("s-mode"));$.classList.remove(pt+"-h",pt+"-s")}(($,oe,Ae,He)=>{const pt=$.shadowRoot,Wt=[],jt=pt?[]:null,Yt=He.$vnode$=At(oe,null);qn.$orgLocNodes$||we(Rr.body,qn.$orgLocNodes$=new Map),$[Ne]=Ae,$.removeAttribute(Ne),je(Yt,Wt,[],jt,$,$,Ae),Wt.map(an=>{const Tn=an.$hostId$+"."+an.$nodeId$,Bn=qn.$orgLocNodes$.get(Tn),Xn=an.$elm$;Bn&&io&&""===Bn["s-en"]&&Bn.parentNode.insertBefore(Xn,Bn.nextSibling),pt||(Xn["s-hn"]=oe,Bn&&(Xn["s-ol"]=Bn,Xn["s-ol"]["s-nr"]=Xn)),qn.$orgLocNodes$.delete(Tn)}),pt&&jt.map(an=>{an&&pt.appendChild(an)})})($,Ae.$tagName$,yt,oe)}yt||12&Ae.$flags$&&ee($);{let pt=$;for(;pt=pt.parentNode||pt.host;)if(1===pt.nodeType&&pt.hasAttribute("s-id")&&pt["s-p"]||pt["s-p"]){rt(oe,oe.$ancestorComponent$=pt);break}}Ae.$members$&&Object.entries(Ae.$members$).map(([pt,[Wt]])=>{if(31&Wt&&$.hasOwnProperty(pt)){const Qt=$[pt];delete $[pt],$[pt]=Qt}}),oi($,oe,Ae)}He()}})(this))}disconnectedCallback(){qn.jmp(()=>ie(this))}componentOnReady(){return Vr(this).$onReadyPromise$}};2&ri.$flags$&&(($,oe)=>{Te($),mt($),on($),Xt($),qr($),ir($),Zn($),pi($),Si($,oe),zt($)})(ko.prototype,ri),ri.$lazyBundleId$=Er[0],!pt.includes(fo)&&!Wt.get(fo)&&(yt.push(fo),Wt.define(fo,Mi(ko,ri,1)))})}),yt.length>0&&(xi&&(Yt.textContent+=ot),Yt.textContent+=yt+"{visibility:hidden}.hydrated{visibility:inherit}",Yt.innerHTML.length)){Yt.setAttribute("data-styles","");const Er=null!=(Ae=qn.$nonce$)?Ae:Fe(Rr);null!=Er&&Yt.setAttribute("nonce",Er),Qt.insertBefore(Yt,jt?jt.nextSibling:Qt.firstChild)}Xn=!1,an.length?an.map(Er=>Er.connectedCallback()):qn.jmp(()=>Bn=setTimeout(Or,30))},gr=($,oe,Ae,He)=>{Ae&&Ae.map(([yt,pt,Wt])=>{const Qt=Hr($,yt),jt=Hi(oe,Wt),Yt=_r(yt);qn.ael(Qt,pt,jt,Yt),(oe.$rmListeners$=oe.$rmListeners$||[]).push(()=>qn.rel(Qt,pt,jt,Yt))})},Hi=($,oe)=>Ae=>{var He;try{256&$.$flags$?null==(He=$.$lazyInstance$)||He[oe](Ae):($.$queuedListeners$=$.$queuedListeners$||[]).push([oe,Ae])}catch(yt){Ri(yt)}},Hr=($,oe)=>4&oe?Rr:8&oe?or:16&oe?Rr.body:$,_r=$=>Do?{passive:!!(1&$),capture:!!(2&$)}:!!(2&$),Ai=new WeakMap,Vr=$=>Ai.get($),ur=($,oe)=>Ai.set(oe.$lazyInstance$=$,oe),Sr=($,oe)=>{const Ae={$flags$:0,$hostElement$:$,$cmpMeta$:oe,$instanceValues$:new Map};return Ae.$onInstancePromise$=new Promise(He=>Ae.$onInstanceResolve$=He),Ae.$onReadyPromise$=new Promise(He=>Ae.$onReadyResolve$=He),$["s-p"]=[],$["s-rc"]=[],gr($,Ae,oe.$listeners$),Ai.set($,Ae)},mi=($,oe)=>oe in $,Ri=($,oe)=>(0,console.error)($,oe),ro=new Map,Jr=($,oe,Ae)=>{const He=$.$tagName$.replace(/-/g,"_"),yt=$.$lazyBundleId$;if(!yt)return;const pt=ro.get(yt);return pt?pt[He]:x(8996)(`./${yt}.entry.js`).then(Wt=>(ro.set(yt,Wt),Wt[He]),Ri)},qi=new Map,_o=[],or=typeof window<"u"?window:{},Rr=or.document||{head:{}},qn={$flags$:0,$resourcesUrl$:"",jmp:$=>$(),raf:$=>requestAnimationFrame($),ael:($,oe,Ae,He)=>$.addEventListener(oe,Ae,He),rel:($,oe,Ae,He)=>$.removeEventListener(oe,Ae,He),ce:($,oe)=>new CustomEvent($,oe)},ho=$=>{Object.assign(qn,$)},io=!0,Do=(()=>{let $=!1;try{Rr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){$=!0}}))}catch{}return $})(),oo=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),j=!1,sr=[],Y=[],O=($,oe)=>Ae=>{$.push(Ae),j||(j=!0,oe&&4&qn.$flags$?wr(Kn):qn.raf(Kn))},Ee=$=>{for(let oe=0;oe<$.length;oe++)try{$[oe](performance.now())}catch(Ae){Ri(Ae)}$.length=0},Kn=()=>{Ee(sr),Ee(Y),(j=sr.length>0)&&qn.raf(Kn)},wr=$=>Promise.resolve(void 0).then($),Ur=O(sr,!1),so=O(Y,!0)},6687:(vn,gt,x)=>{"use strict";x.d(gt,{m:()=>Fe});var a=x(467),C=x(8476),V=x(8103),le=x(4929),Se=x(4920),Ve=x(6482),ue=x(9986);const Oe=ke=>(0,ue.c)().duration(ke?400:300),ze=ke=>{let Xe,et;const qe=ke.width+8,Be=(0,ue.c)(),It=(0,ue.c)();ke.isEndSide?(Xe=qe+"px",et="0px"):(Xe=-qe+"px",et="0px"),Be.addElement(ke.menuInnerEl).fromTo("transform",`translateX(${Xe})`,`translateX(${et})`);const tt="ios"===(0,Ve.b)(ke),_e=tt?.2:.25;return It.addElement(ke.backdropEl).fromTo("opacity",.01,_e),Oe(tt).addAnimation([Be,It])},De=ke=>{let Xe,et;const qe=(0,Ve.b)(ke),Be=ke.width;ke.isEndSide?(Xe=-Be+"px",et=Be+"px"):(Xe=Be+"px",et=-Be+"px");const It=(0,ue.c)().addElement(ke.menuInnerEl).fromTo("transform",`translateX(${et})`,"translateX(0px)"),Ge=(0,ue.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${Xe})`),tt=(0,ue.c)().addElement(ke.backdropEl).fromTo("opacity",.01,.32);return Oe("ios"===qe).addAnimation([It,Ge,tt])},he=ke=>{const Xe=(0,Ve.b)(ke),et=ke.width*(ke.isEndSide?-1:1)+"px",qe=(0,ue.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${et})`);return Oe("ios"===Xe).addAnimation(qe)},Fe=(()=>{const ke=new Map,Xe=[],et=function(){var S=(0,a.A)(function*(L){const se=yield xe(L,!0);return!!se&&se.open()});return function(se){return S.apply(this,arguments)}}(),qe=function(){var S=(0,a.A)(function*(L){const se=yield void 0!==L?xe(L,!0):Pe();return void 0!==se&&se.close()});return function(se){return S.apply(this,arguments)}}(),Be=function(){var S=(0,a.A)(function*(L){const se=yield xe(L,!0);return!!se&&se.toggle()});return function(se){return S.apply(this,arguments)}}(),It=function(){var S=(0,a.A)(function*(L,se){const je=yield xe(se);return je&&(je.disabled=!L),je});return function(se,je){return S.apply(this,arguments)}}(),Ge=function(){var S=(0,a.A)(function*(L,se){const je=yield xe(se);return je&&(je.swipeGesture=L),je});return function(se,je){return S.apply(this,arguments)}}(),tt=function(){var S=(0,a.A)(function*(L){if(null!=L){const se=yield xe(L);return void 0!==se&&se.isOpen()}return void 0!==(yield Pe())});return function(se){return S.apply(this,arguments)}}(),_e=function(){var S=(0,a.A)(function*(L){const se=yield xe(L);return!!se&&!se.disabled});return function(se){return S.apply(this,arguments)}}(),xe=function(){var S=(0,a.A)(function*(L,se=!1){if(yield M(),"start"===L||"end"===L){const we=Xe.filter(tn=>tn.side===L&&!tn.disabled);if(we.length>=1)return we.length>1&&se&&(0,le.p)(`menuController queried for a menu on the "${L}" side, but ${we.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,we.map(tn=>tn.el)),we[0].el;const Bt=Xe.filter(tn=>tn.side===L);if(Bt.length>=1)return Bt.length>1&&se&&(0,le.p)(`menuController queried for a menu on the "${L}" side, but ${Bt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Bt.map(tn=>tn.el)),Bt[0].el}else if(null!=L)return W(we=>we.menuId===L);return W(we=>!we.disabled)||(Xe.length>0?Xe[0].el:void 0)});return function(se){return S.apply(this,arguments)}}(),Pe=function(){var S=(0,a.A)(function*(){return yield M(),We()});return function(){return S.apply(this,arguments)}}(),lt=function(){var S=(0,a.A)(function*(){return yield M(),At()});return function(){return S.apply(this,arguments)}}(),Ne=function(){var S=(0,a.A)(function*(){return yield M(),Ie()});return function(){return S.apply(this,arguments)}}(),me=(S,L)=>{ke.set(S,L)},ot=function(){var S=(0,a.A)(function*(L,se,je){if(Ie())return!1;if(se){const we=yield Pe();we&&L.el!==we&&(yield we.setOpen(!1,!1))}return L._setOpen(se,je)});return function(se,je,we){return S.apply(this,arguments)}}(),We=()=>W(S=>S._isOpen),At=()=>Xe.map(S=>S.el),Ie=()=>Xe.some(S=>S.isAnimating),W=S=>{const L=Xe.find(S);if(void 0!==L)return L.el},M=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(S=>new Promise(L=>(0,Se.c)(S,L))));return me("reveal",he),me("push",De),me("overlay",ze),null==C.d||C.d.addEventListener("ionBackButton",S=>{const L=We();L&&S.detail.register(V.MENU_BACK_BUTTON_PRIORITY,()=>L.close())}),{registerAnimation:me,get:xe,getMenus:lt,getOpen:Pe,isEnabled:_e,swipeGesture:Ge,isAnimating:Ne,isOpen:tt,enable:It,toggle:Be,close:qe,open:et,_getOpenSync:We,_createAnimation:(S,L)=>{const se=ke.get(S);if(!se)throw new Error("animation not registered");return se(L)},_register:S=>{Xe.indexOf(S)<0&&Xe.push(S)},_unregister:S=>{const L=Xe.indexOf(S);L>-1&&Xe.splice(L,1)},_setOpen:ot}})()},6482:(vn,gt,x)=>{"use strict";x.d(gt,{a:()=>he,b:()=>At,c:()=>V,i:()=>Ie});var a=x(3649);class C{constructor(){this.m=new Map}reset(M){this.m=new Map(Object.entries(M))}get(M,S){const L=this.m.get(M);return void 0!==L?L:S}getBoolean(M,S=!1){const L=this.m.get(M);return void 0===L?S:"string"==typeof L?"true"===L:!!L}getNumber(M,S){const L=parseFloat(this.m.get(M));return isNaN(L)?void 0!==S?S:NaN:L}set(M,S){this.m.set(M,S)}}const V=new C,ze="ionic-persist-config",he=(W,M)=>("string"==typeof W&&(M=W,W=void 0),(W=>Le(W))(W).includes(M)),Le=(W=window)=>{if(typeof W>"u")return[];W.Ionic=W.Ionic||{};let M=W.Ionic.platforms;return null==M&&(M=W.Ionic.platforms=Fe(W),M.forEach(S=>W.document.documentElement.classList.add(`plt-${S}`))),M},Fe=W=>{const M=V.get("platform");return Object.keys(Je).filter(S=>{const L=M?.[S];return"function"==typeof L?L(W):Je[S](W)})},Xe=W=>!!(Ye(W,/iPad/i)||Ye(W,/Macintosh/i)&&_e(W)),Be=W=>Ye(W,/android|sink/i),_e=W=>ot(W,"(any-pointer:coarse)"),Pe=W=>lt(W)||Ne(W),lt=W=>!!(W.cordova||W.phonegap||W.PhoneGap),Ne=W=>{const M=W.Capacitor;return!!M?.isNative},Ye=(W,M)=>M.test(W.navigator.userAgent),ot=(W,M)=>{var S;return null===(S=W.matchMedia)||void 0===S?void 0:S.call(W,M).matches},Je={ipad:Xe,iphone:W=>Ye(W,/iPhone/i),ios:W=>Ye(W,/iPhone|iPod/i)||Xe(W),android:Be,phablet:W=>{const M=W.innerWidth,S=W.innerHeight,L=Math.min(M,S),se=Math.max(M,S);return L>390&&L<520&&se>620&&se<800},tablet:W=>{const M=W.innerWidth,S=W.innerHeight,L=Math.min(M,S),se=Math.max(M,S);return Xe(W)||(W=>Be(W)&&!Ye(W,/mobile/i))(W)||L>460&&L<820&&se>780&&se<1400},cordova:lt,capacitor:Ne,electron:W=>Ye(W,/electron/i),pwa:W=>{var M;return!!(null!==(M=W.matchMedia)&&void 0!==M&&M.call(W,"(display-mode: standalone)").matches||W.navigator.standalone)},mobile:_e,mobileweb:W=>_e(W)&&!Pe(W),desktop:W=>!_e(W),hybrid:Pe};let We;const At=W=>W&&(0,a.g)(W)||We,Ie=(W={})=>{if(typeof window>"u")return;const M=window.document,S=window,L=S.Ionic=S.Ionic||{},se={};W._ael&&(se.ael=W._ael),W._rel&&(se.rel=W._rel),W._ce&&(se.ce=W._ce),(0,a.a)(se);const je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(W=>{try{const M=W.sessionStorage.getItem(ze);return null!==M?JSON.parse(M):{}}catch{return{}}})(S)),{persistConfig:!1}),L.config),(W=>{const M={};return W.location.search.slice(1).split("&").map(S=>S.split("=")).map(([S,L])=>{try{return[decodeURIComponent(S),decodeURIComponent(L)]}catch{return["",""]}}).filter(([S])=>((W,M)=>W.substr(0,M.length)===M)(S,"ionic:")).map(([S,L])=>[S.slice(6),L]).forEach(([S,L])=>{M[S]=L}),M})(S)),W);V.reset(je),V.getBoolean("persistConfig")&&((W,M)=>{try{W.sessionStorage.setItem(ze,JSON.stringify(M))}catch{return}})(S,je),Le(S),L.config=V,L.mode=We=V.get("mode",M.documentElement.getAttribute("mode")||(he(S,"ios")?"ios":"md")),V.set("mode",We),M.documentElement.setAttribute("mode",We),M.documentElement.classList.add(We),V.getBoolean("_testing")&&V.set("animated",!1);const we=tn=>{var Cn;return null===(Cn=tn.tagName)||void 0===Cn?void 0:Cn.startsWith("ION-")},Bt=tn=>["ios","md"].includes(tn);(0,a.c)(tn=>{for(;tn;){const Cn=tn.mode||tn.getAttribute("mode");if(Cn){if(Bt(Cn))return Cn;we(tn)&&console.warn('Invalid ionic mode: "'+Cn+'", expected: "ios" or "md"')}tn=tn.parentElement}return We})}},7602:(vn,gt,x)=>{"use strict";x.r(gt),x.d(gt,{iosTransitionAnimation:()=>ke,shadow:()=>Oe});var a=x(9986),C=x(2116);x(8476),x(6482),x(3649);const ue=et=>document.querySelector(`${et}.ion-cloned-element`),Oe=et=>et.shadowRoot||et,ze=et=>{const qe="ION-TABS"===et.tagName?et:et.querySelector("ion-tabs"),Be="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const It=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=It?It.querySelector(Be):null}return et.querySelector(Be)},De=(et,qe)=>{const Be="ION-TABS"===et.tagName?et:et.querySelector("ion-tabs");let It=[];if(null!=Be){const Ge=Be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ge&&(It=Ge.querySelectorAll("ion-buttons"))}else It=et.querySelectorAll("ion-buttons");for(const Ge of It){const tt=Ge.closest("ion-header"),_e=tt&&!tt.classList.contains("header-collapse-condense-inactive"),xe=Ge.querySelector("ion-back-button"),Pe=Ge.classList.contains("buttons-collapse");if(null!==xe&&("start"===Ge.slot||""===Ge.slot)&&(Pe&&_e&&qe||!Pe))return xe}return null},Le=(et,qe,Be,It,Ge,tt,_e,xe,Pe)=>{var lt,Ne;const me=qe?`calc(100% - ${Ge.right+4}px)`:Ge.left-4+"px",Et=qe?"right":"left",Ye=qe?"left":"right",ot=qe?"right":"left";let Je=1,We=1,At=`scale(${We})`;const Ie="scale(1)";if(tt&&_e){const Tt=(null===(lt=tt.textContent)||void 0===lt?void 0:lt.trim())===(null===(Ne=xe.textContent)||void 0===Ne?void 0:Ne.trim());Je=Pe.width/_e.width,We=(Pe.height-Xe)/_e.height,At=Tt?`scale(${Je}, ${We})`:`scale(${We})`}const M=Oe(It).querySelector("ion-icon").getBoundingClientRect(),S=qe?M.width/2-(M.right-Ge.right)+"px":Ge.left-M.width/2+"px",L=qe?`-${window.innerWidth-Ge.right}px`:`${Ge.left}px`,se=`${Pe.top}px`,je=`${Ge.top}px`,tn=Be?[{offset:0,transform:`translate3d(${L}, ${je}, 0)`},{offset:1,transform:`translate3d(${S}, ${se}, 0)`}]:[{offset:0,transform:`translate3d(${S}, ${se}, 0)`},{offset:1,transform:`translate3d(${L}, ${je}, 0)`}],rn=Be?[{offset:0,opacity:1,transform:Ie},{offset:1,opacity:0,transform:At}]:[{offset:0,opacity:0,transform:At},{offset:1,opacity:1,transform:Ie}],en=Be?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],kn=(0,a.c)(),Gn=(0,a.c)(),sn=(0,a.c)(),$t=ue("ion-back-button"),ct=Oe($t).querySelector(".button-text"),st=Oe($t).querySelector("ion-icon");$t.text=It.text,$t.mode=It.mode,$t.icon=It.icon,$t.color=It.color,$t.disabled=It.disabled,$t.style.setProperty("display","block"),$t.style.setProperty("position","fixed"),Gn.addElement(st),kn.addElement(ct),sn.addElement($t),sn.beforeStyles({position:"absolute",top:"0px",[ot]:"0px"}).beforeAddWrite(()=>{It.style.setProperty("display","none"),$t.style.setProperty(Et,me)}).afterAddWrite(()=>{It.style.setProperty("display",""),$t.style.setProperty("display","none"),$t.style.removeProperty(Et)}).keyframes(tn),kn.beforeStyles({"transform-origin":`${Et} top`}).keyframes(rn),Gn.beforeStyles({"transform-origin":`${Ye} center`}).keyframes(en),et.addAnimation([kn,Gn,sn])},Fe=(et,qe,Be,It,Ge,tt,_e,xe,Pe)=>{var lt,Ne;const me=qe?"right":"left",Et=qe?`calc(100% - ${Ge.right}px)`:`${Ge.left}px`,ot=`${Ge.top}px`;let We=qe?`-${window.innerWidth-_e.right-8}px`:`${_e.x+8}px`,At=.5;const Ie="scale(1)";let W=`scale(${At})`;if(xe&&Pe){We=qe?`-${window.innerWidth-Pe.right-8}px`:Pe.x-8+"px";const Cn=(null===(lt=xe.textContent)||void 0===lt?void 0:lt.trim())===(null===(Ne=It.textContent)||void 0===Ne?void 0:Ne.trim());At=Pe.height/(tt.height-Xe),W=Cn?`scale(${Pe.width/tt.width}, ${At})`:`scale(${At})`}const L=_e.top+_e.height/2-Ge.height*At/2+"px",we=Be?[{offset:0,opacity:0,transform:`translate3d(${We}, ${L}, 0) ${W}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ot}, 0) ${Ie}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ot}, 0) ${Ie}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${We}, ${L}, 0) ${W}`}],Bt=ue("ion-title"),tn=(0,a.c)();Bt.innerText=It.innerText,Bt.size=It.size,Bt.color=It.color,tn.addElement(Bt),tn.beforeStyles({"transform-origin":`${me} top`,height:`${Ge.height}px`,display:"",position:"relative",[me]:Et}).beforeAddWrite(()=>{It.style.setProperty("opacity","0")}).afterAddWrite(()=>{It.style.setProperty("opacity",""),Bt.style.setProperty("display","none")}).keyframes(we),et.addAnimation(tn)},ke=(et,qe)=>{var Be;try{const It="cubic-bezier(0.32,0.72,0,1)",Ge="opacity",tt="transform",_e="0%",Pe="rtl"===et.ownerDocument.dir,lt=Pe?"-99.5%":"99.5%",Ne=Pe?"33%":"-33%",me=qe.enteringEl,Et=qe.leavingEl,Ye="back"===qe.direction,ot=me.querySelector(":scope > ion-content"),Je=me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),We=me.querySelectorAll(":scope > ion-header > ion-toolbar"),At=(0,a.c)(),Ie=(0,a.c)();if(At.addElement(me).duration((null!==(Be=qe.duration)&&void 0!==Be?Be:0)||540).easing(qe.easing||It).fill("both").beforeRemoveClass("ion-page-invisible"),Et&&null!=et){const L=(0,a.c)();L.addElement(et),At.addAnimation(L)}if(ot||0!==We.length||0!==Je.length?(Ie.addElement(ot),Ie.addElement(Je)):Ie.addElement(me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),At.addAnimation(Ie),Ye?Ie.beforeClearStyles([Ge]).fromTo("transform",`translateX(${Ne})`,`translateX(${_e})`).fromTo(Ge,.8,1):Ie.beforeClearStyles([Ge]).fromTo("transform",`translateX(${lt})`,`translateX(${_e})`),ot){const L=Oe(ot).querySelector(".transition-effect");if(L){const se=L.querySelector(".transition-cover"),je=L.querySelector(".transition-shadow"),we=(0,a.c)(),Bt=(0,a.c)(),tn=(0,a.c)();we.addElement(L).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bt.addElement(se).beforeClearStyles([Ge]).fromTo(Ge,0,.1),tn.addElement(je).beforeClearStyles([Ge]).fromTo(Ge,.03,.7),we.addAnimation([Bt,tn]),Ie.addAnimation([we])}}const W=me.querySelector("ion-header.header-collapse-condense"),{forward:M,backward:S}=((et,qe,Be,It,Ge)=>{const tt=De(It,Be),_e=ze(Ge),xe=ze(It),Pe=De(Ge,Be),lt=null!==tt&&null!==_e&&!Be,Ne=null!==xe&&null!==Pe&&Be;if(lt){const me=_e.getBoundingClientRect(),Et=tt.getBoundingClientRect(),Ye=Oe(tt).querySelector(".button-text"),ot=Ye?.getBoundingClientRect(),We=Oe(_e).querySelector(".toolbar-title").getBoundingClientRect();Fe(et,qe,Be,_e,me,We,Et,Ye,ot),Le(et,qe,Be,tt,Et,Ye,ot,_e,We)}else if(Ne){const me=xe.getBoundingClientRect(),Et=Pe.getBoundingClientRect(),Ye=Oe(Pe).querySelector(".button-text"),ot=Ye?.getBoundingClientRect(),We=Oe(xe).querySelector(".toolbar-title").getBoundingClientRect();Fe(et,qe,Be,xe,me,We,Et,Ye,ot),Le(et,qe,Be,Pe,Et,Ye,ot,xe,We)}return{forward:lt,backward:Ne}})(At,Pe,Ye,me,Et);if(We.forEach(L=>{const se=(0,a.c)();se.addElement(L),At.addAnimation(se);const je=(0,a.c)();je.addElement(L.querySelector("ion-title"));const we=(0,a.c)(),Bt=Array.from(L.querySelectorAll("ion-buttons,[menuToggle]")),tn=L.closest("ion-header"),Cn=tn?.classList.contains("header-collapse-condense-inactive");let ln;ln=Bt.filter(Ye?kn=>{const Gn=kn.classList.contains("buttons-collapse");return Gn&&!Cn||!Gn}:kn=>!kn.classList.contains("buttons-collapse")),we.addElement(ln);const rn=(0,a.c)();rn.addElement(L.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Pn=(0,a.c)();Pn.addElement(Oe(L).querySelector(".toolbar-background"));const hr=(0,a.c)(),en=L.querySelector("ion-back-button");if(en&&hr.addElement(en),se.addAnimation([je,we,rn,Pn,hr]),we.fromTo(Ge,.01,1),rn.fromTo(Ge,.01,1),Ye)Cn||je.fromTo("transform",`translateX(${Ne})`,`translateX(${_e})`).fromTo(Ge,.01,1),rn.fromTo("transform",`translateX(${Ne})`,`translateX(${_e})`),hr.fromTo(Ge,.01,1);else if(W||je.fromTo("transform",`translateX(${lt})`,`translateX(${_e})`).fromTo(Ge,.01,1),rn.fromTo("transform",`translateX(${lt})`,`translateX(${_e})`),Pn.beforeClearStyles([Ge,"transform"]),tn?.translucent?Pn.fromTo("transform",Pe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Pn.fromTo(Ge,.01,"var(--opacity)"),M||hr.fromTo(Ge,.01,1),en&&!M){const Gn=(0,a.c)();Gn.addElement(Oe(en).querySelector(".button-text")).fromTo("transform",Pe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),se.addAnimation(Gn)}}),Et){const L=(0,a.c)(),se=Et.querySelector(":scope > ion-content"),je=Et.querySelectorAll(":scope > ion-header > ion-toolbar"),we=Et.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(se||0!==je.length||0!==we.length?(L.addElement(se),L.addElement(we)):L.addElement(Et.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),At.addAnimation(L),Ye){L.beforeClearStyles([Ge]).fromTo("transform",`translateX(${_e})`,Pe?"translateX(-100%)":"translateX(100%)");const Bt=(0,C.g)(Et);At.afterAddWrite(()=>{"normal"===At.getDirection()&&Bt.style.setProperty("display","none")})}else L.fromTo("transform",`translateX(${_e})`,`translateX(${Ne})`).fromTo(Ge,1,.8);if(se){const Bt=Oe(se).querySelector(".transition-effect");if(Bt){const tn=Bt.querySelector(".transition-cover"),Cn=Bt.querySelector(".transition-shadow"),ln=(0,a.c)(),rn=(0,a.c)(),Pn=(0,a.c)();ln.addElement(Bt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),rn.addElement(tn).beforeClearStyles([Ge]).fromTo(Ge,.1,0),Pn.addElement(Cn).beforeClearStyles([Ge]).fromTo(Ge,.7,.03),ln.addAnimation([rn,Pn]),L.addAnimation([ln])}}je.forEach(Bt=>{const tn=(0,a.c)();tn.addElement(Bt);const Cn=(0,a.c)();Cn.addElement(Bt.querySelector("ion-title"));const ln=(0,a.c)(),rn=Bt.querySelectorAll("ion-buttons,[menuToggle]"),Pn=Bt.closest("ion-header"),hr=Pn?.classList.contains("header-collapse-condense-inactive"),en=Array.from(rn).filter(st=>{const Tt=st.classList.contains("buttons-collapse");return Tt&&!hr||!Tt});ln.addElement(en);const kn=(0,a.c)(),Gn=Bt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Gn.length>0&&kn.addElement(Gn);const sn=(0,a.c)();sn.addElement(Oe(Bt).querySelector(".toolbar-background"));const $t=(0,a.c)(),ct=Bt.querySelector("ion-back-button");if(ct&&$t.addElement(ct),tn.addAnimation([Cn,ln,kn,$t,sn]),At.addAnimation(tn),$t.fromTo(Ge,.99,0),ln.fromTo(Ge,.99,0),kn.fromTo(Ge,.99,0),Ye){if(hr||Cn.fromTo("transform",`translateX(${_e})`,Pe?"translateX(-100%)":"translateX(100%)").fromTo(Ge,.99,0),kn.fromTo("transform",`translateX(${_e})`,Pe?"translateX(-100%)":"translateX(100%)"),sn.beforeClearStyles([Ge,"transform"]),Pn?.translucent?sn.fromTo("transform","translateX(0px)",Pe?"translateX(-100%)":"translateX(100%)"):sn.fromTo(Ge,"var(--opacity)",0),ct&&!S){const Tt=(0,a.c)();Tt.addElement(Oe(ct).querySelector(".button-text")).fromTo("transform",`translateX(${_e})`,`translateX(${(Pe?-124:124)+"px"})`),tn.addAnimation(Tt)}}else hr||Cn.fromTo("transform",`translateX(${_e})`,`translateX(${Ne})`).fromTo(Ge,.99,0).afterClearStyles([tt,Ge]),kn.fromTo("transform",`translateX(${_e})`,`translateX(${Ne})`).afterClearStyles([tt,Ge]),$t.afterClearStyles([Ge]),Cn.afterClearStyles([Ge]),ln.afterClearStyles([Ge])})}return At}catch(It){throw It}},Xe=10},9499:(vn,gt,x)=>{"use strict";x.r(gt),x.d(gt,{mdTransitionAnimation:()=>Ve});var a=x(9986),C=x(2116);x(8476),x(6482),x(3649);const Ve=(ue,Oe)=>{var ze,De,he;const ke="back"===Oe.direction,et=Oe.leavingEl,qe=(0,C.g)(Oe.enteringEl),Be=qe.querySelector("ion-toolbar"),It=(0,a.c)();if(It.addElement(qe).fill("both").beforeRemoveClass("ion-page-invisible"),ke?It.duration((null!==(ze=Oe.duration)&&void 0!==ze?ze:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):It.duration((null!==(De=Oe.duration)&&void 0!==De?De:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Be){const Ge=(0,a.c)();Ge.addElement(Be),It.addAnimation(Ge)}if(et&&ke){It.duration((null!==(he=Oe.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ge=(0,a.c)();Ge.addElement((0,C.g)(et)).onFinish(tt=>{1===tt&&Ge.elements.length>0&&Ge.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),It.addAnimation(Ge)}return It}},9540:(vn,gt,x)=>{"use strict";x.d(gt,{B:()=>rn,F:()=>$t,G:()=>Pn,O:()=>hr,a:()=>qe,b:()=>Be,c:()=>_e,d:()=>en,e:()=>kn,f:()=>M,g:()=>L,h:()=>we,i:()=>tn,j:()=>Pe,k:()=>lt,m:()=>Ge,n:()=>De,o:()=>Ie,q:()=>he,s:()=>ln,t:()=>xe});var a=x(467),C=x(8476),V=x(4920),le=x(8103),Se=x(6482),Ve=x(8621),ue=x(1970),Oe=x(4929);const ze='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',De=(ct,st)=>{const Tt=ct.querySelector(ze);Le(Tt,st??ct)},he=(ct,st)=>{const Tt=Array.from(ct.querySelectorAll(ze));Le(Tt.length>0?Tt[Tt.length-1]:null,st??ct)},Le=(ct,st)=>{let Tt=ct;const Kt=ct?.shadowRoot;Kt&&(Tt=Kt.querySelector(ze)||ct),Tt?(0,V.f)(Tt):st.focus()};let Fe=0,ke=0;const Xe=new WeakMap,et=ct=>({create:st=>Ne(ct,st),dismiss:(st,Tt,Kt)=>Je(document,st,Tt,ct,Kt),getTop:()=>(0,a.A)(function*(){return Ie(document,ct)})()}),qe=et("ion-alert"),Be=et("ion-action-sheet"),Ge=et("ion-modal"),_e=et("ion-popover"),xe=et("ion-toast"),Pe=ct=>{typeof document<"u"&&ot(document);const st=Fe++;ct.overlayIndex=st},lt=ct=>(ct.hasAttribute("id")||(ct.id="ion-overlay-"+ ++ke),ct.id),Ne=(ct,st)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ct).then(()=>{const Tt=document.createElement(ct);return Tt.classList.add("overlay-hidden"),Object.assign(Tt,Object.assign(Object.assign({},st),{hasController:!0})),se(document).appendChild(Tt),new Promise(Kt=>(0,V.c)(Tt,Kt))}):Promise.resolve(),Et=(ct,st)=>{let Tt=ct;const Kt=ct?.shadowRoot;Kt&&(Tt=Kt.querySelector(ze)||ct),Tt?(0,V.f)(Tt):st.focus()},ot=ct=>{0===Fe&&(Fe=1,ct.addEventListener("focus",st=>{((ct,st)=>{const Tt=Ie(st,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Kt=ct.target;Tt&&Kt&&!Tt.classList.contains($t)&&(Tt.shadowRoot?(()=>{if(Tt.contains(Kt))Tt.lastFocus=Kt;else if("ION-TOAST"===Kt.tagName)Et(Tt.lastFocus,Tt);else{const zn=Tt.lastFocus;De(Tt),zn===st.activeElement&&he(Tt),Tt.lastFocus=st.activeElement}})():(()=>{if(Tt===Kt)Tt.lastFocus=void 0;else if("ION-TOAST"===Kt.tagName)Et(Tt.lastFocus,Tt);else{const zn=(0,V.g)(Tt);if(!zn.contains(Kt))return;const fn=zn.querySelector(".ion-overlay-wrapper");if(!fn)return;if(fn.contains(Kt)||Kt===zn.querySelector("ion-backdrop"))Tt.lastFocus=Kt;else{const gn=Tt.lastFocus;De(fn,Tt),gn===st.activeElement&&he(fn,Tt),Tt.lastFocus=st.activeElement}}})())})(st,ct)},!0),ct.addEventListener("ionBackButton",st=>{const Tt=Ie(ct);Tt?.backdropDismiss&&st.detail.register(le.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Tt.dismiss(void 0,rn)})}),(0,le.shouldUseCloseWatcher)()||ct.addEventListener("keydown",st=>{if("Escape"===st.key){const Tt=Ie(ct);Tt?.backdropDismiss&&Tt.dismiss(void 0,rn)}}))},Je=(ct,st,Tt,Kt,Ht)=>{const cr=Ie(ct,Kt,Ht);return cr?cr.dismiss(st,Tt):Promise.reject("overlay does not exist")},At=(ct,st)=>((ct,st)=>(void 0===st&&(st="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(ct.querySelectorAll(st)).filter(Tt=>Tt.overlayIndex>0)))(ct,st).filter(Tt=>!(ct=>ct.classList.contains("overlay-hidden"))(Tt)),Ie=(ct,st,Tt)=>{const Kt=At(ct,st);return void 0===Tt?Kt[Kt.length-1]:Kt.find(Ht=>Ht.id===Tt)},W=(ct=!1)=>{const Tt=se(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Tt&&(ct?Tt.setAttribute("aria-hidden","true"):Tt.removeAttribute("aria-hidden"))},M=function(){var ct=(0,a.A)(function*(st,Tt,Kt,Ht,cr){var zn,fn;if(st.presented)return;W(!0),document.body.classList.add(ue.B),Gn(st.el),st.presented=!0,st.willPresent.emit(),null===(zn=st.willPresentShorthand)||void 0===zn||zn.emit();const gn=(0,Se.b)(st),Un=st.enterAnimation?st.enterAnimation:Se.c.get(Tt,"ios"===gn?Kt:Ht);(yield je(st,Un,st.el,cr))&&(st.didPresent.emit(),null===(fn=st.didPresentShorthand)||void 0===fn||fn.emit()),"ION-TOAST"!==st.el.tagName&&S(st.el),st.keyboardClose&&(null===document.activeElement||!st.el.contains(document.activeElement))&&st.el.focus(),st.el.removeAttribute("aria-hidden")});return function(Tt,Kt,Ht,cr,zn){return ct.apply(this,arguments)}}(),S=function(){var ct=(0,a.A)(function*(st){let Tt=document.activeElement;if(!Tt)return;const Kt=Tt?.shadowRoot;Kt&&(Tt=Kt.querySelector(ze)||Tt),yield st.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Tt.focus()});return function(Tt){return ct.apply(this,arguments)}}(),L=function(){var ct=(0,a.A)(function*(st,Tt,Kt,Ht,cr,zn,fn){var gn,Un;if(!st.presented)return!1;void 0!==C.d&&1===At(C.d).length&&(W(!1),document.body.classList.remove(ue.B)),st.presented=!1;try{st.el.style.setProperty("pointer-events","none"),st.willDismiss.emit({data:Tt,role:Kt}),null===(gn=st.willDismissShorthand)||void 0===gn||gn.emit({data:Tt,role:Kt});const Rn=(0,Se.b)(st),Jn=st.leaveAnimation?st.leaveAnimation:Se.c.get(Ht,"ios"===Rn?cr:zn);Kt!==Pn&&(yield je(st,Jn,st.el,fn)),st.didDismiss.emit({data:Tt,role:Kt}),null===(Un=st.didDismissShorthand)||void 0===Un||Un.emit({data:Tt,role:Kt}),(Xe.get(st)||[]).forEach(Vt=>Vt.destroy()),Xe.delete(st),st.el.classList.add("overlay-hidden"),st.el.style.removeProperty("pointer-events"),void 0!==st.el.lastFocus&&(st.el.lastFocus=void 0)}catch(Rn){console.error(Rn)}return st.el.remove(),sn(),!0});return function(Tt,Kt,Ht,cr,zn,fn,gn){return ct.apply(this,arguments)}}(),se=ct=>ct.querySelector("ion-app")||ct.body,je=function(){var ct=(0,a.A)(function*(st,Tt,Kt,Ht){Kt.classList.remove("overlay-hidden");const zn=Tt(st.el,Ht);(!st.animated||!Se.c.getBoolean("animated",!0))&&zn.duration(0),st.keyboardClose&&zn.beforeAddWrite(()=>{const gn=Kt.ownerDocument.activeElement;gn?.matches("input,ion-input, ion-textarea")&&gn.blur()});const fn=Xe.get(st)||[];return Xe.set(st,[...fn,zn]),yield zn.play(),!0});return function(Tt,Kt,Ht,cr){return ct.apply(this,arguments)}}(),we=(ct,st)=>{let Tt;const Kt=new Promise(Ht=>Tt=Ht);return Bt(ct,st,Ht=>{Tt(Ht.detail)}),Kt},Bt=(ct,st,Tt)=>{const Kt=Ht=>{(0,V.b)(ct,st,Kt),Tt(Ht)};(0,V.a)(ct,st,Kt)},tn=ct=>"cancel"===ct||ct===rn,Cn=ct=>ct(),ln=(ct,st)=>{if("function"==typeof ct)return Se.c.get("_zoneGate",Cn)(()=>{try{return ct(st)}catch(Kt){throw Kt}})},rn="backdrop",Pn="gesture",hr=39,en=ct=>{let Tt,st=!1;const Kt=(0,Ve.C)(),Ht=(fn=!1)=>{if(Tt&&!fn)return{delegate:Tt,inline:st};const{el:gn,hasController:Un,delegate:Yn}=ct;return st=null!==gn.parentNode&&!Un,Tt=st?Yn||Kt:Yn,{inline:st,delegate:Tt}};return{attachViewToDom:function(){var fn=(0,a.A)(function*(gn){const{delegate:Un}=Ht(!0);if(Un)return yield Un.attachViewToDom(ct.el,gn);const{hasController:Yn}=ct;if(Yn&&void 0!==gn)throw new Error("framework delegate is missing");return null});return function(Un){return fn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:fn}=Ht();fn&&void 0!==ct.el&&fn.removeViewFromDom(ct.el.parentElement,ct.el)}}},kn=()=>{let ct;const st=()=>{ct&&(ct(),ct=void 0)};return{addClickListener:(Kt,Ht)=>{st();const cr=void 0!==Ht?document.getElementById(Ht):null;cr?ct=((fn,gn)=>{const Un=()=>{gn.present()};return fn.addEventListener("click",Un),()=>{fn.removeEventListener("click",Un)}})(cr,Kt):(0,Oe.p)(`A trigger element with the ID "${Ht}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Kt)},removeClickListener:st}},Gn=ct=>{var st;if(void 0===C.d)return;const Tt=At(C.d);for(let Kt=Tt.length-1;Kt>=0;Kt--){const Ht=Tt[Kt],cr=null!==(st=Tt[Kt+1])&&void 0!==st?st:ct;(cr.hasAttribute("aria-hidden")||"ION-TOAST"!==cr.tagName)&&Ht.setAttribute("aria-hidden","true")}},sn=()=>{if(void 0===C.d)return;const ct=At(C.d);for(let st=ct.length-1;st>=0;st--){const Tt=ct[st];if(Tt.removeAttribute("aria-hidden"),"ION-TOAST"!==Tt.tagName)break}},$t="ion-disable-focus-trap"},3310:(vn,gt,x)=>{"use strict";var a=x(345),C=x(4438),V=x(4964),le=x(2872),Se=x(5150);const Ve=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"tabs",loadChildren:()=>x.e(5695).then(x.bind(x,5695)).then(on=>on.TabsPageModule)},{path:"login",loadChildren:()=>Promise.all([x.e(2076),x.e(3485)]).then(x.bind(x,3485)).then(on=>on.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([x.e(2076),x.e(8618)]).then(x.bind(x,8618)).then(on=>on.RegisterPageModule)},{path:"resetpass",loadChildren:()=>Promise.all([x.e(2076),x.e(4357)]).then(x.bind(x,4357)).then(on=>on.ResetpassPageModule)},{path:"mis-datos",loadChildren:()=>Promise.all([x.e(2076),x.e(1005)]).then(x.bind(x,1005)).then(on=>on.MisDatosPageModule)}];let ue=(()=>{class on{static#e=this.\u0275fac=function(qr){return new(qr||on)};static#t=this.\u0275mod=C.$C({type:on});static#n=this.\u0275inj=C.G2t({imports:[V.iI.forRoot(Ve,{preloadingStrategy:V.Kp}),V.iI]})}return on})();const Fe=(0,x(5083).F3)("StatusBar");let ke=(()=>{class on{constructor(Zn){this.platform=Zn,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{Fe.setBackgroundColor({color:"#B3E5F8"})})}static#e=this.\u0275fac=function(qr){return new(qr||on)(C.rXU(le.OD))};static#t=this.\u0275cmp=C.VBU({type:on,selectors:[["app-root"]],decls:2,vars:0,template:function(qr,pi){1&qr&&(C.j41(0,"ion-app"),C.nrm(1,"ion-router-outlet"),C.k0s())},dependencies:[Se.U1,Se.Rg]})}return on})();var Xe=x(7440),et=x(5407),qe=x(8152),Be=x(2214),It=x(9583);class Ge{constructor(ir){return ir}}const tt="firestore",Pe=new C.nKC("angularfire2.firestore-instances");function Ne(on){return(ir,Zn)=>{const qr=ir.runOutsideAngular(()=>on(Zn));return new Ge(qr)}}const me={provide:class _e{constructor(){return(0,et.CA)(tt)}},deps:[[new C.Xx1,Pe]]},Et={provide:Ge,useFactory:function lt(on,ir){const Zn=(0,et.lR)(tt,on,ir);return Zn&&new Ge(Zn)},deps:[[new C.Xx1,Pe],Xe.XU]};function ot(on,...ir){return(0,Be.KO)("angularfire",et.xv.full,"fst"),(0,C.EmA)([Et,me,{provide:Pe,useFactory:Ne(on),multi:!0,deps:[C.SKi,C.zZn,et.u0,Xe.gL,[new C.Xx1,qe.DF],[new C.Xx1,et.Jv],...ir]}])}const Dn=(0,et.S3)(It.aU,!0);var Te=x(9253),mt=x(4887);const zt_firebaseConfig={apiKey:"AIzaSyDY3SWzZL0ebxCC34vh6gTEGV3OvpiTXCo",authDomain:"alzhi-c974b.firebaseapp.com",projectId:"alzhi-c974b",storageBucket:"alzhi-c974b.appspot.com",messagingSenderId:"107206225530",appId:"1:107206225530:web:7cdcaf170e38321e00d5c3"};let Xt=(()=>{class on{static#e=this.\u0275fac=function(qr){return new(qr||on)};static#t=this.\u0275mod=C.$C({type:on,bootstrap:[ke]});static#n=this.\u0275inj=C.G2t({providers:[{provide:V.b,useClass:le.jM},(0,Xe.MW)(()=>(0,Xe.Wp)({projectId:"alzhi-c974b",appId:"1:107206225530:web:7cdcaf170e38321e00d5c3",storageBucket:"alzhi-c974b.appspot.com",apiKey:"AIzaSyDY3SWzZL0ebxCC34vh6gTEGV3OvpiTXCo",authDomain:"alzhi-c974b.firebaseapp.com",messagingSenderId:"107206225530"})),(0,qe._q)(()=>(0,qe.xI)()),ot(()=>Dn())],imports:[a.Bb,Se.bv.forRoot(),ue,mt.cM,Te.bf.initializeApp(zt_firebaseConfig)]})}return on})();(0,C.SmG)(),a.sG().bootstrapModule(Xt).catch(on=>console.log(on))},4412:(vn,gt,x)=>{"use strict";x.d(gt,{t:()=>C});var a=x(1413);class C extends a.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const Se=super._subscribe(le);return!Se.closed&&le.next(this._value),Se}getValue(){const{hasError:le,thrownError:Se,_value:Ve}=this;if(le)throw Se;return this._throwIfClosed(),Ve}next(le){super.next(this._value=le)}}},1985:(vn,gt,x)=>{"use strict";x.d(gt,{c:()=>Oe});var a=x(7707),C=x(8359),V=x(3494),le=x(1203),Se=x(1026),Ve=x(8071),ue=x(9786);let Oe=(()=>{class Le{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Xe=new Le;return Xe.source=this,Xe.operator=ke,Xe}subscribe(ke,Xe,et){const qe=function he(Le){return Le&&Le instanceof a.vU||function De(Le){return Le&&(0,Ve.T)(Le.next)&&(0,Ve.T)(Le.error)&&(0,Ve.T)(Le.complete)}(Le)&&(0,C.Uv)(Le)}(ke)?ke:new a.Ms(ke,Xe,et);return(0,ue.Y)(()=>{const{operator:Be,source:It}=this;qe.add(Be?Be.call(qe,It):It?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Xe){ke.error(Xe)}}forEach(ke,Xe){return new(Xe=ze(Xe))((et,qe)=>{const Be=new a.Ms({next:It=>{try{ke(It)}catch(Ge){qe(Ge),Be.unsubscribe()}},error:qe,complete:et});this.subscribe(Be)})}_subscribe(ke){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(ke)}[V.s](){return this}pipe(...ke){return(0,le.m)(ke)(this)}toPromise(ke){return new(ke=ze(ke))((Xe,et)=>{let qe;this.subscribe(Be=>qe=Be,Be=>et(Be),()=>Xe(qe))})}}return Le.create=Fe=>new Le(Fe),Le})();function ze(Le){var Fe;return null!==(Fe=Le??Se.$.Promise)&&void 0!==Fe?Fe:Promise}},1413:(vn,gt,x)=>{"use strict";x.d(gt,{B:()=>ue});var a=x(1985),C=x(8359);const le=(0,x(1853).L)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=x(7908),Ve=x(9786);let ue=(()=>{class ze extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Le=new Oe(this,this);return Le.operator=he,Le}_throwIfClosed(){if(this.closed)throw new le}next(he){(0,Ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Le of this.currentObservers)Le.next(he)}})}error(he){(0,Ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Le}=this;for(;Le.length;)Le.shift().error(he)}})}complete(){(0,Ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Le,isStopped:Fe,observers:ke}=this;return Le||Fe?C.Kn:(this.currentObservers=null,ke.push(he),new C.yU(()=>{this.currentObservers=null,(0,Se.o)(ke,he)}))}_checkFinalizedStatuses(he){const{hasError:Le,thrownError:Fe,isStopped:ke}=this;Le?he.error(Fe):ke&&he.complete()}asObservable(){const he=new a.c;return he.source=this,he}}return ze.create=(De,he)=>new Oe(De,he),ze})();class Oe extends ue{constructor(De,he){super(),this.destination=De,this.source=he}next(De){var he,Le;null===(Le=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Le||Le.call(he,De)}error(De){var he,Le;null===(Le=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Le||Le.call(he,De)}complete(){var De,he;null===(he=null===(De=this.destination)||void 0===De?void 0:De.complete)||void 0===he||he.call(De)}_subscribe(De){var he,Le;return null!==(Le=null===(he=this.source)||void 0===he?void 0:he.subscribe(De))&&void 0!==Le?Le:C.Kn}}},7707:(vn,gt,x)=>{"use strict";x.d(gt,{Ms:()=>et,vU:()=>Le});var a=x(8071),C=x(8359),V=x(1026),le=x(5334),Se=x(5343);const Ve=ze("C",void 0,void 0);function ze(tt,_e,xe){return{kind:tt,value:_e,error:xe}}var De=x(9270),he=x(9786);class Le extends C.yU{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,C.Uv)(_e)&&_e.add(this)):this.destination=Ge}static create(_e,xe,Pe){return new et(_e,xe,Pe)}next(_e){this.isStopped?It(function Oe(tt){return ze("N",tt,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?It(function ue(tt){return ze("E",void 0,tt)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?It(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ke(tt,_e){return Fe.call(tt,_e)}class Xe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:xe}=this;if(xe.next)try{xe.next(_e)}catch(Pe){qe(Pe)}}error(_e){const{partialObserver:xe}=this;if(xe.error)try{xe.error(_e)}catch(Pe){qe(Pe)}else qe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(xe){qe(xe)}}}class et extends Le{constructor(_e,xe,Pe){let lt;if(super(),(0,a.T)(_e)||!_e)lt={next:_e??void 0,error:xe??void 0,complete:Pe??void 0};else{let Ne;this&&V.$.useDeprecatedNextContext?(Ne=Object.create(_e),Ne.unsubscribe=()=>this.unsubscribe(),lt={next:_e.next&&ke(_e.next,Ne),error:_e.error&&ke(_e.error,Ne),complete:_e.complete&&ke(_e.complete,Ne)}):lt=_e}this.destination=new Xe(lt)}}function qe(tt){V.$.useDeprecatedSynchronousErrorHandling?(0,he.l)(tt):(0,le.m)(tt)}function It(tt,_e){const{onStoppedNotification:xe}=V.$;xe&&De.f.setTimeout(()=>xe(tt,_e))}const Ge={closed:!0,next:Se.l,error:function Be(tt){throw tt},complete:Se.l}},8359:(vn,gt,x)=>{"use strict";x.d(gt,{Kn:()=>Ve,yU:()=>Se,Uv:()=>ue});var a=x(8071);const V=(0,x(1853).L)(ze=>function(he){ze(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Le,Fe)=>`${Fe+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var le=x(7908);class Se{constructor(De){this.initialTeardown=De,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let De;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ke of he)ke.remove(this);else he.remove(this);const{initialTeardown:Le}=this;if((0,a.T)(Le))try{Le()}catch(ke){De=ke instanceof V?ke.errors:[ke]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const ke of Fe)try{Oe(ke)}catch(Xe){De=De??[],Xe instanceof V?De=[...De,...Xe.errors]:De.push(Xe)}}if(De)throw new V(De)}}add(De){var he;if(De&&De!==this)if(this.closed)Oe(De);else{if(De instanceof Se){if(De.closed||De._hasParent(this))return;De._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(De)}}_hasParent(De){const{_parentage:he}=this;return he===De||Array.isArray(he)&&he.includes(De)}_addParent(De){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(De),he):he?[he,De]:De}_removeParent(De){const{_parentage:he}=this;he===De?this._parentage=null:Array.isArray(he)&&(0,le.o)(he,De)}remove(De){const{_finalizers:he}=this;he&&(0,le.o)(he,De),De instanceof Se&&De._removeParent(this)}}Se.EMPTY=(()=>{const ze=new Se;return ze.closed=!0,ze})();const Ve=Se.EMPTY;function ue(ze){return ze instanceof Se||ze&&"closed"in ze&&(0,a.T)(ze.remove)&&(0,a.T)(ze.add)&&(0,a.T)(ze.unsubscribe)}function Oe(ze){(0,a.T)(ze)?ze():ze.unsubscribe()}},1026:(vn,gt,x)=>{"use strict";x.d(gt,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(vn,gt,x)=>{"use strict";x.d(gt,{z:()=>De});var a=x(1985),C=x(3073),V=x(8455),le=x(3669),Se=x(6450),Ve=x(3794),ue=x(8496),Oe=x(4360),ze=x(5225);function De(...Fe){const ke=(0,Ve.lI)(Fe),Xe=(0,Ve.ms)(Fe),{args:et,keys:qe}=(0,C.D)(Fe);if(0===et.length)return(0,V.H)([],ke);const Be=new a.c(function he(Fe,ke,Xe=le.D){return et=>{Le(ke,()=>{const{length:qe}=Fe,Be=new Array(qe);let It=qe,Ge=qe;for(let tt=0;tt<qe;tt++)Le(ke,()=>{const _e=(0,V.H)(Fe[tt],ke);let xe=!1;_e.subscribe((0,Oe._)(et,Pe=>{Be[tt]=Pe,xe||(xe=!0,Ge--),Ge||et.next(Xe(Be.slice()))},()=>{--It||et.complete()}))},et)},et)}}(et,ke,qe?It=>(0,ue.e)(qe,It):le.D));return Xe?Be.pipe((0,Se.I)(Xe)):Be}function Le(Fe,ke,Xe){Fe?(0,ze.N)(Xe,Fe,ke):ke()}},8793:(vn,gt,x)=>{"use strict";x.d(gt,{x:()=>Se});var a=x(6365),V=x(3794),le=x(8455);function Se(...Ve){return function C(){return(0,a.U)(1)}()((0,le.H)(Ve,(0,V.lI)(Ve)))}},983:(vn,gt,x)=>{"use strict";x.d(gt,{w:()=>C});const C=new(x(1985).c)(Se=>Se.complete())},8455:(vn,gt,x)=>{"use strict";x.d(gt,{H:()=>_e});var a=x(8750),C=x(941),V=x(6745),Ve=x(1985),Oe=x(4761),ze=x(8071),De=x(5225);function Le(xe,Pe){if(!xe)throw new Error("Iterable cannot be null");return new Ve.c(lt=>{(0,De.N)(lt,Pe,()=>{const Ne=xe[Symbol.asyncIterator]();(0,De.N)(lt,Pe,()=>{Ne.next().then(me=>{me.done?lt.complete():lt.next(me.value)})},0,!0)})})}var Fe=x(5055),ke=x(9858),Xe=x(7441),et=x(5397),qe=x(7953),Be=x(591),It=x(5196);function _e(xe,Pe){return Pe?function tt(xe,Pe){if(null!=xe){if((0,Fe.l)(xe))return function le(xe,Pe){return(0,a.Tg)(xe).pipe((0,V._)(Pe),(0,C.Q)(Pe))}(xe,Pe);if((0,Xe.X)(xe))return function ue(xe,Pe){return new Ve.c(lt=>{let Ne=0;return Pe.schedule(function(){Ne===xe.length?lt.complete():(lt.next(xe[Ne++]),lt.closed||this.schedule())})})}(xe,Pe);if((0,ke.y)(xe))return function Se(xe,Pe){return(0,a.Tg)(xe).pipe((0,V._)(Pe),(0,C.Q)(Pe))}(xe,Pe);if((0,qe.T)(xe))return Le(xe,Pe);if((0,et.x)(xe))return function he(xe,Pe){return new Ve.c(lt=>{let Ne;return(0,De.N)(lt,Pe,()=>{Ne=xe[Oe.l](),(0,De.N)(lt,Pe,()=>{let me,Et;try{({value:me,done:Et}=Ne.next())}catch(Ye){return void lt.error(Ye)}Et?lt.complete():lt.next(me)},0,!0)}),()=>(0,ze.T)(Ne?.return)&&Ne.return()})}(xe,Pe);if((0,It.U)(xe))return function Ge(xe,Pe){return Le((0,It.C)(xe),Pe)}(xe,Pe)}throw(0,Be.L)(xe)}(xe,Pe):(0,a.Tg)(xe)}},3726:(vn,gt,x)=>{"use strict";x.d(gt,{R:()=>De});var a=x(8750),C=x(1985),V=x(1397),le=x(7441),Se=x(8071),Ve=x(6450);const ue=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],ze=["on","off"];function De(Xe,et,qe,Be){if((0,Se.T)(qe)&&(Be=qe,qe=void 0),Be)return De(Xe,et,qe).pipe((0,Ve.I)(Be));const[It,Ge]=function ke(Xe){return(0,Se.T)(Xe.addEventListener)&&(0,Se.T)(Xe.removeEventListener)}(Xe)?Oe.map(tt=>_e=>Xe[tt](et,_e,qe)):function Le(Xe){return(0,Se.T)(Xe.addListener)&&(0,Se.T)(Xe.removeListener)}(Xe)?ue.map(he(Xe,et)):function Fe(Xe){return(0,Se.T)(Xe.on)&&(0,Se.T)(Xe.off)}(Xe)?ze.map(he(Xe,et)):[];if(!It&&(0,le.X)(Xe))return(0,V.Z)(tt=>De(tt,et,qe))((0,a.Tg)(Xe));if(!It)throw new TypeError("Invalid event target");return new C.c(tt=>{const _e=(...xe)=>tt.next(1<xe.length?xe:xe[0]);return It(_e),()=>Ge(_e)})}function he(Xe,et){return qe=>Be=>Xe[qe](et,Be)}},8750:(vn,gt,x)=>{"use strict";x.d(gt,{Tg:()=>Fe});var a=x(1635),C=x(7441),V=x(9858),le=x(1985),Se=x(5055),Ve=x(7953),ue=x(591),Oe=x(5397),ze=x(5196),De=x(8071),he=x(5334),Le=x(3494);function Fe(tt){if(tt instanceof le.c)return tt;if(null!=tt){if((0,Se.l)(tt))return function ke(tt){return new le.c(_e=>{const xe=tt[Le.s]();if((0,De.T)(xe.subscribe))return xe.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,C.X)(tt))return function Xe(tt){return new le.c(_e=>{for(let xe=0;xe<tt.length&&!_e.closed;xe++)_e.next(tt[xe]);_e.complete()})}(tt);if((0,V.y)(tt))return function et(tt){return new le.c(_e=>{tt.then(xe=>{_e.closed||(_e.next(xe),_e.complete())},xe=>_e.error(xe)).then(null,he.m)})}(tt);if((0,Ve.T)(tt))return Be(tt);if((0,Oe.x)(tt))return function qe(tt){return new le.c(_e=>{for(const xe of tt)if(_e.next(xe),_e.closed)return;_e.complete()})}(tt);if((0,ze.U)(tt))return function It(tt){return Be((0,ze.C)(tt))}(tt)}throw(0,ue.L)(tt)}function Be(tt){return new le.c(_e=>{(function Ge(tt,_e){var xe,Pe,lt,Ne;return(0,a.sH)(this,void 0,void 0,function*(){try{for(xe=(0,a.xN)(tt);!(Pe=yield xe.next()).done;)if(_e.next(Pe.value),_e.closed)return}catch(me){lt={error:me}}finally{try{Pe&&!Pe.done&&(Ne=xe.return)&&(yield Ne.call(xe))}finally{if(lt)throw lt.error}}_e.complete()})})(tt,_e).catch(xe=>_e.error(xe))})}},7673:(vn,gt,x)=>{"use strict";x.d(gt,{of:()=>V});var a=x(3794),C=x(8455);function V(...le){const Se=(0,a.lI)(le);return(0,C.H)(le,Se)}},4360:(vn,gt,x)=>{"use strict";x.d(gt,{_:()=>C});var a=x(7707);function C(le,Se,Ve,ue,Oe){return new V(le,Se,Ve,ue,Oe)}class V extends a.vU{constructor(Se,Ve,ue,Oe,ze,De){super(Se),this.onFinalize=ze,this.shouldUnsubscribe=De,this._next=Ve?function(he){try{Ve(he)}catch(Le){Se.error(Le)}}:super._next,this._error=Oe?function(he){try{Oe(he)}catch(Le){Se.error(Le)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(he){Se.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},9901:(vn,gt,x)=>{"use strict";x.d(gt,{U:()=>V});var a=x(9974),C=x(4360);function V(le){return(0,a.N)((Se,Ve)=>{let ue=!1;Se.subscribe((0,C._)(Ve,Oe=>{ue=!0,Ve.next(Oe)},()=>{ue||Ve.next(le),Ve.complete()}))})}},3294:(vn,gt,x)=>{"use strict";x.d(gt,{F:()=>le});var a=x(3669),C=x(9974),V=x(4360);function le(Ve,ue=a.D){return Ve=Ve??Se,(0,C.N)((Oe,ze)=>{let De,he=!0;Oe.subscribe((0,V._)(ze,Le=>{const Fe=ue(Le);(he||!Ve(De,Fe))&&(he=!1,De=Fe,ze.next(Le))}))})}function Se(Ve,ue){return Ve===ue}},5964:(vn,gt,x)=>{"use strict";x.d(gt,{p:()=>V});var a=x(9974),C=x(4360);function V(le,Se){return(0,a.N)((Ve,ue)=>{let Oe=0;Ve.subscribe((0,C._)(ue,ze=>le.call(Se,ze,Oe++)&&ue.next(ze)))})}},1594:(vn,gt,x)=>{"use strict";x.d(gt,{$:()=>ue});var a=x(9350),C=x(5964),V=x(6697),le=x(9901),Se=x(3774),Ve=x(3669);function ue(Oe,ze){const De=arguments.length>=2;return he=>he.pipe(Oe?(0,C.p)((Le,Fe)=>Oe(Le,Fe,he)):Ve.D,(0,V.s)(1),De?(0,le.U)(ze):(0,Se.v)(()=>new a.G))}},6354:(vn,gt,x)=>{"use strict";x.d(gt,{T:()=>V});var a=x(9974),C=x(4360);function V(le,Se){return(0,a.N)((Ve,ue)=>{let Oe=0;Ve.subscribe((0,C._)(ue,ze=>{ue.next(le.call(Se,ze,Oe++))}))})}},6365:(vn,gt,x)=>{"use strict";x.d(gt,{U:()=>V});var a=x(1397),C=x(3669);function V(le=1/0){return(0,a.Z)(C.D,le)}},1397:(vn,gt,x)=>{"use strict";x.d(gt,{Z:()=>Oe});var a=x(6354),C=x(8750),V=x(9974),le=x(5225),Se=x(4360),ue=x(8071);function Oe(ze,De,he=1/0){return(0,ue.T)(De)?Oe((Le,Fe)=>(0,a.T)((ke,Xe)=>De(Le,ke,Fe,Xe))((0,C.Tg)(ze(Le,Fe))),he):("number"==typeof De&&(he=De),(0,V.N)((Le,Fe)=>function Ve(ze,De,he,Le,Fe,ke,Xe,et){const qe=[];let Be=0,It=0,Ge=!1;const tt=()=>{Ge&&!qe.length&&!Be&&De.complete()},_e=Pe=>Be<Le?xe(Pe):qe.push(Pe),xe=Pe=>{ke&&De.next(Pe),Be++;let lt=!1;(0,C.Tg)(he(Pe,It++)).subscribe((0,Se._)(De,Ne=>{Fe?.(Ne),ke?_e(Ne):De.next(Ne)},()=>{lt=!0},void 0,()=>{if(lt)try{for(Be--;qe.length&&Be<Le;){const Ne=qe.shift();Xe?(0,le.N)(De,Xe,()=>xe(Ne)):xe(Ne)}tt()}catch(Ne){De.error(Ne)}}))};return ze.subscribe((0,Se._)(De,_e,()=>{Ge=!0,tt()})),()=>{et?.()}}(Le,Fe,ze,he)))}},941:(vn,gt,x)=>{"use strict";x.d(gt,{Q:()=>le});var a=x(5225),C=x(9974),V=x(4360);function le(Se,Ve=0){return(0,C.N)((ue,Oe)=>{ue.subscribe((0,V._)(Oe,ze=>(0,a.N)(Oe,Se,()=>Oe.next(ze),Ve),()=>(0,a.N)(Oe,Se,()=>Oe.complete(),Ve),ze=>(0,a.N)(Oe,Se,()=>Oe.error(ze),Ve)))})}},2816:(vn,gt,x)=>{"use strict";x.d(gt,{S:()=>le});var a=x(9974),C=x(4360);function le(Se,Ve){return(0,a.N)(function V(Se,Ve,ue,Oe,ze){return(De,he)=>{let Le=ue,Fe=Ve,ke=0;De.subscribe((0,C._)(he,Xe=>{const et=ke++;Fe=Le?Se(Fe,Xe,et):(Le=!0,Xe),Oe&&he.next(Fe)},ze&&(()=>{Le&&he.next(Fe),he.complete()})))}}(Se,Ve,arguments.length>=2,!0))}},9172:(vn,gt,x)=>{"use strict";x.d(gt,{Z:()=>le});var a=x(8793),C=x(3794),V=x(9974);function le(...Se){const Ve=(0,C.lI)(Se);return(0,V.N)((ue,Oe)=>{(Ve?(0,a.x)(Se,ue,Ve):(0,a.x)(Se,ue)).subscribe(Oe)})}},6745:(vn,gt,x)=>{"use strict";x.d(gt,{_:()=>C});var a=x(9974);function C(V,le=0){return(0,a.N)((Se,Ve)=>{Ve.add(V.schedule(()=>Se.subscribe(Ve),le))})}},5558:(vn,gt,x)=>{"use strict";x.d(gt,{n:()=>le});var a=x(8750),C=x(9974),V=x(4360);function le(Se,Ve){return(0,C.N)((ue,Oe)=>{let ze=null,De=0,he=!1;const Le=()=>he&&!ze&&Oe.complete();ue.subscribe((0,V._)(Oe,Fe=>{ze?.unsubscribe();let ke=0;const Xe=De++;(0,a.Tg)(Se(Fe,Xe)).subscribe(ze=(0,V._)(Oe,et=>Oe.next(Ve?Ve(Fe,et,Xe,ke++):et),()=>{ze=null,Le()}))},()=>{he=!0,Le()}))})}},6697:(vn,gt,x)=>{"use strict";x.d(gt,{s:()=>le});var a=x(983),C=x(9974),V=x(4360);function le(Se){return Se<=0?()=>a.w:(0,C.N)((Ve,ue)=>{let Oe=0;Ve.subscribe((0,V._)(ue,ze=>{++Oe<=Se&&(ue.next(ze),Se<=Oe&&ue.complete())}))})}},8141:(vn,gt,x)=>{"use strict";x.d(gt,{M:()=>Se});var a=x(8071),C=x(9974),V=x(4360),le=x(3669);function Se(Ve,ue,Oe){const ze=(0,a.T)(Ve)||ue||Oe?{next:Ve,error:ue,complete:Oe}:Ve;return ze?(0,C.N)((De,he)=>{var Le;null===(Le=ze.subscribe)||void 0===Le||Le.call(ze);let Fe=!0;De.subscribe((0,V._)(he,ke=>{var Xe;null===(Xe=ze.next)||void 0===Xe||Xe.call(ze,ke),he.next(ke)},()=>{var ke;Fe=!1,null===(ke=ze.complete)||void 0===ke||ke.call(ze),he.complete()},ke=>{var Xe;Fe=!1,null===(Xe=ze.error)||void 0===Xe||Xe.call(ze,ke),he.error(ke)},()=>{var ke,Xe;Fe&&(null===(ke=ze.unsubscribe)||void 0===ke||ke.call(ze)),null===(Xe=ze.finalize)||void 0===Xe||Xe.call(ze)}))}):le.D}},3774:(vn,gt,x)=>{"use strict";x.d(gt,{v:()=>le});var a=x(9350),C=x(9974),V=x(4360);function le(Ve=Se){return(0,C.N)((ue,Oe)=>{let ze=!1;ue.subscribe((0,V._)(Oe,De=>{ze=!0,Oe.next(De)},()=>ze?Oe.complete():Oe.error(Ve())))})}function Se(){return new a.G}},6780:(vn,gt,x)=>{"use strict";x.d(gt,{R:()=>Se});var a=x(8359);class C extends a.yU{constructor(ue,Oe){super()}schedule(ue,Oe=0){return this}}const V={setInterval(Ve,ue,...Oe){const{delegate:ze}=V;return ze?.setInterval?ze.setInterval(Ve,ue,...Oe):setInterval(Ve,ue,...Oe)},clearInterval(Ve){const{delegate:ue}=V;return(ue?.clearInterval||clearInterval)(Ve)},delegate:void 0};var le=x(7908);class Se extends C{constructor(ue,Oe){super(ue,Oe),this.scheduler=ue,this.work=Oe,this.pending=!1}schedule(ue,Oe=0){var ze;if(this.closed)return this;this.state=ue;const De=this.id,he=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(he,De,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(he,this.id,Oe),this}requestAsyncId(ue,Oe,ze=0){return V.setInterval(ue.flush.bind(ue,this),ze)}recycleAsyncId(ue,Oe,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return Oe;null!=Oe&&V.clearInterval(Oe)}execute(ue,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(ue,Oe);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,Oe){let De,ze=!1;try{this.work(ue)}catch(he){ze=!0,De=he||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),De}unsubscribe(){if(!this.closed){const{id:ue,scheduler:Oe}=this,{actions:ze}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.o)(ze,this),null!=ue&&(this.id=this.recycleAsyncId(Oe,ue,null)),this.delay=null,super.unsubscribe()}}}},9687:(vn,gt,x)=>{"use strict";x.d(gt,{q:()=>V});var a=x(6129);class C{constructor(Se,Ve=C.now){this.schedulerActionCtor=Se,this.now=Ve}schedule(Se,Ve=0,ue){return new this.schedulerActionCtor(this,Se).schedule(ue,Ve)}}C.now=a.U.now;class V extends C{constructor(Se,Ve=C.now){super(Se,Ve),this.actions=[],this._active=!1}flush(Se){const{actions:Ve}=this;if(this._active)return void Ve.push(Se);let ue;this._active=!0;do{if(ue=Se.execute(Se.state,Se.delay))break}while(Se=Ve.shift());if(this._active=!1,ue){for(;Se=Ve.shift();)Se.unsubscribe();throw ue}}}},3236:(vn,gt,x)=>{"use strict";x.d(gt,{E:()=>V});var a=x(6780);const V=new(x(9687).q)(a.R)},6129:(vn,gt,x)=>{"use strict";x.d(gt,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(vn,gt,x)=>{"use strict";x.d(gt,{f:()=>a});const a={setTimeout(C,V,...le){const{delegate:Se}=a;return Se?.setTimeout?Se.setTimeout(C,V,...le):setTimeout(C,V,...le)},clearTimeout(C){const{delegate:V}=a;return(V?.clearTimeout||clearTimeout)(C)},delegate:void 0}},4761:(vn,gt,x)=>{"use strict";x.d(gt,{l:()=>C});const C=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(vn,gt,x)=>{"use strict";x.d(gt,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(vn,gt,x)=>{"use strict";x.d(gt,{G:()=>C});const C=(0,x(1853).L)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(vn,gt,x)=>{"use strict";x.d(gt,{R0:()=>Ve,ms:()=>le,lI:()=>Se});var a=x(8071);function V(ue){return ue[ue.length-1]}function le(ue){return(0,a.T)(V(ue))?ue.pop():void 0}function Se(ue){return function C(ue){return ue&&(0,a.T)(ue.schedule)}(V(ue))?ue.pop():void 0}function Ve(ue,Oe){return"number"==typeof V(ue)?ue.pop():Oe}},3073:(vn,gt,x)=>{"use strict";x.d(gt,{D:()=>Se});const{isArray:a}=Array,{getPrototypeOf:C,prototype:V,keys:le}=Object;function Se(ue){if(1===ue.length){const Oe=ue[0];if(a(Oe))return{args:Oe,keys:null};if(function Ve(ue){return ue&&"object"==typeof ue&&C(ue)===V}(Oe)){const ze=le(Oe);return{args:ze.map(De=>Oe[De]),keys:ze}}}return{args:ue,keys:null}}},7908:(vn,gt,x)=>{"use strict";function a(C,V){if(C){const le=C.indexOf(V);0<=le&&C.splice(le,1)}}x.d(gt,{o:()=>a})},1853:(vn,gt,x)=>{"use strict";function a(C){const le=C(Se=>{Error.call(Se),Se.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}x.d(gt,{L:()=>a})},8496:(vn,gt,x)=>{"use strict";function a(C,V){return C.reduce((le,Se,Ve)=>(le[Se]=V[Ve],le),{})}x.d(gt,{e:()=>a})},9786:(vn,gt,x)=>{"use strict";x.d(gt,{Y:()=>V,l:()=>le});var a=x(1026);let C=null;function V(Se){if(a.$.useDeprecatedSynchronousErrorHandling){const Ve=!C;if(Ve&&(C={errorThrown:!1,error:null}),Se(),Ve){const{errorThrown:ue,error:Oe}=C;if(C=null,ue)throw Oe}}else Se()}function le(Se){a.$.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=Se)}},5225:(vn,gt,x)=>{"use strict";function a(C,V,le,Se=0,Ve=!1){const ue=V.schedule(function(){le(),Ve?C.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(C.add(ue),!Ve)return ue}x.d(gt,{N:()=>a})},3669:(vn,gt,x)=>{"use strict";function a(C){return C}x.d(gt,{D:()=>a})},7441:(vn,gt,x)=>{"use strict";x.d(gt,{X:()=>a});const a=C=>C&&"number"==typeof C.length&&"function"!=typeof C},7953:(vn,gt,x)=>{"use strict";x.d(gt,{T:()=>C});var a=x(8071);function C(V){return Symbol.asyncIterator&&(0,a.T)(V?.[Symbol.asyncIterator])}},8071:(vn,gt,x)=>{"use strict";function a(C){return"function"==typeof C}x.d(gt,{T:()=>a})},5055:(vn,gt,x)=>{"use strict";x.d(gt,{l:()=>V});var a=x(3494),C=x(8071);function V(le){return(0,C.T)(le[a.s])}},5397:(vn,gt,x)=>{"use strict";x.d(gt,{x:()=>V});var a=x(4761),C=x(8071);function V(le){return(0,C.T)(le?.[a.l])}},9858:(vn,gt,x)=>{"use strict";x.d(gt,{y:()=>C});var a=x(8071);function C(V){return(0,a.T)(V?.then)}},5196:(vn,gt,x)=>{"use strict";x.d(gt,{C:()=>V,U:()=>le});var a=x(1635),C=x(8071);function V(Se){return(0,a.AQ)(this,arguments,function*(){const ue=Se.getReader();try{for(;;){const{value:Oe,done:ze}=yield(0,a.N3)(ue.read());if(ze)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(Oe)}}finally{ue.releaseLock()}})}function le(Se){return(0,C.T)(Se?.getReader)}},9974:(vn,gt,x)=>{"use strict";x.d(gt,{N:()=>V,S:()=>C});var a=x(8071);function C(le){return(0,a.T)(le?.lift)}function V(le){return Se=>{if(C(Se))return Se.lift(function(Ve){try{return le(Ve,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(vn,gt,x)=>{"use strict";x.d(gt,{I:()=>le});var a=x(6354);const{isArray:C}=Array;function le(Se){return(0,a.T)(Ve=>function V(Se,Ve){return C(Ve)?Se(...Ve):Se(Ve)}(Se,Ve))}},5343:(vn,gt,x)=>{"use strict";function a(){}x.d(gt,{l:()=>a})},1203:(vn,gt,x)=>{"use strict";x.d(gt,{F:()=>C,m:()=>V});var a=x(3669);function C(...le){return V(le)}function V(le){return 0===le.length?a.D:1===le.length?le[0]:function(Ve){return le.reduce((ue,Oe)=>Oe(ue),Ve)}}},5334:(vn,gt,x)=>{"use strict";x.d(gt,{m:()=>V});var a=x(1026),C=x(9270);function V(le){C.f.setTimeout(()=>{const{onUnhandledError:Se}=a.$;if(!Se)throw le;Se(le)})}},591:(vn,gt,x)=>{"use strict";function a(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(gt,{L:()=>a})},8996:(vn,gt,x)=>{var a={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function C(V){if(!x.o(a,V))return Promise.resolve().then(()=>{var Ve=new Error("Cannot find module '"+V+"'");throw Ve.code="MODULE_NOT_FOUND",Ve});var le=a[V],Se=le[0];return Promise.all(le.slice(1).map(x.e)).then(()=>x(Se))}C.keys=()=>Object.keys(a),C.id=8996,vn.exports=C},177:(vn,gt,x)=>{"use strict";x.d(gt,{AJ:()=>Wt,MD:()=>pt,N0:()=>ri,QT:()=>V,Sm:()=>et,Sq:()=>qr,T3:()=>Sr,VF:()=>Se,Vy:()=>Tn,Xr:()=>xi,ZD:()=>le,_b:()=>Te,aZ:()=>Be,bT:()=>Nn,fw:()=>qe,hb:()=>ke,hj:()=>ze,qQ:()=>ue,vh:()=>oo});var a=x(4438);let C=null;function V(){return C}function le(T){C??=T}class Se{}const ue=new a.nKC("");let Oe=(()=>{class T{historyGo(F){throw new Error("")}static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275prov=a.jDH({token:T,factory:()=>(0,a.WQX)(De),providedIn:"platform"})}return T})();const ze=new a.nKC("");let De=(()=>{class T extends Oe{constructor(){super(),this._doc=(0,a.WQX)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(F){const B=V().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",F,!1),()=>B.removeEventListener("popstate",F)}onHashChange(F){const B=V().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",F,!1),()=>B.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,B,be){this._history.pushState(F,B,be)}replaceState(F,B,be){this._history.replaceState(F,B,be)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275prov=a.jDH({token:T,factory:()=>new T,providedIn:"platform"})}return T})();function he(T,te){if(0==T.length)return te;if(0==te.length)return T;let F=0;return T.endsWith("/")&&F++,te.startsWith("/")&&F++,2==F?T+te.substring(1):1==F?T+te:T+"/"+te}function Le(T){const te=T.match(/#|\?|$/),F=te&&te.index||T.length;return T.slice(0,F-("/"===T[F-1]?1:0))+T.slice(F)}function Fe(T){return T&&"?"!==T[0]?"?"+T:T}let ke=(()=>{class T{historyGo(F){throw new Error("")}static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275prov=a.jDH({token:T,factory:()=>(0,a.WQX)(et),providedIn:"root"})}return T})();const Xe=new a.nKC("");let et=(()=>{class T extends ke{constructor(F,B){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return he(this._baseHref,F)}path(F=!1){const B=this._platformLocation.pathname+Fe(this._platformLocation.search),be=this._platformLocation.hash;return be&&F?`${B}${be}`:B}pushState(F,B,be,Nt){const nn=this.prepareExternalUrl(be+Fe(Nt));this._platformLocation.pushState(F,B,nn)}replaceState(F,B,be,Nt){const nn=this.prepareExternalUrl(be+Fe(Nt));this._platformLocation.replaceState(F,B,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static#e=this.\u0275fac=function(B){return new(B||T)(a.KVO(Oe),a.KVO(Xe,8))};static#t=this.\u0275prov=a.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),qe=(()=>{class T extends ke{constructor(F,B){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){const B=this._platformLocation.hash??"#";return B.length>0?B.substring(1):B}prepareExternalUrl(F){const B=he(this._baseHref,F);return B.length>0?"#"+B:B}pushState(F,B,be,Nt){let nn=this.prepareExternalUrl(be+Fe(Nt));0==nn.length&&(nn=this._platformLocation.pathname),this._platformLocation.pushState(F,B,nn)}replaceState(F,B,be,Nt){let nn=this.prepareExternalUrl(be+Fe(Nt));0==nn.length&&(nn=this._platformLocation.pathname),this._platformLocation.replaceState(F,B,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static#e=this.\u0275fac=function(B){return new(B||T)(a.KVO(Oe),a.KVO(Xe,8))};static#t=this.\u0275prov=a.jDH({token:T,factory:T.\u0275fac})}return T})(),Be=(()=>{class T{constructor(F){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const B=this._locationStrategy.getBaseHref();this._basePath=function _e(T){if(new RegExp("^(https?:)?//").test(T)){const[,F]=T.split(/\/\/[^\/]+/);return F}return T}(Le(tt(B))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,B=""){return this.path()==this.normalize(F+Fe(B))}normalize(F){return T.stripTrailingSlash(function Ge(T,te){if(!T||!te.startsWith(T))return te;const F=te.substring(T.length);return""===F||["/",";","?","#"].includes(F[0])?F:te}(this._basePath,tt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,B="",be=null){this._locationStrategy.pushState(be,"",F,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Fe(B)),be)}replaceState(F,B="",be=null){this._locationStrategy.replaceState(be,"",F,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Fe(B)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription??=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)}),()=>{const B=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",B){this._urlChangeListeners.forEach(be=>be(F,B))}subscribe(F,B,be){return this._subject.subscribe({next:F,error:B,complete:be})}static#e=this.normalizeQueryParams=Fe;static#t=this.joinWithSlash=he;static#n=this.stripTrailingSlash=Le;static#r=this.\u0275fac=function(B){return new(B||T)(a.KVO(ke))};static#i=this.\u0275prov=a.jDH({token:T,factory:()=>function It(){return new Be((0,a.KVO)(ke))}(),providedIn:"root"})}return T})();function tt(T){return T.replace(/\/index.html$/,"")}var Ne=function(T){return T[T.Format=0]="Format",T[T.Standalone=1]="Standalone",T}(Ne||{}),me=function(T){return T[T.Narrow=0]="Narrow",T[T.Abbreviated=1]="Abbreviated",T[T.Wide=2]="Wide",T[T.Short=3]="Short",T}(me||{}),Et=function(T){return T[T.Short=0]="Short",T[T.Medium=1]="Medium",T[T.Long=2]="Long",T[T.Full=3]="Full",T}(Et||{});const Ye={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function L(T,te){return sn((0,a.H5H)(T)[a.KH2.DateFormat],te)}function se(T,te){return sn((0,a.H5H)(T)[a.KH2.TimeFormat],te)}function je(T,te){return sn((0,a.H5H)(T)[a.KH2.DateTimeFormat],te)}function we(T,te){const F=(0,a.H5H)(T),B=F[a.KH2.NumberSymbols][te];if(typeof B>"u"){if(te===Ye.CurrencyDecimal)return F[a.KH2.NumberSymbols][Ye.Decimal];if(te===Ye.CurrencyGroup)return F[a.KH2.NumberSymbols][Ye.Group]}return B}function hr(T){if(!T[a.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[a.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sn(T,te){for(let F=te;F>-1;F--)if(typeof T[F]<"u")return T[F];throw new Error("Locale data API: locale data undefined")}function $t(T){const[te,F]=T.split(":");return{hours:+te,minutes:+F}}const Kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ht={},cr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=function(T){return T[T.Short=0]="Short",T[T.ShortGMT=1]="ShortGMT",T[T.Long=2]="Long",T[T.Extended=3]="Extended",T}(zn||{}),fn=function(T){return T[T.FullYear=0]="FullYear",T[T.Month=1]="Month",T[T.Date=2]="Date",T[T.Hours=3]="Hours",T[T.Minutes=4]="Minutes",T[T.Seconds=5]="Seconds",T[T.FractionalSeconds=6]="FractionalSeconds",T[T.Day=7]="Day",T}(fn||{}),gn=function(T){return T[T.DayPeriods=0]="DayPeriods",T[T.Days=1]="Days",T[T.Months=2]="Months",T[T.Eras=3]="Eras",T}(gn||{});function Un(T,te,F,B){let be=function ne(T){if(J(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[be,Nt=1,nn=1]=T.split("-").map(Ln=>+Ln);return Yn(be,Nt-1,nn)}const F=parseFloat(T);if(!isNaN(T-F))return new Date(F);let B;if(B=T.match(Kt))return function de(T){const te=new Date(0);let F=0,B=0;const be=T[8]?te.setUTCFullYear:te.setFullYear,Nt=T[8]?te.setUTCHours:te.setHours;T[9]&&(F=Number(T[9]+T[10]),B=Number(T[9]+T[11])),be.call(te,Number(T[1]),Number(T[2])-1,Number(T[3]));const nn=Number(T[4]||0)-F,Ln=Number(T[5]||0)-B,di=Number(T[6]||0),Qr=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return Nt.call(te,nn,Ln,di,Qr),te}(B)}const te=new Date(T);if(!J(te))throw new Error(`Unable to convert "${T}" into a date`);return te}(T);te=Rn(F,te)||te;let Ln,nn=[];for(;te;){if(Ln=cr.exec(te),!Ln){nn.push(te);break}{nn=nn.concat(Ln.slice(1));const Yr=nn.pop();if(!Yr)break;te=Yr}}let di=be.getTimezoneOffset();B&&(di=ut(B,di),be=function ve(T,te,F){const B=F?-1:1,be=T.getTimezoneOffset();return function pe(T,te){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+te),T}(T,B*(ut(te,be)-be))}(be,B,!0));let Qr="";return nn.forEach(Yr=>{const Pr=function Me(T){if(dt[T])return dt[T];let te;switch(T){case"G":case"GG":case"GGG":te=wt(gn.Eras,me.Abbreviated);break;case"GGGG":te=wt(gn.Eras,me.Wide);break;case"GGGGG":te=wt(gn.Eras,me.Narrow);break;case"y":te=_t(fn.FullYear,1,0,!1,!0);break;case"yy":te=_t(fn.FullYear,2,0,!0,!0);break;case"yyy":te=_t(fn.FullYear,3,0,!1,!0);break;case"yyyy":te=_t(fn.FullYear,4,0,!1,!0);break;case"Y":te=nt(1);break;case"YY":te=nt(2,!0);break;case"YYY":te=nt(3);break;case"YYYY":te=nt(4);break;case"M":case"L":te=_t(fn.Month,1,1);break;case"MM":case"LL":te=_t(fn.Month,2,1);break;case"MMM":te=wt(gn.Months,me.Abbreviated);break;case"MMMM":te=wt(gn.Months,me.Wide);break;case"MMMMM":te=wt(gn.Months,me.Narrow);break;case"LLL":te=wt(gn.Months,me.Abbreviated,Ne.Standalone);break;case"LLLL":te=wt(gn.Months,me.Wide,Ne.Standalone);break;case"LLLLL":te=wt(gn.Months,me.Narrow,Ne.Standalone);break;case"w":te=tr(1);break;case"ww":te=tr(2);break;case"W":te=tr(1,!0);break;case"d":te=_t(fn.Date,1);break;case"dd":te=_t(fn.Date,2);break;case"c":case"cc":te=_t(fn.Day,1);break;case"ccc":te=wt(gn.Days,me.Abbreviated,Ne.Standalone);break;case"cccc":te=wt(gn.Days,me.Wide,Ne.Standalone);break;case"ccccc":te=wt(gn.Days,me.Narrow,Ne.Standalone);break;case"cccccc":te=wt(gn.Days,me.Short,Ne.Standalone);break;case"E":case"EE":case"EEE":te=wt(gn.Days,me.Abbreviated);break;case"EEEE":te=wt(gn.Days,me.Wide);break;case"EEEEE":te=wt(gn.Days,me.Narrow);break;case"EEEEEE":te=wt(gn.Days,me.Short);break;case"a":case"aa":case"aaa":te=wt(gn.DayPeriods,me.Abbreviated);break;case"aaaa":te=wt(gn.DayPeriods,me.Wide);break;case"aaaaa":te=wt(gn.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":te=wt(gn.DayPeriods,me.Abbreviated,Ne.Standalone,!0);break;case"bbbb":te=wt(gn.DayPeriods,me.Wide,Ne.Standalone,!0);break;case"bbbbb":te=wt(gn.DayPeriods,me.Narrow,Ne.Standalone,!0);break;case"B":case"BB":case"BBB":te=wt(gn.DayPeriods,me.Abbreviated,Ne.Format,!0);break;case"BBBB":te=wt(gn.DayPeriods,me.Wide,Ne.Format,!0);break;case"BBBBB":te=wt(gn.DayPeriods,me.Narrow,Ne.Format,!0);break;case"h":te=_t(fn.Hours,1,-12);break;case"hh":te=_t(fn.Hours,2,-12);break;case"H":te=_t(fn.Hours,1);break;case"HH":te=_t(fn.Hours,2);break;case"m":te=_t(fn.Minutes,1);break;case"mm":te=_t(fn.Minutes,2);break;case"s":te=_t(fn.Seconds,1);break;case"ss":te=_t(fn.Seconds,2);break;case"S":te=_t(fn.FractionalSeconds,1);break;case"SS":te=_t(fn.FractionalSeconds,2);break;case"SSS":te=_t(fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=$n(zn.Short);break;case"ZZZZZ":te=$n(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=$n(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=$n(zn.Long);break;default:return null}return dt[T]=te,te}(Yr);Qr+=Pr?Pr(be,F,di):"''"===Yr?"'":Yr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qr}function Yn(T,te,F){const B=new Date(0);return B.setFullYear(T,te,F),B.setHours(0,0,0),B}function Rn(T,te){const F=function Je(T){return(0,a.H5H)(T)[a.KH2.LocaleId]}(T);if(Ht[F]??={},Ht[F][te])return Ht[F][te];let B="";switch(te){case"shortDate":B=L(T,Et.Short);break;case"mediumDate":B=L(T,Et.Medium);break;case"longDate":B=L(T,Et.Long);break;case"fullDate":B=L(T,Et.Full);break;case"shortTime":B=se(T,Et.Short);break;case"mediumTime":B=se(T,Et.Medium);break;case"longTime":B=se(T,Et.Long);break;case"fullTime":B=se(T,Et.Full);break;case"short":const be=Rn(T,"shortTime"),Nt=Rn(T,"shortDate");B=Jn(je(T,Et.Short),[be,Nt]);break;case"medium":const nn=Rn(T,"mediumTime"),Ln=Rn(T,"mediumDate");B=Jn(je(T,Et.Medium),[nn,Ln]);break;case"long":const di=Rn(T,"longTime"),Qr=Rn(T,"longDate");B=Jn(je(T,Et.Long),[di,Qr]);break;case"full":const Yr=Rn(T,"fullTime"),Pr=Rn(T,"fullDate");B=Jn(je(T,Et.Full),[Yr,Pr])}return B&&(Ht[F][te]=B),B}function Jn(T,te){return te&&(T=T.replace(/\{([^}]+)}/g,function(F,B){return null!=te&&B in te?te[B]:F})),T}function wn(T,te,F="-",B,be){let Nt="";(T<0||be&&T<=0)&&(be?T=1-T:(T=-T,Nt=F));let nn=String(T);for(;nn.length<te;)nn="0"+nn;return B&&(nn=nn.slice(nn.length-te)),Nt+nn}function _t(T,te,F=0,B=!1,be=!1){return function(Nt,nn){let Ln=function Ut(T,te){switch(T){case fn.FullYear:return te.getFullYear();case fn.Month:return te.getMonth();case fn.Date:return te.getDate();case fn.Hours:return te.getHours();case fn.Minutes:return te.getMinutes();case fn.Seconds:return te.getSeconds();case fn.FractionalSeconds:return te.getMilliseconds();case fn.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,Nt);if((F>0||Ln>-F)&&(Ln+=F),T===fn.Hours)0===Ln&&-12===F&&(Ln=12);else if(T===fn.FractionalSeconds)return function Vt(T,te){return wn(T,3).substring(0,te)}(Ln,te);const di=we(nn,Ye.MinusSign);return wn(Ln,te,di,B,be)}}function wt(T,te,F=Ne.Format,B=!1){return function(be,Nt){return function qt(T,te,F,B,be,Nt){switch(F){case gn.Months:return function Ie(T,te,F){const B=(0,a.H5H)(T),Nt=sn([B[a.KH2.MonthsFormat],B[a.KH2.MonthsStandalone]],te);return sn(Nt,F)}(te,be,B)[T.getMonth()];case gn.Days:return function At(T,te,F){const B=(0,a.H5H)(T),Nt=sn([B[a.KH2.DaysFormat],B[a.KH2.DaysStandalone]],te);return sn(Nt,F)}(te,be,B)[T.getDay()];case gn.DayPeriods:const nn=T.getHours(),Ln=T.getMinutes();if(Nt){const Qr=function en(T){const te=(0,a.H5H)(T);return hr(te),(te[a.KH2.ExtraData][2]||[]).map(B=>"string"==typeof B?$t(B):[$t(B[0]),$t(B[1])])}(te),Yr=function kn(T,te,F){const B=(0,a.H5H)(T);hr(B);const Nt=sn([B[a.KH2.ExtraData][0],B[a.KH2.ExtraData][1]],te)||[];return sn(Nt,F)||[]}(te,be,B),Pr=Qr.findIndex(ii=>{if(Array.isArray(ii)){const[$r,yi]=ii,Lr=nn>=$r.hours&&Ln>=$r.minutes,mn=nn<yi.hours||nn===yi.hours&&Ln<yi.minutes;if($r.hours<yi.hours){if(Lr&&mn)return!0}else if(Lr||mn)return!0}else if(ii.hours===nn&&ii.minutes===Ln)return!0;return!1});if(-1!==Pr)return Yr[Pr]}return function We(T,te,F){const B=(0,a.H5H)(T),Nt=sn([B[a.KH2.DayPeriodsFormat],B[a.KH2.DayPeriodsStandalone]],te);return sn(Nt,F)}(te,be,B)[nn<12?0:1];case gn.Eras:return function W(T,te){return sn((0,a.H5H)(T)[a.KH2.Eras],te)}(te,B)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(be,Nt,T,te,F,B)}}function $n(T){return function(te,F,B){const be=-1*B,Nt=we(F,Ye.MinusSign),nn=be>0?Math.floor(be/60):Math.ceil(be/60);switch(T){case zn.Short:return(be>=0?"+":"")+wn(nn,2,Nt)+wn(Math.abs(be%60),2,Nt);case zn.ShortGMT:return"GMT"+(be>=0?"+":"")+wn(nn,1,Nt);case zn.Long:return"GMT"+(be>=0?"+":"")+wn(nn,2,Nt)+":"+wn(Math.abs(be%60),2,Nt);case zn.Extended:return 0===B?"Z":(be>=0?"+":"")+wn(nn,2,Nt)+":"+wn(Math.abs(be%60),2,Nt);default:throw new Error(`Unknown zone width "${T}"`)}}}const $e=0,Dn=4;function Tr(T){const te=T.getDay(),F=0===te?-3:Dn-te;return Yn(T.getFullYear(),T.getMonth(),T.getDate()+F)}function tr(T,te=!1){return function(F,B){let be;if(te){const Nt=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,nn=F.getDate();be=1+Math.floor((nn+Nt)/7)}else{const Nt=Tr(F),nn=function Fn(T){const te=Yn(T,$e,1).getDay();return Yn(T,0,1+(te<=Dn?Dn:Dn+7)-te)}(Nt.getFullYear()),Ln=Nt.getTime()-nn.getTime();be=1+Math.round(Ln/6048e5)}return wn(be,T,we(B,Ye.MinusSign))}}function nt(T,te=!1){return function(F,B){return wn(Tr(F).getFullYear(),T,we(B,Ye.MinusSign),te)}}const dt={};function ut(T,te){T=T.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(F)?te:F}function J(T){return T instanceof Date&&!isNaN(T.valueOf())}function Te(T,te){te=encodeURIComponent(te);for(const F of T.split(";")){const B=F.indexOf("="),[be,Nt]=-1==B?[F,""]:[F.slice(0,B),F.slice(B+1)];if(be.trim()===te)return decodeURIComponent(Nt)}return null}class Zn{constructor(te,F,B,be){this.$implicit=te,this.ngForOf=F,this.index=B,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class T{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,B,be){this._viewContainer=F,this._template=B,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const B=this._viewContainer;F.forEachOperation((be,Nt,nn)=>{if(null==be.previousIndex)B.createEmbeddedView(this._template,new Zn(be.item,this._ngForOf,-1,-1),null===nn?void 0:nn);else if(null==nn)B.remove(null===Nt?void 0:Nt);else if(null!==Nt){const Ln=B.get(Nt);B.move(Ln,nn),pi(Ln,be)}});for(let be=0,Nt=B.length;be<Nt;be++){const Ln=B.get(be).context;Ln.index=be,Ln.count=Nt,Ln.ngForOf=this._ngForOf}F.forEachIdentityChange(be=>{pi(B.get(be.currentIndex),be)})}static ngTemplateContextGuard(F,B){return!0}static#e=this.\u0275fac=function(B){return new(B||T)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(a._q3))};static#t=this.\u0275dir=a.FsC({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return T})();function pi(T,te){T.context.$implicit=te.item}let Nn=(()=>{class T{constructor(F,B){this._viewContainer=F,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){si("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){si("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,B){return!0}static#e=this.\u0275fac=function(B){return new(B||T)(a.rXU(a.c1b),a.rXU(a.C4Q))};static#t=this.\u0275dir=a.FsC({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return T})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function si(T,te){if(te&&!te.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,a.Tbb)(te)}'.`)}let Sr=(()=>{class T{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(this._shouldRecreateView(F)){const B=this._viewContainerRef;if(this._viewRef&&B.remove(B.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const be=this._createContextForwardProxy();this._viewRef=B.createEmbeddedView(this.ngTemplateOutlet,be,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(F){return!!F.ngTemplateOutlet||!!F.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(F,B,be)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,B,be),get:(F,B,be)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,B,be)}})}static#e=this.\u0275fac=function(B){return new(B||T)(a.rXU(a.c1b))};static#t=this.\u0275dir=a.FsC({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.OA$]})}return T})();const Do=new a.nKC(""),vi=new a.nKC("");let oo=(()=>{class T{constructor(F,B,be){this.locale=F,this.defaultTimezone=B,this.defaultOptions=be}transform(F,B,be,Nt){if(null==F||""===F||F!=F)return null;try{return Un(F,B??this.defaultOptions?.dateFormat??"mediumDate",Nt||this.locale,be??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(nn){throw function Ri(T,te){return new a.wOt(2100,!1)}()}}static#e=this.\u0275fac=function(B){return new(B||T)(a.rXU(a.xe9,16),a.rXU(Do,24),a.rXU(vi,24))};static#t=this.\u0275pipe=a.EJ8({name:"date",type:T,pure:!0,standalone:!0})}return T})(),pt=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=a.$C({type:T});static#n=this.\u0275inj=a.G2t({})}return T})();const Wt="browser",Qt="server";function Tn(T){return T===Qt}let xi=(()=>{class T{static#e=this.\u0275prov=(0,a.jDH)({token:T,providedIn:"root",factory:()=>function an(T){return T===Wt}((0,a.WQX)(a.Agw))?new Er((0,a.WQX)(ue),window):new ar})}return T})();class Er{constructor(te,F){this.document=te,this.window=F,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(te){this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){const F=function Wn(T,te){const F=T.getElementById(te)||T.getElementsByName(te)[0];if(F)return F;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const B=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let be=B.currentNode;for(;be;){const Nt=be.shadowRoot;if(Nt){const nn=Nt.getElementById(te)||Nt.querySelector(`[name="${te}"]`);if(nn)return nn}be=B.nextNode()}}return null}(this.document,te);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(te){this.window.history.scrollRestoration=te}scrollToElement(te){const F=te.getBoundingClientRect(),B=F.left+this.window.pageXOffset,be=F.top+this.window.pageYOffset,Nt=this.offset();this.window.scrollTo(B-Nt[0],be-Nt[1])}}class ar{setOffset(te){}getScrollPosition(){return[0,0]}scrollToPosition(te){}scrollToAnchor(te){}setHistoryScrollRestoration(te){}}class ri{}},4438:(vn,gt,x)=>{"use strict";x.d(gt,{iLQ:()=>tE,sZ2:()=>nf,hnV:()=>UT,Hbi:()=>ix,o8S:()=>ud,BIS:()=>u_,gRc:()=>JT,Ql9:()=>RM,Ocv:()=>LM,Z63:()=>Es,aKT:()=>Kc,uvJ:()=>wo,zcH:()=>Ca,bkB:()=>Ga,$GK:()=>or,nKC:()=>Xt,zZn:()=>Hs,_q3:()=>cE,MKu:()=>uE,xe9:()=>jy,Co$:()=>BC,Vns:()=>hh,SKi:()=>Ki,Xx1:()=>an,Agw:()=>sf,PLl:()=>rf,sFG:()=>ey,_9s:()=>Vl,czy:()=>Ya,kdw:()=>Bn,C4Q:()=>nd,NYb:()=>CM,giA:()=>LT,xvI:()=>QP,RxE:()=>RT,c1b:()=>g,gXe:()=>Ui,mal:()=>ol,L39:()=>Ox,a0P:()=>Bx,Ol2:()=>lI,w6W:()=>lb,oH4:()=>qT,SmG:()=>zM,Rfq:()=>tr,WQX:()=>Ae,naY:()=>jM,QuC:()=>go,EmA:()=>Ls,fpN:()=>rx,HJs:()=>jx,N4e:()=>is,O8t:()=>kx,H3F:()=>PT,H8p:()=>Oa,KH2:()=>Cp,TgB:()=>rp,wOt:()=>ct,WHO:()=>kT,e01:()=>FT,H5H:()=>OI,Zy3:()=>st,mq5:()=>zD,JZv:()=>_t,LfX:()=>re,plB:()=>sl,jNT:()=>ZI,zjR:()=>VT,TL$:()=>ng,Tbb:()=>$e,Vt3:()=>oI,Mj6:()=>Io,GFd:()=>$C,OA$:()=>vs,Jv_:()=>rT,aNF:()=>iT,R7$:()=>k_,BMQ:()=>_I,AVh:()=>TI,wni:()=>MA,VBU:()=>Ho,FsC:()=>Pa,jDH:()=>pr,G2t:()=>oi,$C:()=>ul,EJ8:()=>$i,rXU:()=>au,nrm:()=>MI,eu8:()=>xI,bVm:()=>My,qex:()=>Py,k0s:()=>Ry,j41:()=>Sy,RV6:()=>$D,xGo:()=>kh,KVO:()=>$,kS0:()=>Lh,QTQ:()=>Fg,bIt:()=>FI,lsd:()=>NA,XpG:()=>IA,nI1:()=>dT,i5U:()=>hT,SdG:()=>CA,NAR:()=>EA,Y8G:()=>DI,FS9:()=>VI,mGM:()=>OA,sdS:()=>kA,Njj:()=>wh,eBV:()=>kc,n$t:()=>Dg,DNE:()=>ip,C5r:()=>fT,EFF:()=>WA,JRh:()=>$I,SpI:()=>Fy,DH7:()=>tT,mxI:()=>jI,R50:()=>BI,GBs:()=>xA}),x(467);let V=null,Se=1;const Ve=Symbol("SIGNAL");function ue(e){const n=V;return V=e,n}function ke(e){if((!Pe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Se)){if(!e.producerMustRecompute(e)&&!Ge(e))return e.dirty=!1,void(e.lastCleanEpoch=Se);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Se}}function Ge(e){lt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(ke(r),o!==r.version))return!0}return!1}function xe(e,n){if(function Ne(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),lt(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)xe(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];lt(l),l.producerIndexOfThis[o]=n}}function Pe(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function lt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let At=null;var hr=x(1413),en=x(8359),kn=x(4412),Gn=x(6354);const $t="https://g.co/ng/security#xss";class ct extends Error{constructor(n,r){super(st(n,r)),this.code=n}}function st(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function fn(e){return{toString:e}.toString()}const Un="__parameters__";function wn(e,n,r){return fn(()=>{const o=function Jn(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(n);function l(...d){if(this instanceof l)return o.apply(this,d),this;const m=new l(...d);return y.annotation=m,y;function y(A,U,Z){const ye=A.hasOwnProperty(Un)?A[Un]:Object.defineProperty(A,Un,{value:[]})[Un];for(;ye.length<=Z;)ye.push(null);return(ye[Z]=ye[Z]||[]).push(m),A}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const _t=globalThis;function qt(e){for(let n in e)if(e[n]===qt)return n;throw Error("Could not find renamed property on target object.")}function $n(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function $e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Dn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Tr=qt({__forward_ref__:qt});function tr(e){return e.__forward_ref__=tr,e.toString=function(){return $e(this())},e}function nt(e){return dt(e)?e():e}function dt(e){return"function"==typeof e&&e.hasOwnProperty(Tr)&&e.__forward_ref__===tr}function pr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function oi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Di(e){return ee(e,Ke)||ee(e,mt)}function re(e){return null!==Di(e)}function ee(e,n){return e.hasOwnProperty(n)?e[n]:null}function ie(e){return e&&(e.hasOwnProperty(Te)||e.hasOwnProperty(zt))?e[Te]:null}const Ke=qt({\u0275prov:qt}),Te=qt({\u0275inj:qt}),mt=qt({ngInjectableDef:qt}),zt=qt({ngInjectorDef:qt});class Xt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=pr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zr(e){return e&&!!e.\u0275providers}const gr=qt({\u0275cmp:qt}),Hi=qt({\u0275dir:qt}),Hr=qt({\u0275pipe:qt}),_r=qt({\u0275mod:qt}),no=qt({\u0275fac:qt}),Ai=qt({__NG_ELEMENT_ID__:qt}),Vr=qt({__NG_ENV_ID__:qt});function ur(e){return"string"==typeof e?e:null==e?"":String(e)}function _o(e,n){throw new ct(-201,!1)}var or=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(or||{});let Rr;function cs(){return Rr}function qn(e){const n=Rr;return Rr=e,n}function ho(e,n,r){const o=Di(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&or.Optional?null:void 0!==n?n:void _o()}const vi={},oo="__NG_DI_FLAG__",j="ngTempTokenPath",Y=/\n/gm,Ee="__source";let Kn;function Ur(e){const n=Kn;return Kn=e,n}function so(e,n=or.Default){if(void 0===Kn)throw new ct(-203,!1);return null===Kn?ho(e,void 0,n):Kn.get(e,n&or.Optional?null:void 0,n)}function $(e,n=or.Default){return(cs()||so)(nt(e),n)}function Ae(e,n=or.Default){return $(e,He(n))}function He(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function yt(e){const n=[];for(let r=0;r<e.length;r++){const o=nt(e[r]);if(Array.isArray(o)){if(0===o.length)throw new ct(900,!1);let l,d=or.Default;for(let m=0;m<o.length;m++){const y=o[m],A=Wt(y);"number"==typeof A?-1===A?l=y.token:d|=A:l=y}n.push($(l,d))}else n.push($(o))}return n}function pt(e,n){return e[oo]=n,e.prototype[oo]=n,e}function Wt(e){return e[oo]}const an=pt(wn("Optional"),8),Bn=pt(wn("SkipSelf"),4);function Ir(e,n){return e.hasOwnProperty(no)?e[no]:null}function Wn(e,n){e.forEach(r=>Array.isArray(r)?Wn(r,n):n(r))}function ar(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function ri(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Fi(e,n,r){let o=po(e,n);return o>=0?e[1|o]=r:(o=~o,function ba(e,n,r,o){let l=e.length;if(l==n)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function ca(e,n){const r=po(e,n);if(r>=0)return e[1|r]}function po(e,n){return function Wi(e,n,r){let o=0,l=e.length>>r;for(;l!==o;){const d=o+(l-o>>1),m=e[d<<r];if(n===m)return d<<r;m>n?l=d:o=d+1}return~(l<<r)}(e,n,1)}const Xi={},br=[],Es=new Xt(""),Sa=new Xt("",-1),Ra=new Xt("");class Bo{get(n,r=vi){if(r===vi){const o=new Error(`NullInjectorError: No provider for ${$e(n)}!`);throw o.name="NullInjectorError",o}return r}}var ns=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ns||{}),Ui=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ui||{}),Io=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Io||{});function jo(e,n,r){let o=e.length;for(;;){const l=e.indexOf(n,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=n.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}r=l+1}}function To(e,n,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const d=r[o++],m=r[o++],y=r[o++];e.setAttribute(n,m,y,d)}else{const d=l,m=r[++o];ua(d)?e.setProperty(n,d,m):e.setAttribute(n,d,m),o++}}return o}function Qi(e){return 3===e||4===e||6===e}function ua(e){return 64===e.charCodeAt(0)}function Yi(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:0===r||rs(e,r,l,null,-1===r||2===r?n[++o]:null)}}return e}function rs(e,n,r,o,l){let d=0,m=e.length;if(-1===n)m=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===n){m=-1;break}if(y>n){m=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===r){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==m&&(e.splice(m,0,n),d=m+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}const zo="ng-template";function da(e,n,r,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==jo(n[l+1].toLowerCase(),r,0))return!0}else if(Ns(e))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===r)return!0}return!1}function Ns(e){return 4===e.type&&e.value!==zo}function G(e,n,r){return n===(4!==e.type||r?e.value:zo)}function Q(e,n,r){let o=4;const l=e.attrs,d=null!==l?function dr(e){for(let n=0;n<e.length;n++)if(Qi(e[n]))return n;return e.length}(l):0;let m=!1;for(let y=0;y<n.length;y++){const A=n[y];if("number"!=typeof A){if(!m)if(4&o){if(o=2|1&o,""!==A&&!G(e,A,r)||""===A&&1===n.length){if(P(o))return!1;m=!0}}else if(8&o){if(null===l||!da(e,l,A,r)){if(P(o))return!1;m=!0}}else{const U=n[++y],Z=fe(A,l,Ns(e),r);if(-1===Z){if(P(o))return!1;m=!0;continue}if(""!==U){let ye;if(ye=Z>d?"":l[Z+1].toLowerCase(),2&o&&U!==ye){if(P(o))return!1;m=!0}}}}else{if(!m&&!P(o)&&!P(A))return!1;if(m&&P(A))continue;m=!1,o=A|1&o}}return P(o)||m}function P(e){return!(1&e)}function fe(e,n,r,o){if(null===n)return-1;let l=0;if(o||!r){let d=!1;for(;l<n.length;){const m=n[l];if(m===e)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=n[++l];for(;"string"==typeof y;)y=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function Cr(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function Ze(e,n,r=!1){for(let o=0;o<n.length;o++)if(Q(e,n[o],r))return!0;return!1}function Eo(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function Co(e,n){return e?":not("+n.trim()+")":n}function us(e){let n=e[0],r=1,o=2,l="",d=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const y=e[++r];l+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?l+="."+m:4&o&&(l+=" "+m);else""!==l&&!P(m)&&(n+=Co(d,l),l=""),o=m,d=d||!P(o);r++}return""!==l&&(n+=Co(d,l)),n}function Ho(e){return fn(()=>{const n=dl(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ns.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ui.Emulated,styles:e.styles||br,_:null,schemas:e.schemas||null,tView:null,id:""};Fs(r);const o=e.dependencies;return r.directiveDefs=Cs(o,!1),r.pipeDefs=Cs(o,!0),r.id=function hl(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of r)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function Pc(e){return Dr(e)||ui(e)}function Ji(e){return null!==e}function ul(e){return fn(()=>({type:e.type,bootstrap:e.bootstrap||br,declarations:e.declarations||br,imports:e.imports||br,exports:e.exports||br,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ds(e,n){if(null==e)return Xi;const r={};for(const o in e)if(e.hasOwnProperty(o)){const l=e[o];let d,m,y=Io.None;Array.isArray(l)?(y=l[0],d=l[1],m=l[2]??d):(d=l,m=l),n?(r[d]=y!==Io.None?[o,y]:o,n[d]=m):r[d]=o}return r}function Pa(e){return fn(()=>{const n=dl(e);return Fs(n),n})}function $i(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Dr(e){return e[gr]||null}function ui(e){return e[Hi]||null}function Oi(e){return e[Hr]||null}function go(e){const n=Dr(e)||ui(e)||Oi(e);return null!==n&&n.standalone}function Qn(e,n){const r=e[_r]||null;if(!r&&!0===n)throw new Error(`Type ${$e(e)} does not have '\u0275mod' property.`);return r}function dl(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Xi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||br,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ds(e.inputs,n),outputs:ds(e.outputs),debugInfo:null}}function Fs(e){e.features?.forEach(n=>n(e))}function Cs(e,n){if(!e)return null;const r=n?Oi:Pc;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Ji)}function Ls(e){return{\u0275providers:e}}function Ma(...e){return{\u0275providers:ha(0,e),\u0275fromNgModule:!0}}function ha(e,...n){const r=[],o=new Set;let l;const d=m=>{r.push(m)};return Wn(n,m=>{const y=m;As(y,d,[],o)&&(l||=[],l.push(y))}),void 0!==l&&Ds(l,d),r}function Ds(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];fl(l,d=>{n(d,o)})}}function As(e,n,r,o){if(!(e=nt(e)))return!1;let l=null,d=ie(e);const m=!d&&Dr(e);if(d||m){if(m&&!m.standalone)return!1;l=e}else{const A=e.ngModule;if(d=ie(A),!d)return!1;l=A}const y=o.has(l);if(m){if(y)return!1;if(o.add(l),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const U of A)As(U,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let U;o.add(l);try{Wn(d.imports,Z=>{As(Z,n,r,o)&&(U||=[],U.push(Z))})}finally{}void 0!==U&&Ds(U,n)}if(!y){const U=Ir(l)||(()=>new l);n({provide:l,useFactory:U,deps:br},l),n({provide:Ra,useValue:l,multi:!0},l),n({provide:Es,useValue:()=>$(l),multi:!0},l)}const A=d.providers;if(null!=A&&!y){const U=e;fl(A,Z=>{n(Z,U)})}}}return l!==e&&void 0!==e.providers}function fl(e,n){for(let r of e)zr(r)&&(r=r.\u0275providers),Array.isArray(r)?fl(r,n):n(r)}const Ts=qt({provide:String,useValue:qt});function pl(e){return null!==e&&"object"==typeof e&&Ts in e}function ws(e){return"function"==typeof e}const Oa=new Xt(""),gl={},ai={};let fa;function hs(){return void 0===fa&&(fa=new Bo),fa}class wo{}class Us extends wo{get destroyed(){return this._destroyed}constructor(n,r,o,l){super(),this.parent=r,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ss(n,m=>this.processProvider(m)),this.records.set(Sa,bo(void 0,this)),l.has("environment")&&this.records.set(wo,bo(void 0,this));const d=this.records.get(Oa);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ra,br,or.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ue(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=Ur(this),o=qn(void 0);try{return n()}finally{Ur(r),qn(o)}}get(n,r=vi,o=or.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Vr))return n[Vr](this);o=He(o);const d=Ur(this),m=qn(void 0);try{if(!(o&or.SkipSelf)){let A=this.records.get(n);if(void 0===A){const U=function vl(e){return"function"==typeof e||"object"==typeof e&&e instanceof Xt}(n)&&Di(n);A=U&&this.injectableDefInScope(U)?bo(Qs(n),gl):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(o&or.Self?hs():this.parent).get(n,r=o&or.Optional&&r===vi?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[j]=y[j]||[]).unshift($e(n)),d)throw y;return function Qt(e,n,r,o){const l=e[j];throw n[Ee]&&l.unshift(n[Ee]),e.message=function jt(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=$e(n);if(Array.isArray(n))l=n.map($e).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let y=n[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):$e(y)))}l=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace(Y,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[j]=null,e}(y,n,"R3InjectorError",this.source)}throw y}finally{qn(m),Ur(d)}}resolveInjectorInitializers(){const n=ue(null),r=Ur(this),o=qn(void 0);try{const d=this.get(Es,br,or.Self);for(const m of d)m()}finally{Ur(r),qn(o),ue(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push($e(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(n){let r=ws(n=nt(n))?n:nt(n&&n.provide);const o=function ml(e){return pl(e)?bo(void 0,e.useValue):bo(fs(e),gl)}(n);if(!ws(n)&&!0===n.multi){let l=this.records.get(r);l||(l=bo(void 0,gl,!0),l.factory=()=>yt(l.multi),this.records.set(r,l)),r=n,l.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=ue(null);try{return r.value===gl&&(r.value=ai,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Ys(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ue(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=nt(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Qs(e){const n=Di(e),r=null!==n?n.factory:Ir(e);if(null!==r)return r;if(e instanceof Xt)throw new ct(204,!1);if(e instanceof Function)return function Wl(e){if(e.length>0)throw new ct(204,!1);const r=function H(e){return e&&(e[Ke]||e[mt])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ct(204,!1)}function fs(e,n,r){let o;if(ws(e)){const l=nt(e);return Ir(l)||Qs(l)}if(pl(e))o=()=>nt(e.useValue);else if(function xa(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...yt(e.deps||[]));else if(function qs(e){return!(!e||!e.useExisting)}(e))o=()=>$(nt(e.useExisting));else{const l=nt(e&&(e.useClass||e.provide));if(!function bs(e){return!!e.deps}(e))return Ir(l)||Qs(l);o=()=>new l(...yt(e.deps))}return o}function bo(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Ss(e,n){for(const r of e)Array.isArray(r)?Ss(r,n):r&&zr(r)?Ss(r.\u0275providers,n):n(r)}function is(e,n){e instanceof Us&&e.assertNotDestroyed();const o=Ur(e),l=qn(void 0);try{return n()}finally{Ur(o),qn(l)}}function Na(){return void 0!==cs()||null!=function wr(){return Kn}()}const Lr=0,mn=1,On=2,Xr=3,_i=4,Zr=5,Bi=6,ps=7,hi=8,Zi=9,Rs=10,vr=11,gs=12,Ps=13,ka=14,fi=15,Wr=16,Js=17,Ms=18,yl=19,Gl=20,eo=21,_l=22,os=23,yr=25,Kl=1,ss=7,Il=9,Ii=10;var ql=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ql||{});function lo(e){return Array.isArray(e)&&"object"==typeof e[Kl]}function mo(e){return Array.isArray(e)&&!0===e[Kl]}function El(e){return!!(4&e.flags)}function xs(e){return e.componentOffset>-1}function Cl(e){return!(1&~e.flags)}function Lo(e){return!!e.template}function Dl(e){return!!(512&e[On])}class ji{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Bs(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function vs(){return Wo}function Wo(e){return e.type.prototype.ngOnChanges&&(e.setInput=ta),xc}function xc(){const e=Eu(this),n=e?.current;if(n){const r=e.previous;if(r===Xi)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function ta(e,n,r,o,l){const d=this.declaredInputs[o],m=Eu(e)||function Mp(e,n){return e[_h]=n}(e,{previous:Xi,current:null}),y=m.current||(m.current={}),A=m.previous,U=A[d];y[d]=new ji(U&&U.currentValue,r,A===Xi),Bs(e,n,l,r)}vs.ngInherit=!0;const _h="__ngSimpleChanges__";function Eu(e){return e[_h]||null}const vo=function(e,n,r){};let Ql=!1;function ei(e){for(;Array.isArray(e);)e=e[Lr];return e}function ys(e,n){return ei(n[e])}function yo(e,n){return ei(n[e.index])}function La(e,n){return e.data[n]}function Yl(e,n){return e[n]}function So(e,n){const r=n[e];return lo(r)?r:r[Lr]}function pd(e){return!(128&~e[On])}function Ro(e,n){return null==n?null:e[n]}function Jl(e){e[Js]=0}function Va(e){1024&e[On]||(e[On]|=1024,pd(e)&&ec(e))}function Zl(e){return!!(9216&e[On]||e[os]?.dirty)}function co(e){e[Rs].changeDetectionScheduler?.notify(1),Zl(e)?ec(e):64&e[On]&&(function fd(){return Ql}()?(e[On]|=1024,ec(e)):e[Rs].changeDetectionScheduler?.notify())}function ec(e){e[Rs].changeDetectionScheduler?.notify();let n=Ua(e);for(;null!==n&&!(8192&n[On])&&(n[On]|=8192,pd(n));)n=Ua(n)}function js(e,n){if(!(256&~e[On]))throw new ct(911,!1);null===e[eo]&&(e[eo]=[]),e[eo].push(n)}function Ua(e){const n=e[Xr];return mo(n)?n[Xr]:n}const lr={lFrame:Lc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Du(){return lr.bindingsEnabled}function _s(){return null!==lr.skipHydrationRootTNode}function Jt(){return lr.lFrame.lView}function Fr(){return lr.lFrame.tView}function kc(e){return lr.lFrame.contextLView=e,e[hi]}function wh(e){return lr.lFrame.contextLView=null,e}function ti(){let e=Tu();for(;null!==e&&64===e.type;)e=e.parent;return e}function Tu(){return lr.lFrame.currentTNode}function Po(e,n){const r=lr.lFrame;r.currentTNode=e,r.isParent=n}function ma(){return lr.lFrame.isParent}function wu(){lr.lFrame.isParent=!1}function Ei(){return lr.lFrame.bindingIndex++}function kp(e,n){const r=lr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ru(n)}function Ru(e){lr.lFrame.currentDirectiveIndex=e}function ya(){return lr.lFrame.currentQueryIndex}function Pu(e){lr.lFrame.currentQueryIndex=e}function bh(e){const n=e[mn];return 2===n.type?n.declTNode:1===n.type?e[Zr]:null}function Mu(e,n,r){if(r&or.SkipSelf){let l=n,d=e;for(;!(l=l.parent,null!==l||r&or.Host||(l=bh(d),null===l||(d=d[ka],10&l.type))););if(null===l)return!1;n=l,e=d}const o=lr.lFrame=ic();return o.currentTNode=n,o.lView=e,!0}function Fc(e){const n=ic(),r=e[mn];lr.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function ic(){const e=lr.lFrame,n=null===e?null:e.child;return null===n?Lc(e):n}function Lc(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function xu(){const e=lr.lFrame;return lr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ou=xu;function Vc(){const e=xu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vo(){return lr.lFrame.selectedIndex}function Ba(e){lr.lFrame.selectedIndex=e}function Ti(){const e=lr.lFrame;return La(e.tView,e.selectedIndex)}let Mh=!0;function ra(){return Mh}function Mo(e){Mh=e}function Sl(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:A,ngAfterViewChecked:U,ngOnDestroy:Z}=d;m&&(e.contentHooks??=[]).push(-r,m),y&&((e.contentHooks??=[]).push(r,y),(e.contentCheckHooks??=[]).push(r,y)),A&&(e.viewHooks??=[]).push(-r,A),U&&((e.viewHooks??=[]).push(r,U),(e.viewCheckHooks??=[]).push(r,U)),null!=Z&&(e.destroyHooks??=[]).push(r,Z)}}function Rl(e,n,r){Cd(e,n,3,r)}function $c(e,n,r,o){(3&e[On])===r&&Cd(e,n,r,o)}function Bc(e,n){let r=e[On];(3&r)===n&&(r&=16383,r+=1,e[On]=r)}function Cd(e,n,r,o){const d=o??-1,m=n.length-1;let y=0;for(let A=void 0!==o?65535&e[Js]:0;A<m;A++)if("number"==typeof n[A+1]){if(y=n[A],null!=o&&y>=o)break}else n[A]<0&&(e[Js]+=65536),(y<d||-1==d)&&(Lp(e,r,n,A),e[Js]=(4294901760&e[Js])+A+2),A++}function oc(e,n){vo(4,e,n);const r=ue(null);try{n.call(e)}finally{ue(r),vo(5,e,n)}}function Lp(e,n,r,o){const l=r[o]<0,d=r[o+1],y=e[l?-r[o]:r[o]];l?e[On]>>14<e[Js]>>16&&(3&e[On])===n&&(e[On]+=16384,oc(y,d)):oc(y,d)}const Pl=-1;class ja{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function zc(e){return e!==Pl}function ac(e){return 32767&e}function lc(e,n){let r=function Nh(e){return e>>16}(e),o=n;for(;r>0;)o=o[ka],r--;return o}let cc=!0;function uc(e){const n=cc;return cc=e,n}const h=255,p=5;let D=0;const K={};function ht(e,n){const r=un(e,n);if(-1!==r)return r;const o=n[mn];o.firstCreatePass&&(e.injectorIndex=n.length,kt(o.data,e),kt(n,null),kt(o.blueprint,null));const l=jn(e,n),d=e.injectorIndex;if(zc(l)){const m=ac(l),y=lc(l,n),A=y[mn].data;for(let U=0;U<8;U++)n[d+U]=y[m+U]|A[m+U]}return n[d+8]=l,d}function kt(e,n){e.push(0,0,0,0,0,0,0,0,n)}function un(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function jn(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=n;for(;null!==l;){if(o=Fh(l),null===o)return Pl;if(r++,l=l[ka],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Pl}function rr(e,n,r){!function ge(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Ai)&&(o=r[Ai]),null==o&&(o=r[Ai]=D++);const l=o&h;n.data[e+(l>>p)]|=1<<l}(e,n,r)}function Ko(e,n,r){if(r&or.Optional||void 0!==e)return e;_o()}function _a(e,n,r,o){if(r&or.Optional&&void 0===o&&(o=null),!(r&(or.Self|or.Host))){const l=e[Zi],d=qn(void 0);try{return l?l.get(n,o,r&or.Optional):ho(n,o,r&or.Optional)}finally{qn(d)}}return Ko(o,0,r)}function Ia(e,n,r,o=or.Default,l){if(null!==e){if(2048&n[On]&&!(o&or.Self)){const m=function Qy(e,n,r,o,l){let d=e,m=n;for(;null!==d&&null!==m&&2048&m[On]&&!(512&m[On]);){const y=Hc(d,m,r,o|or.Self,K);if(y!==K)return y;let A=d.parent;if(!A){const U=m[Gl];if(U){const Z=U.get(r,K,o);if(Z!==K)return Z}A=Fh(m),m=m[ka]}d=A}return l}(e,n,r,o,K);if(m!==K)return m}const d=Hc(e,n,r,o,K);if(d!==K)return d}return _a(n,r,o,l)}function Hc(e,n,r,o,l){const d=function Wa(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ai)?e[Ai]:void 0;return"number"==typeof n?n>=0?n&h:Fu:n}(r);if("function"==typeof d){if(!Mu(n,e,o))return o&or.Host?Ko(l,0,o):_a(n,r,o,l);try{let m;if(m=d(o),null!=m||o&or.Optional)return m;_o()}finally{Ou()}}else if("number"==typeof d){let m=null,y=un(e,n),A=Pl,U=o&or.Host?n[fi][Zr]:null;for((-1===y||o&or.SkipSelf)&&(A=-1===y?jn(e,n):n[y+8],A!==Pl&&ku(o,!1)?(m=n[mn],y=ac(A),n=lc(A,n)):y=-1);-1!==y;){const Z=n[mn];if(Wc(d,y,Z.data)){const ye=Ha(y,n,r,m,o,U);if(ye!==K)return ye}A=n[y+8],A!==Pl&&ku(o,n[mn].data[y+8]===U)&&Wc(d,y,n)?(m=Z,y=ac(A),n=lc(A,n)):y=-1}}return l}function Ha(e,n,r,o,l,d){const m=n[mn],y=m.data[e+8],Z=Ml(y,m,r,null==o?xs(y)&&cc:o!=m&&!!(3&y.type),l&or.Host&&d===y);return null!==Z?zs(n,m,Z,y):K}function Ml(e,n,r,o,l){const d=e.providerIndexes,m=n.data,y=1048575&d,A=e.directiveStart,Z=d>>20,it=l?y+Z:e.directiveEnd;for(let Ct=o?y:y+Z;Ct<it;Ct++){const Pt=m[Ct];if(Ct<A&&r===Pt||Ct>=A&&Pt.type===r)return Ct}if(l){const Ct=m[A];if(Ct&&Lo(Ct)&&Ct.type===r)return A}return null}function zs(e,n,r,o){let l=e[r];const d=n.data;if(function Dd(e){return e instanceof ja}(l)){const m=l;m.resolving&&function ro(e,n){throw n&&n.join(" > "),new ct(-200,e)}(function Sr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ur(e)}(d[r]));const y=uc(m.canSeeViewProviders);m.resolving=!0;const U=m.injectImpl?qn(m.injectImpl):null;Mu(e,o,or.Default);try{l=e[r]=m.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function Uc(e,n,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(o){const m=Wo(n);(r.preOrderHooks??=[]).push(e,m),(r.preOrderCheckHooks??=[]).push(e,m)}l&&(r.preOrderHooks??=[]).push(0-e,l),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==U&&qn(U),uc(y),m.resolving=!1,Ou()}}return l}function Wc(e,n,r){return!!(r[n+(e>>p)]&1<<e)}function ku(e,n){return!(e&or.Self||e&or.Host&&n)}class Pi{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Ia(this._tNode,this._lView,n,He(o),r)}}function Fu(){return new Pi(ti(),Jt())}function kh(e){return fn(()=>{const n=e.prototype.constructor,r=n[no]||Ad(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[no]||Ad(l);if(d&&d!==r)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Ad(e){return dt(e)?()=>{const n=Ad(nt(e));return n&&n()}:Ir(e)}function Fh(e){const n=e[mn],r=n.type;return 2===r?n.declTNode:1===r?e[Zr]:null}function Lh(e){return function Gr(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const d=r[l];if(Qi(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(d===n)return r[l+1];l+=2}}}return null}(ti(),e)}function Tm(e,n=null,r=null,o){const l=Uh(e,n,r,o);return l.resolveInjectorInitializers(),l}function Uh(e,n=null,r=null,o,l=new Set){const d=[r||br,Ma(e)];return o=o||("object"==typeof e?void 0:$e(e)),new Us(d,n||hs(),o||null,l)}let Hs=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=vi;static#t=this.NULL=new Bo;static create(r,o){if(Array.isArray(r))return Tm({name:""},o,r,"");{const l=r.name??"";return Tm({name:l},r.parent,r.providers,l)}}static#n=this.\u0275prov=pr({token:e,providedIn:"any",factory:()=>$(Sa)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function $h(e){return e.ngOriginalError}class Ca{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&$h(n);for(;r&&$h(r);)r=$h(r);return r||null}}const Bh=new Xt("",{providedIn:"root",factory:()=>Ae(Ca).handleError.bind(void 0)});let dc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=hc;static#t=this.__NG_ENV_ID__=r=>r}return e})();class Vu extends dc{constructor(n){super(),this._lView=n}onDestroy(n){return js(this._lView,n),()=>function tc(e,n){if(null===e[eo])return;const r=e[eo].indexOf(n);-1!==r&&e[eo].splice(r,1)}(this._lView,n)}}function hc(){return new Vu(Jt())}function e_(){return fc(ti(),Jt())}function fc(e,n){return new Kc(yo(e,n))}let Kc=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=e_}return e})();function zh(e){return e instanceof Kc?e.nativeElement:e}function jp(e){return n=>{setTimeout(e,void 0,n)}}const Ga=class Bp extends hr.B{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,Na()&&(this.destroyRef=Ae(dc,{optional:!0})??void 0)}emit(n){const r=ue(null);try{super.next(n)}finally{ue(r)}}subscribe(n,r,o){let l=n,d=r||(()=>null),m=o;if(n&&"object"==typeof n){const A=n;l=A.next?.bind(A),d=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(d=jp(d),l&&(l=jp(l)),m&&(m=jp(m)));const y=super.subscribe({next:l,error:d,complete:m});return n instanceof en.yU&&n.add(y),y}};function zp(){return this._results[Symbol.iterator]()}class Rd{static#e=Symbol.iterator;get changes(){return this._changes??=new Ga}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Rd.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=zp)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function Er(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function xi(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=n[o];if(r&&(l=r(l),d=r(d)),d!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Hh(e){return!(128&~e.flags)}const Wh=new Map;let Pm=0;const Kh="__ngContext__";function Uo(e,n){lo(n)?(e[Kh]=n[yl],function t_(e){Wh.set(e[yl],e)}(n)):e[Kh]=n}function Lm(e){return Vm(e[gs])}function Xh(e){return Vm(e[_i])}function Vm(e){for(;null!==e&&!mo(e);)e=e[_i];return e}let tg;function ng(e){tg=e}const nf=new Xt("",{providedIn:"root",factory:()=>l_}),l_="ng",rf=new Xt(""),sf=new Xt("",{providedIn:"platform",factory:()=>"unknown"}),u_=new Xt("",{providedIn:"root",factory:()=>function gc(){if(void 0!==tg)return tg;if(typeof document<"u")return document;throw new ct(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cf=()=>null;function Od(e,n,r=!1){return cf(e,n,r)}const qm=new Xt("",{providedIn:"root",factory:()=>!1});let Vd;function mg(e){return function Hu(){if(void 0===Vd&&(Vd=null,_t.trustedTypes))try{Vd=_t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vd}()?.createScriptURL(e)||e}class Wu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$t})`}}function vc(e){return e instanceof Wu?e.changingThisBreaksApplicationSecurity:e}function Gu(e,n){const r=function m_(e){return e instanceof Wu&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${$t})`)}return r===n}const ev=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _c=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_c||{});function Ef(e){const n=Ud();return n?n.sanitize(_c.URL,e)||"":Gu(e,"URL")?vc(e):function vg(e){return(e=String(e)).match(ev)?e:"unsafe:"+e}(ur(e))}function Cf(e){const n=Ud();if(n)return mg(n.sanitize(_c.RESOURCE_URL,e)||"");if(Gu(e,"ResourceURL"))return mg(vc(e));throw new ct(904,!1)}function Dg(e,n,r){return function cv(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Cf:Ef}(n,r)(e)}function Ud(){const e=Jt();return e&&e[Rs].sanitizer}const Af=/^>|^->|<!--|-->|--!>|<!-$/g,Tf=/(<|>)/g,dv="\u200b$1\u200b";function Os(e){return e instanceof Function?e():e}var Ya=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ya||{});let kl;function iu(e,n){return kl(e,n)}function Xu(e,n,r,o,l){if(null!=o){let d,m=!1;mo(o)?d=o:lo(o)&&(m=!0,o=o[Lr]);const y=ei(o);0===e&&null!==r?null==l?Dv(n,r,y):su(n,r,y,l||null,!0):1===e&&null!==r?su(n,r,y,l||null,!0):2===e?function Hd(e,n,r){const o=xg(e,n);o&&function P_(e,n,r,o){e.removeChild(n,r,o)}(e,o,n,r)}(n,y,m):3===e&&n.destroyNode(y),null!=d&&function aC(e,n,r,o,l){const d=r[ss];d!==ei(r)&&Xu(n,e,o,d,l);for(let y=Ii;y<r.length;y++){const A=r[y];xf(A[mn],A,e,n,o,d)}}(n,e,d,r,l)}}function Ja(e,n){return e.createComment(function qu(e){return e.replace(Af,n=>n.replace(Tf,dv))}(n))}function Rf(e,n,r){return e.createElement(n,r)}function _v(e,n){n[Rs].changeDetectionScheduler?.notify(1),xf(e,n,n[vr],2,null,null)}function Iv(e,n){const r=e[Il],o=r.indexOf(n);r.splice(o,1)}function zd(e,n){if(e.length<=Ii)return;const r=Ii+n,o=e[r];if(o){const l=o[Wr];null!==l&&l!==e&&Iv(l,o),n>0&&(e[r-1][_i]=o[_i]);const d=ri(e,Ii+n);!function T_(e,n){_v(e,n),n[Lr]=null,n[Zr]=null}(o[mn],o);const m=d[Ms];null!==m&&m.detachView(d[mn]),o[Xr]=null,o[_i]=null,o[On]&=-129}return o}function Pf(e,n){if(!(256&n[On])){const r=n[vr];r.destroyNode&&xf(e,n,r,3,null,null),function b_(e){let n=e[gs];if(!n)return Pg(e[mn],e);for(;n;){let r=null;if(lo(n))r=n[gs];else{const o=n[Ii];o&&(r=o)}if(!r){for(;n&&!n[_i]&&n!==e;)lo(n)&&Pg(n[mn],n),n=n[Xr];null===n&&(n=e),lo(n)&&Pg(n[mn],n),r=n&&n[_i]}n=r}}(n)}}function Pg(e,n){if(256&n[On])return;const r=ue(null);try{n[On]&=-129,n[On]|=256,n[os]&&function tt(e){if(lt(e),Pe(e))for(let n=0;n<e.producerNode.length;n++)xe(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[os]),function Mg(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=n[r[o]];if(!(l instanceof ja)){const d=r[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=l[d[m]],A=d[m+1];vo(4,y,A);try{A.call(y)}finally{vo(5,y,A)}}else{vo(4,l,d);try{d.call(l)}finally{vo(5,l,d)}}}}}(e,n),function Qu(e,n){const r=e.cleanup,o=n[ps];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const m=r[d+3];m>=0?o[m]():o[-m].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(n[ps]=null);const l=n[eo];if(null!==l){n[eo]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(e,n),1===n[mn].type&&n[vr].destroy();const o=n[Wr];if(null!==o&&mo(n[Xr])){o!==n[Xr]&&Iv(o,n);const l=n[Ms];null!==l&&l.detachView(e)}!function n_(e){Wh.delete(e[yl])}(n)}finally{ue(r)}}function Ev(e,n,r){return function Cv(e,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[Lr];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=e.data[o.directiveStart+l];if(d===Ui.None||d===Ui.Emulated)return null}return yo(o,r)}}(e,n.parent,r)}function su(e,n,r,o,l){e.insertBefore(n,r,o,l)}function Dv(e,n,r){e.appendChild(n,r)}function Av(e,n,r,o,l){null!==o?su(e,n,r,o,l):Dv(e,n,r)}function xg(e,n){return e.parentNode(n)}function M_(e,n,r){return wv(e,n,r)}let Og,wv=function Tv(e,n,r){return 40&e.type?yo(e,r):null};function Mf(e,n,r,o){const l=Ev(e,o,n),d=n[vr],y=M_(o.parent||n[Zr],o,n);if(null!=l)if(Array.isArray(r))for(let A=0;A<r.length;A++)Av(d,l,r[A],y,!1);else Av(d,l,r,y,!1);void 0!==Og&&Og(d,o,n,r,l)}function Yu(e,n){if(null!==n){const r=n.type;if(3&r)return yo(n,e);if(4&r)return Ng(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return Yu(e,o);{const l=e[n.index];return mo(l)?Ng(-1,l):ei(l)}}if(32&r)return iu(n,e)()||ei(e[n.index]);{const o=Fl(e,n);return null!==o?Array.isArray(o)?o[0]:Yu(Ua(e[fi]),o):Yu(e,n.next)}}return null}function Fl(e,n){return null!==n?e[fi][Zr].projection[n.projection]:null}function Ng(e,n){const r=Ii+e+1;if(r<n.length){const o=n[r],l=o[mn].firstChild;if(null!==l)return Yu(o,l)}return n[ss]}function kg(e,n,r,o,l,d,m){for(;null!=r;){const y=o[r.index],A=r.type;if(m&&0===n&&(y&&Uo(ei(y),o),r.flags|=2),32&~r.flags)if(8&A)kg(e,n,r.child,o,l,d,!1),Xu(n,e,l,y,d);else if(32&A){const U=iu(r,o);let Z;for(;Z=U();)Xu(n,e,l,Z,d);Xu(n,e,l,y,d)}else 16&A?Sv(e,n,o,r,l,d):Xu(n,e,l,y,d);r=m?r.projectionNext:r.next}}function xf(e,n,r,o,l,d){kg(r,o,e.firstChild,n,l,d,!1)}function Sv(e,n,r,o,l,d){const m=r[fi],A=m[Zr].projection[o.projection];if(Array.isArray(A))for(let U=0;U<A.length;U++)Xu(n,e,l,A[U],d);else{let U=A;const Z=m[Xr];Hh(o)&&(U.flags|=128),kg(e,n,U,Z,l,d,!0)}}function Pv(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function N_(e,n,r){const{mergedAttrs:o,classes:l,styles:d}=r;null!==o&&To(e,n,o),null!==l&&Pv(e,n,l),null!==d&&function Rv(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const Nr={};function k_(e=1){F_(Fr(),Jt(),Vo()+e,!1)}function F_(e,n,r,o){if(!o)if(3&~n[On]){const d=e.preOrderHooks;null!==d&&$c(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Rl(n,d,r)}Ba(r)}function au(e,n=or.Default){const r=Jt();return null===r?$(e,n):Ia(ti(),r,nt(e),n)}function Fg(){throw new Error("invalid")}function L_(e,n,r,o,l,d){const m=ue(null);try{let y=null;l&Io.SignalBased&&(y=n[o][Ve]),null!==y&&void 0!==y.transformFn&&(d=y.transformFn(d)),l&Io.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,y,d,r,o):Bs(n,y,o,d)}finally{ue(m)}}function Lg(e,n,r,o,l,d,m,y,A,U,Z){const ye=n.blueprint.slice();return ye[Lr]=l,ye[On]=204|o,(null!==U||e&&2048&e[On])&&(ye[On]|=2048),Jl(ye),ye[Xr]=ye[ka]=e,ye[hi]=r,ye[Rs]=m||e&&e[Rs],ye[vr]=y||e&&e[vr],ye[Zi]=A||e&&e[Zi]||null,ye[Zr]=d,ye[yl]=function Mm(){return Pm++}(),ye[Bi]=Z,ye[Gl]=U,ye[fi]=2==n.type?e[fi]:ye,ye}function Ic(e,n,r,o,l){let d=e.data[n];if(null===d)d=function Ju(e,n,r,o,l){const d=Tu(),m=ma(),A=e.data[n]=function cn(e,n,r,o,l,d){let m=n?n.injectorIndex:-1,y=0;return _s()&&(y|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,r,n,o,l);return null===e.firstChild&&(e.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(e,n,r,o,l),function Np(){return lr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=l;const m=function $a(){const e=lr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Po(d,!0),d}function c(e,n,r,o){if(0===r)return-1;const l=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function t(e,n,r,o,l){const d=Vo(),m=2&o;try{Ba(-1),m&&n.length>yr&&F_(e,n,yr,!1),vo(m?2:0,l),r(o,l)}finally{Ba(d),vo(m?3:1,l)}}function i(e,n,r){if(El(n)){const o=ue(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const y=e.data[m];y.contentQueries&&y.contentQueries(1,r[m],m)}}finally{ue(o)}}}function s(e,n,r){Du()&&(function St(e,n,r,o){const l=r.directiveStart,d=r.directiveEnd;xs(r)&&function Mv(e,n,r){const o=yo(n,e),l=f(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const y=Ec(e,Lg(e,l,null,m,o,n,null,e[Rs].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=y}(n,r,e.data[l+r.componentOffset]),e.firstCreatePass||ht(r,n),Uo(o,n);const m=r.initialInputs;for(let y=l;y<d;y++){const A=e.data[y],U=zs(n,e,y,r);Uo(U,n),null!==m&&ls(0,y-l,U,A,0,m),Lo(A)&&(So(r.index,n)[hi]=zs(n,e,y,r))}}(e,n,r,yo(r,n)),!(64&~r.flags)&&Lt(e,n,r))}function u(e,n,r=yo){const o=n.localNames;if(null!==o){let l=n.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],y=-1===m?r(n,e):e[m];e[l++]=y}}}function f(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=v(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function v(e,n,r,o,l,d,m,y,A,U,Z){const ye=yr+o,it=ye+l,Ct=function w(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Nr);return r}(ye,it),Pt="function"==typeof U?U():U;return Ct[mn]={type:e,blueprint:Ct,template:r,queries:null,viewQuery:y,declTNode:n,data:Ct.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:it,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:Pt,incompleteFirstPass:!1,ssrId:Z}}let ce=()=>null;function In(e,n,r,o,l){for(let d in n){if(!n.hasOwnProperty(d))continue;const m=n[d];if(void 0===m)continue;o??={};let y,A=Io.None;Array.isArray(m)?(y=m[0],A=m[1]):y=m;let U=d;if(null!==l){if(!l.hasOwnProperty(d))continue;U=l[d]}0===e?pn(o,r,U,y,A):pn(o,r,U,y)}return o}function pn(e,n,r,o,l){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==l&&d.push(l)}function Vn(e,n,r,o,l,d,m,y){const A=yo(n,r);let Z,U=n.inputs;!y&&null!=U&&(Z=U[o])?(Xd(e,r,Z,o,l),xs(n)&&function xr(e,n){const r=So(n,e);16&r[On]||(r[On]|=64)}(r,n.index)):3&n.type&&(o=function fr(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=m?m(l,n.value||"",o):l,d.setProperty(A,o,l))}function Dt(e,n,r,o){if(Du()){const l=null===o?null:{"":-1},d=function Ll(e,n){const r=e.directiveRegistry;let o=null,l=null;if(r)for(let d=0;d<r.length;d++){const m=r[d];if(Ze(n,m.selectors,!1))if(o||(o=[]),Lo(m))if(null!==m.findHostDirectiveDefs){const y=[];l=l||new Map,m.findHostDirectiveDefs(m,y,l),o.unshift(...y,m),lu(e,n,y.length)}else o.unshift(m),lu(e,n,0);else l=l||new Map,m.findHostDirectiveDefs?.(m,o,l),o.push(m)}return null===o?null:[o,l]}(e,r);let m,y;null===d?m=y=null:[m,y]=d,null!==m&&Qe(e,n,r,m,l,y),l&&function V_(e,n,r){if(n){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const d=r[n[l+1]];if(null==d)throw new ct(-301,!1);o.push(n[l],d)}}}(r,o,l)}r.mergedAttrs=Yi(r.mergedAttrs,r.attrs)}function Qe(e,n,r,o,l,d){for(let U=0;U<o.length;U++)rr(ht(r,n),e,o[U].type);!function Gd(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let U=0;U<o.length;U++){const Z=o[U];Z.providersResolver&&Z.providersResolver(Z)}let m=!1,y=!1,A=c(e,n,o.length,null);for(let U=0;U<o.length;U++){const Z=o[U];r.mergedAttrs=Yi(r.mergedAttrs,Z.hostAttrs),Vg(e,r,n,A,Z),Wd(A,Z,l),null!==Z.contentQueries&&(r.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(r.flags|=64);const ye=Z.type.prototype;!m&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),m=!0),!y&&(ye.ngOnChanges||ye.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),y=!0),A++}!function er(e,n,r){const l=n.directiveEnd,d=e.data,m=n.attrs,y=[];let A=null,U=null;for(let Z=n.directiveStart;Z<l;Z++){const ye=d[Z],it=r?r.get(ye):null,Pt=it?it.outputs:null;A=In(0,ye.inputs,Z,A,it?it.inputs:null),U=In(1,ye.outputs,Z,U,Pt);const Zt=null===A||null===m||Ns(n)?null:U_(A,Z,m);y.push(Zt)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=8),A.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=A,n.outputs=U}(e,r,d)}function Lt(e,n,r){const o=r.directiveStart,l=r.directiveEnd,d=r.index,m=function _d(){return lr.lFrame.currentDirectiveIndex}();try{Ba(d);for(let y=o;y<l;y++){const A=e.data[y],U=n[y];Ru(y),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&ft(A,U)}}finally{Ba(-1),Ru(m)}}function ft(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function lu(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function Wd(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;Lo(n)&&(r[""]=e)}}function Vg(e,n,r,o,l){e.data[o]=l;const d=l.factory||(l.factory=Ir(l.type)),m=new ja(d,Lo(l),au);e.blueprint[o]=m,r[o]=m,function vt(e,n,r,o,l){const d=l.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const y=~n.index;(function bt(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=y&&m.push(y),m.push(r,o,d)}}(e,n,o,c(e,r,l.hostVars,Nr),l)}function Za(e,n,r,o,l,d){const m=yo(e,n);!function el(e,n,r,o,l,d,m){if(null==d)e.removeAttribute(n,l,r);else{const y=null==m?ur(d):m(d,o||"",l);e.setAttribute(n,l,y,r)}}(n[vr],m,d,e.value,r,o,l)}function ls(e,n,r,o,l,d){const m=d[n];if(null!==m)for(let y=0;y<m.length;)L_(o,r,m[y++],m[y++],m[y++],m[y++])}function U_(e,n,r){let o=null,l=0;for(;l<r.length;){const d=r[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const m=e[d];for(let y=0;y<m.length;y+=3)if(m[y]===n){o.push(d,m[y+1],m[y+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function Zu(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function xv(e,n){const r=e.contentQueries;if(null!==r){const o=ue(null);try{for(let l=0;l<r.length;l+=2){const m=r[l+1];if(-1!==m){const y=e.data[m];Pu(r[l]),y.contentQueries(2,n[m],m)}}}finally{ue(o)}}}function Ec(e,n){return e[gs]?e[Ps][_i]=n:e[gs]=n,e[Ps]=n,n}function Ug(e,n,r){Pu(0);const o=ue(null);try{n(e,r)}finally{ue(o)}}function Kd(e){return e[ps]||(e[ps]=[])}function qd(e){return e.cleanup||(e.cleanup=[])}function ed(e,n){const r=e[Zi],o=r?r.get(Ca,null):null;o&&o.handleError(n)}function Xd(e,n,r,o,l){for(let d=0;d<r.length;){const m=r[d++],y=r[d++],A=r[d++];L_(e.data[m],n[m],o,y,A,l)}}function Ov(e,n){const r=So(n,e),o=r[mn];!function Nv(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const l=r[Lr];null!==l&&null===r[Bi]&&(r[Bi]=Od(l,r[Zi])),$g(o,r,r[hi])}function $g(e,n,r){Fc(n);try{const o=e.viewQuery;null!==o&&Ug(1,o,r);const l=e.template;null!==l&&t(e,n,l,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ms]?.finishViewCreation(e),e.staticContentQueries&&xv(e,n),e.staticViewQueries&&Ug(2,e.viewQuery,r);const d=e.components;null!==d&&function kv(e,n){for(let r=0;r<n.length;r++)Ov(e,n[r])}(n,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[On]&=-5,Vc()}}function cu(e,n){return!n||null===n.firstChild||Hh(e)}function Qd(e,n,r,o=!0){const l=n[mn];if(function S_(e,n,r,o){const l=Ii+o,d=r.length;o>0&&(r[l-1][_i]=n),o<d-Ii?(n[_i]=r[l],ar(r,Ii+o,n)):(r.push(n),n[_i]=null),n[Xr]=r;const m=n[Wr];null!==m&&r!==m&&function R_(e,n){const r=e[Il];n[fi]!==n[Xr][Xr][fi]&&(e[On]|=ql.HasTransplantedViews),null===r?e[Il]=[n]:r.push(n)}(m,n);const y=n[Ms];null!==y&&y.insertView(e),co(n),n[On]|=128}(l,n,e,r),o){const m=Ng(r,e),y=n[vr],A=xg(y,e[ss]);null!==A&&function w_(e,n,r,o,l,d){o[Lr]=l,o[Zr]=n,xf(e,o,r,1,l,d)}(l,e[Zr],y,n,A,m)}const d=n[Bi];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function uu(e,n,r,o,l=!1){for(;null!==r;){const d=n[r.index];null!==d&&o.push(ei(d)),mo(d)&&kf(d,o);const m=r.type;if(8&m)uu(e,n,r.child,o);else if(32&m){const y=iu(r,n);let A;for(;A=y();)o.push(A)}else if(16&m){const y=Fl(n,r);if(Array.isArray(y))o.push(...y);else{const A=Ua(n[fi]);uu(A[mn],A,y,o,!0)}}r=l?r.projectionNext:r.next}return o}function kf(e,n){for(let r=Ii;r<e.length;r++){const o=e[r],l=o[mn].firstChild;null!==l&&uu(o[mn],o,l,n)}e[ss]!==e[Lr]&&n.push(e[ss])}let Xo=[];const Lv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ec(e.lView)},consumerOnSignalRead(){this.lView[os]=this}},Vv=100;function Cc(e,n=!0,r=0){const o=e[Rs],l=o.rendererFactory;l.begin?.();try{!function Uv(e,n){du(e,n);let r=0;for(;Zl(e);){if(r===Vv)throw new ct(103,!1);r++,du(e,1)}}(e,r)}catch(m){throw n&&ed(e,m),m}finally{l.end?.(),o.inlineEffectRunner?.flush()}}function Bg(e,n,r,o){const l=n[On];if(!(256&~l))return;n[Rs].inlineEffectRunner?.flush(),Fc(n);let m=null,y=null;(function B_(e){return 2!==e.type})(e)&&(y=function Is(e){return e[os]??function Ff(e){const n=Xo.pop()??Object.create(Lv);return n.lView=e,n}(e)}(n),m=function Be(e){return e&&(e.nextProducerIndex=0),ue(e)}(y));try{Jl(n),function nc(e){return lr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&t(e,n,r,2,o);const A=!(3&~l);if(A){const ye=e.preOrderCheckHooks;null!==ye&&Rl(n,ye,null)}else{const ye=e.preOrderHooks;null!==ye&&$c(n,ye,0,null),Bc(n,0)}if(function jg(e){for(let n=Lm(e);null!==n;n=Xh(n)){if(!(n[On]&ql.HasTransplantedViews))continue;const r=n[Il];for(let o=0;o<r.length;o++){Va(r[o])}}}(n),$v(n,0),null!==e.contentQueries&&xv(e,n),A){const ye=e.contentCheckHooks;null!==ye&&Rl(n,ye)}else{const ye=e.contentHooks;null!==ye&&$c(n,ye,1),Bc(n,1)}!function cC(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)Ba(~l);else{const d=l,m=r[++o],y=r[++o];kp(m,d),y(2,n[d])}}}finally{Ba(-1)}}(e,n);const U=e.components;null!==U&&Lf(n,U,0);const Z=e.viewQuery;if(null!==Z&&Ug(2,Z,o),A){const ye=e.viewCheckHooks;null!==ye&&Rl(n,ye)}else{const ye=e.viewHooks;null!==ye&&$c(n,ye,2),Bc(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[_l]){for(const ye of n[_l])ye();n[_l]=null}n[On]&=-73}catch(A){throw ec(n),A}finally{null!==y&&(function It(e,n){if(ue(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Pe(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)xe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(y,m),function Fv(e){e.lView[os]!==e&&(e.lView=null,Xo.push(e))}(y)),Vc()}}function $v(e,n){for(let r=Lm(e);null!==r;r=Xh(r))for(let o=Ii;o<r.length;o++)zg(r[o],n)}function Bv(e,n,r){zg(So(n,e),r)}function zg(e,n){pd(e)&&du(e,n)}function du(e,n){const o=e[mn],l=e[On],d=e[os];let m=!!(0===n&&16&l);if(m||=!!(64&l&&0===n),m||=!!(1024&l),m||=!(!d?.dirty||!Ge(d)),d&&(d.dirty=!1),e[On]&=-9217,m)Bg(o,e,o.template,e[hi]);else if(8192&l){$v(e,1);const y=o.components;null!==y&&Lf(e,y,1)}}function Lf(e,n,r){for(let o=0;o<n.length;o++)Bv(e,n[o],r)}function hu(e){for(e[Rs].changeDetectionScheduler?.notify();e;){e[On]|=64;const n=Ua(e);if(Dl(e)&&!n)return e;e=n}return null}class Aa{get rootNodes(){const n=this._lView,r=n[mn];return uu(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hi]}set context(n){this._lView[hi]=n}get destroyed(){return!(256&~this._lView[On])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Xr];if(mo(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(zd(n,o),ri(r,o))}this._attachedToViewContainer=!1}Pf(this._lView[mn],this._lView)}onDestroy(n){js(this._lView,n)}markForCheck(){hu(this._cdRefInjectingView||this._lView)}detach(){this._lView[On]&=-129}reattach(){co(this._lView),this._lView[On]|=128}detectChanges(){this._lView[On]|=1024,Cc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_v(this._lView[mn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=n,co(this._lView)}}let nd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Jd}return e})();const Vf=nd,jv=class extends Vf{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const l=function td(e,n,r,o){const l=ue(null);try{const d=n.tView,A=Lg(e,d,r,4096&e[On]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);A[Wr]=e[n.index];const Z=e[Ms];return null!==Z&&(A[Ms]=Z.createEmbeddedView(d)),$g(d,A,r),A}finally{ue(l)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Aa(l)}};function Jd(){return Zd(ti(),Jt())}function Zd(e,n){return 4&e.type?new jv(n,e,fc(e,n)):null}class mu{}class G_{}class Xg{}class q_{resolveComponentFactory(n){throw function K_(e){const n=Error(`No component factory found for ${$e(e)}.`);return n.ngComponent=e,n}(n)}}let Dc=(()=>{class e{static#e=this.NULL=new q_}return e})();class Vl{}let ey=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ty(){const e=Jt(),r=So(ti().index,e);return(lo(r)?r:e)[vr]}()}return e})(),ny=(()=>{class e{static#e=this.\u0275prov=pr({token:e,providedIn:"root",factory:()=>null})}return e})();const Ac={},ry=new Set;function il(e){ry.has(e)||(ry.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Ul(...e){}class Ki{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ga(!1),this.onMicrotaskEmpty=new Ga(!1),this.onStable=new Ga(!1),this.onError=new Ga(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&r,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function X_(){const e="function"==typeof _t.requestAnimationFrame;let n=_t[e?"requestAnimationFrame":"setTimeout"],r=_t[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function lh(e){const n=()=>{!function ah(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(_t,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yf(e),e.isCheckStableRunning=!0,Qf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,l,d,m,y)=>{if(function Q_(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return r.invokeTask(l,d,m,y);try{return Jf(e),r.invokeTask(l,d,m,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&n(),to(e)}},onInvoke:(r,o,l,d,m,y,A)=>{try{return Jf(e),r.invoke(l,d,m,y,A)}finally{e.shouldCoalesceRunChangeDetection&&n(),to(e)}},onHasTask:(r,o,l,d)=>{r.hasTask(l,d),o===l&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,Yf(e),Qf(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(r,o,l,d)=>(r.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ki.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(Ki.isInAngularZone())throw new ct(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,n,Xf,Ul,Ul);try{return d.runTask(m,r,o)}finally{d.cancelTask(m)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const Xf={};function Qf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Jf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function to(e){e._nesting--,Qf(e)}class iy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ga,this.onMicrotaskEmpty=new Ga,this.onStable=new Ga,this.onError=new Ga}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,l){return n.apply(r,o)}}var Tc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Tc||{});const Qg={destroy(){}};function ol(e,n){!n&&function Fo(e){if(!Na())throw new ct(-203,!1)}();const r=n?.injector??Ae(Hs);if(!function oa(e){return"browser"===(e??Ae(Hs)).get(sf)}(r))return Qg;il("NgAfterNextRender");const o=r.get($l),l=o.handler??=new ay,d=n?.phase??Tc.MixedReadWrite,m=()=>{l.unregister(A),y()},y=r.get(dc).onDestroy(m),A=is(r,()=>new Yg(d,()=>{m(),e()}));return l.register(A),{destroy:m}}class Yg{constructor(n,r){this.phase=n,this.callbackFn=r,this.zone=Ae(Ki),this.errorHandler=Ae(Ca,{optional:!0}),Ae(mu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class ay{constructor(){this.executingCallbacks=!1,this.buckets={[Tc.EarlyRead]:new Set,[Tc.Write]:new Set,[Tc.MixedReadWrite]:new Set,[Tc.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let $l=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=pr({token:e,providedIn:"root",factory:()=>new e})}return e})();function sl(e){return!!Qn(e)}function ch(e,n,r){let o=r?e.styles:null,l=r?e.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const y=n[m];"number"==typeof y?d=y:1==d?l=Dn(l,y):2==d&&(o=Dn(o,y+": "+n[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}class uh extends Dc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Dr(n);return new od(r,this.ngModule)}}function em(e){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:r})}return n}class al{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=He(o);const l=this.injector.get(n,Ac,o);return l!==Ac||r===Ac?l:this.parentInjector.get(n,r,o)}}class od extends Xg{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=em(n.inputs);if(null!==r)for(const l of o)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return o}get outputs(){return em(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function ks(e){return e.map(us).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,l){const d=ue(null);try{let m=(l=l||this.ngModule)instanceof wo?l:l?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new al(n,m):n,A=y.get(Vl,null);if(null===A)throw new ct(407,!1);const U=y.get(ny,null),it={rendererFactory:A,sanitizer:U,inlineEffectRunner:null,afterRenderEventManager:y.get($l,null),changeDetectionScheduler:y.get(mu,null)},Ct=A.createRenderer(null,this.componentDef),Pt=this.componentDef.selectors[0][0]||"div",Zt=o?function N(e,n,r,o){const d=o.get(qm,!1)||r===Ui.ShadowDom,m=e.selectRootElement(n,d);return function q(e){ce(e)}(m),m}(Ct,o,this.componentDef.encapsulation,y):Rf(Ct,Pt,function uy(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Pt));let _n=512;this.componentDef.signals?_n|=4096:this.componentDef.onPush||(_n|=16);let Sn=null;null!==Zt&&(Sn=Od(Zt,y,!0));const dn=v(0,null,null,1,0,null,null,null,null,null,null),Ar=Lg(null,dn,null,_n,null,null,it,Ct,y,null,Sn);let ci,Li;Fc(Ar);try{const ts=this.componentDef;let la,bp=null;ts.findHostDirectiveDefs?(la=[],bp=new Map,ts.findHostDirectiveDefs(ts,la,bp),la.push(ts)):la=[ts];const Rw=function hy(e,n){const r=e[mn],o=yr;return e[o]=n,Ic(r,o,2,"#host",null)}(Ar,Zt),zx=function fy(e,n,r,o,l,d,m){const y=l[mn];!function ep(e,n,r,o){for(const l of e)n.mergedAttrs=Yi(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(ch(n,n.mergedAttrs,!0),null!==r&&N_(o,r,n))}(o,e,n,m);let A=null;null!==n&&(A=Od(n,l[Zi]));const U=d.rendererFactory.createRenderer(n,r);let Z=16;r.signals?Z=4096:r.onPush&&(Z=64);const ye=Lg(l,f(r),null,Z,l[e.index],e,d,U,null,null,A);return y.firstCreatePass&&lu(y,e,o.length-1),Ec(l,ye),l[e.index]=ye}(Rw,Zt,ts,la,Ar,it,Ct);Li=La(dn,yr),Zt&&function py(e,n,r,o){if(o)To(e,r,["ng-version","17.3.11"]);else{const{attrs:l,classes:d}=function cl(e){const n=[],r=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&n.push(d,e[++o]):8===l&&r.push(d);else{if(!P(l))break;l=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);l&&To(e,r,l),d&&d.length>0&&Pv(e,r,d.join(" "))}}(Ct,ts,Zt,o),void 0!==r&&function gy(e,n,r){const o=e.projection=[];for(let l=0;l<n.length;l++){const d=r[l];o.push(null!=d?Array.from(d):null)}}(Li,this.ngContentSelectors,r),ci=function Ws(e,n,r,o,l,d){const m=ti(),y=l[mn],A=yo(m,l);Qe(y,l,m,r,null,o);for(let Z=0;Z<r.length;Z++)Uo(zs(l,y,m.directiveStart+Z,m),l);Lt(y,l,m),A&&Uo(A,l);const U=zs(l,y,m.directiveStart+m.componentOffset,m);if(e[hi]=l[hi]=U,null!==d)for(const Z of d)Z(U,n);return i(y,m,l),U}(zx,ts,la,bp,Ar,[sd]),$g(dn,Ar,null)}finally{Vc()}return new dy(this.componentType,ci,fc(Li,Ar),Ar,Li)}finally{ue(d)}}}class dy extends G_{constructor(n,r,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Aa(l,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;Xd(d[mn],d,l,n,r),this.previousInputValues.set(n,r),hu(So(this._tNode.index,d))}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sd(){const e=ti();Sl(Jt()[mn],e)}let g=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=k}return e})();function k(){return Mn(ti(),Jt())}const X=g,Ce=class extends X{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return fc(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const n=jn(this._hostTNode,this._hostLView);if(zc(n)){const r=lc(n,this._hostLView),o=ac(n);return new Pi(r[mn].data[o+8],r)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=Rt(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-Ii}createEmbeddedView(n,r,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const y=n.createEmbeddedViewImpl(r||{},d,null);return this.insertImpl(y,l,cu(this._hostTNode,null)),y}createComponent(n,r,o,l,d){const m=n&&!function nn(e){return"function"==typeof e}(n);let y;if(m)y=r;else{const Pt=r||{};y=Pt.index,o=Pt.injector,l=Pt.projectableNodes,d=Pt.environmentInjector||Pt.ngModuleRef}const A=m?n:new od(Dr(n)),U=o||this.parentInjector;if(!d&&null==A.ngModule){const Zt=(m?U:this.parentInjector).get(wo,null);Zt&&(d=Zt)}Dr(A.componentType??{});const Ct=A.create(U,l,null,d);return this.insertImpl(Ct.hostView,y,cu(this._hostTNode,null)),Ct}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const l=n._lView;if(function Ch(e){return mo(e[Xr])}(l)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const A=l[Xr],U=new Ce(A,A[Zr],A[Xr]);U.detach(U.indexOf(n))}}const d=this._adjustIndex(r),m=this._lContainer;return Qd(m,l,d,o),n.attachToViewContainerRef(),ar(Gt(m),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=Rt(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=zd(this._lContainer,r);o&&(ri(Gt(this._lContainer),r),Pf(o[mn],o))}detach(n){const r=this._adjustIndex(n,-1),o=zd(this._lContainer,r);return o&&null!=ri(Gt(this._lContainer),r)?new Aa(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function Rt(e){return e[8]}function Gt(e){return e[8]||(e[8]=[])}function Mn(e,n){let r;const o=n[e.index];return mo(o)?r=o:(r=Zu(o,n,null,e),n[e.index]=r,Ec(n,r)),$o(r,n,e,o),new Ce(r,e,n)}let $o=function Jo(e,n,r,o){if(e[ss])return;let l;l=8&r.type?ei(o):function ki(e,n){const r=e[vr],o=r.createComment(""),l=yo(n,e);return su(r,xg(r,l),o,function sC(e,n){return e.nextSibling(n)}(r,l),!1),o}(n,r),e[ss]=l},ni=()=>!1;class dh{constructor(n){this.queryList=n,this.matches=null}clone(){return new dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class J_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,l=[];for(let d=0;d<o;d++){const m=r.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new J_(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==rI(n,r).matches&&this.queries[r].setDirty()}}class mC{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function $w(e){return e.split(",").map(n=>n.trim())}(n):n}}class Z_{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,l);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new Z_(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class eI{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new eI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(n,r,Fw(r,d)),this.matchTNodeWithReadOption(n,r,Ml(r,n,d,!1,!1))}else o===nd?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Ml(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Kc||l===g||l===nd&&4&r.type)this.addMatch(r.index,-2);else{const d=Ml(r,n,l,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Fw(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function Vw(e,n,r,o){return-1===r?function Lw(e,n){return 11&e.type?fc(e,n):4&e.type?Zd(e,n):null}(n,e):-2===r?function Uw(e,n,r){return r===Kc?fc(n,e):r===nd?Zd(n,e):r===g?Mn(n,e):void 0}(e,n,o):zs(e,e[mn],r,n)}function vC(e,n,r,o){const l=n[Ms].queries[o];if(null===l.matches){const d=e.data,m=r.matches,y=[];for(let A=0;null!==m&&A<m.length;A+=2){const U=m[A];y.push(U<0?null:Vw(n,d[U],m[A+1],r.metadata.read))}l.matches=y}return l.matches}function tI(e,n,r,o){const l=e.queries.getByIndex(r),d=l.matches;if(null!==d){const m=vC(e,n,l,r);for(let y=0;y<d.length;y+=2){const A=d[y];if(A>0)o.push(m[y/2]);else{const U=d[y+1],Z=n[-A];for(let ye=Ii;ye<Z.length;ye++){const it=Z[ye];it[Wr]===it[Xr]&&tI(it[mn],it,U,o)}if(null!==Z[Il]){const ye=Z[Il];for(let it=0;it<ye.length;it++){const Ct=ye[it];tI(Ct[mn],Ct,U,o)}}}}}return o}function yC(e,n,r){const o=new Rd(!(4&~r));return function Ot(e,n,r,o){const l=Kd(n);l.push(r),e.firstCreatePass&&qd(e).push(o,l.length-1)}(e,n,o,o.destroy),(n[Ms]??=new J_).queries.push(new dh(o))-1}function EC(e,n,r){null===e.queries&&(e.queries=new Z_),e.queries.track(new eI(n,r))}function rI(e,n){return e.queries.getByIndex(n)}function CC(e,n){const r=e[mn],o=rI(r,n);return o.crossesNgTemplate?tI(r,e,n,[]):vC(r,e,o,n)}function TC(e){return function DC(e){return"function"==typeof e&&void 0!==e[Ve]}(e)&&"function"==typeof e.set}function oI(e){let n=function FC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let l;if(Lo(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ct(903,!1);l=n.\u0275dir}if(l){if(r){o.push(l);const m=e;m.inputs=vy(e.inputs),m.inputTransforms=vy(e.inputTransforms),m.declaredInputs=vy(e.declaredInputs),m.outputs=vy(e.outputs);const y=l.hostBindings;y&&nb(e,y);const A=l.viewQuery,U=l.contentQueries;if(A&&eb(e,A),U&&tb(e,U),Jw(e,l),$n(e.outputs,l.outputs),Lo(l)&&l.data.animation){const Z=e.data;Z.animation=(Z.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(e),y===oI&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Zw(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=Yi(l.hostAttrs,r=Yi(r,l.hostAttrs))}}(o)}function Jw(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const l=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(l))continue;e.inputTransforms??={},e.inputTransforms[l]=n.inputTransforms[l]}}}function vy(e){return e===Xi?{}:e===br?[]:e}function eb(e,n){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{n(o,l),r(o,l)}:n}function tb(e,n){const r=e.contentQueries;e.contentQueries=r?(o,l,d)=>{n(o,l,d),r(o,l,d)}:n}function nb(e,n){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{n(o,l),r(o,l)}:n}function $C(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(r[o]=l[3])}e.inputTransforms=r}class hh{}class BC{}function lb(e,n){return new sI(e,n??null,[])}class sI extends hh{constructor(n,r,o){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uh(this);const l=Qn(n);this._bootstrapComponents=Os(l.bootstrap),this._r3Injector=Uh(n,r,[{provide:hh,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver},...o],$e(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class aI extends BC{constructor(n){super(),this.moduleType=n}create(n){return new sI(this.moduleType,n,[])}}class jC extends hh{constructor(n){super(),this.componentFactoryResolver=new uh(this),this.instance=null;const r=new Us([...n.providers,{provide:hh,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],n.parent||hs(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function lI(e,n,r=null){return new jC({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let rp=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _y(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function ip(e,n,r,o,l,d,m,y){const A=Jt(),U=Fr(),Z=e+yr,ye=U.firstCreatePass?function gb(e,n,r,o,l,d,m,y,A){const U=n.consts,Z=Ic(n,e,4,m||null,Ro(U,y));Dt(n,r,Z,Ro(U,A)),Sl(n,Z);const ye=Z.tView=v(2,Z,o,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,U,null);return null!==n.queries&&(n.queries.template(n,Z),ye.queries=n.queries.embeddedTView(Z)),Z}(Z,U,A,n,r,o,l,d,m):U.data[Z];Po(ye,!1);const it=zC(U,A,ye,e);ra()&&Mf(U,A,it,ye),Uo(it,A);const Ct=Zu(it,A,it,ye);return A[Z]=Ct,Ec(A,Ct),function Yo(e,n,r){return ni(e,n,r)}(Ct,ye,A),Cl(ye)&&s(U,A,ye),null!=m&&u(A,ye,y),ip}let zC=function HC(e,n,r,o){return Mo(!0),n[vr].createComment("")};function _I(e,n,r,o){const l=Jt();return xo(l,Ei(),n)&&(Fr(),Za(Ti(),l,e,n,r,o)),_I}function hp(e,n,r,o){return xo(e,Ei(),r)?n+ur(r)+o:Nr}function wy(e,n){return e<<17|n<<2}function cd(e){return e>>17&32767}function II(e){return 2|e}function gh(e){return(131068&e)>>2}function EI(e,n){return-131069&e|n<<2}function CI(e){return 1|e}function ED(e,n,r,o){const l=e[r+1],d=null===n;let m=o?cd(l):gh(l),y=!1;for(;0!==m&&(!1===y||d);){const U=e[m+1];tS(e[m],n)&&(y=!0,e[m+1]=o?CI(U):II(U)),m=o?cd(U):gh(U)}y&&(e[r+1]=o?II(l):CI(l))}function tS(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&po(e,n)>=0}function DI(e,n,r){const o=Jt();return xo(o,Ei(),n)&&Vn(Fr(),Ti(),o,e,n,o[vr],r,!1),DI}function AI(e,n,r,o,l){const m=l?"class":"style";Xd(e,r,n.inputs[m],m,o)}function TI(e,n){return function jl(e,n,r,o){const l=Jt(),d=Fr(),m=function va(e){const n=lr.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}(2);d.firstUpdatePass&&function PD(e,n,r,o){const l=e.data;if(null===l[r+1]){const d=l[Vo()],m=function RD(e,n){return n>=e.expandoStartIndex}(e,r);(function ND(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!m&&(n=!1),n=function uS(e,n,r,o){const l=function rc(e){const n=lr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(r=am(r=wI(null,e,n,r,o),n.attrs,o),d=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==l)if(r=wI(l,e,n,r,o),null===d){let A=function dS(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==gh(o))return e[cd(o)]}(e,n,o);void 0!==A&&Array.isArray(A)&&(A=wI(null,e,n,A[1],o),A=am(A,n.attrs,o),function hS(e,n,r,o){e[cd(r?n.classBindings:n.styleBindings)]=o}(e,n,o,A))}else d=function fS(e,n,r){let o;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)o=am(o,e[d].hostAttrs,r);return am(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(l,d,n,o),function Zb(e,n,r,o,l,d){let m=d?n.classBindings:n.styleBindings,y=cd(m),A=gh(m);e[o]=r;let Z,U=!1;if(Array.isArray(r)?(Z=r[1],(null===Z||po(r,Z)>0)&&(U=!0)):Z=r,l)if(0!==A){const it=cd(e[y+1]);e[o+1]=wy(it,y),0!==it&&(e[it+1]=EI(e[it+1],o)),e[y+1]=function Yb(e,n){return 131071&e|n<<17}(e[y+1],o)}else e[o+1]=wy(y,0),0!==y&&(e[y+1]=EI(e[y+1],o)),y=o;else e[o+1]=wy(A,0),0===y?y=o:e[A+1]=EI(e[A+1],o),A=o;U&&(e[o+1]=II(e[o+1])),ED(e,Z,o,!0),ED(e,Z,o,!1),function eS(e,n,r,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&po(d,n)>=0&&(r[o+1]=CI(r[o+1]))}(n,Z,e,o,d),m=wy(y,A),d?n.classBindings=m:n.styleBindings=m}(l,d,n,r,m,o)}}(d,e,m,o),n!==Nr&&xo(l,m,n)&&function xD(e,n,r,o,l,d,m,y){if(!(3&n.type))return;const A=e.data,U=A[y+1],Z=function Jb(e){return!(1&~e)}(U)?OD(A,n,r,l,gh(U),m):void 0;by(Z)||(by(d)||function Qb(e){return!(2&~e)}(U)&&(d=OD(A,null,r,l,y,m)),function lC(e,n,r,o,l){if(n)l?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Ya.DashCase;null==l?e.removeStyle(r,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Ya.Important),e.setStyle(r,o,l,d))}}(o,m,ys(Vo(),r),l,d))}(d,d.data[Vo()],l,l[vr],e,l[m+1]=function vS(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=$e(vc(e)))),e}(n,r),o,m)}(e,n,null,!0),TI}function wI(e,n,r,o,l){let d=null;const m=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<m&&(d=n[y],o=am(o,d.hostAttrs,l),d!==e);)y++;return null!==e&&(r.directiveStylingLast=y),o}function am(e,n,r){const o=r?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?l=m:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fi(e,m,!!r||n[++d]))}return void 0===e?null:e}function OD(e,n,r,o,l,d){const m=null===n;let y;for(;l>0;){const A=e[l],U=Array.isArray(A),Z=U?A[1]:A,ye=null===Z;let it=r[l+1];it===Nr&&(it=ye?br:void 0);let Ct=ye?ca(it,o):Z===o?it:void 0;if(U&&!by(Ct)&&(Ct=ca(A,o)),by(Ct)&&(y=Ct,m))return y;const Pt=e[l+1];l=m?cd(Pt):gh(Pt)}if(null!==n){let A=d?n.residualClasses:n.residualStyles;null!=A&&(y=ca(A,o))}return y}function by(e){return void 0!==e}function Sy(e,n,r,o){const l=Jt(),d=Fr(),m=yr+e,y=l[vr],A=d.firstCreatePass?function $S(e,n,r,o,l,d){const m=n.consts,A=Ic(n,e,2,o,Ro(m,l));return Dt(n,r,A,Ro(m,d)),null!==A.attrs&&ch(A,A.attrs,!1),null!==A.mergedAttrs&&ch(A,A.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,A),A}(m,d,l,n,r,o):d.data[m],U=VD(d,l,A,y,n,e);l[m]=U;const Z=Cl(A);return Po(A,!0),N_(y,U,A),!function rm(e){return!(32&~e.flags)}(A)&&ra()&&Mf(d,l,U,A),0===function wl(){return lr.lFrame.elementDepthCount}()&&Uo(U,l),function Dh(){lr.lFrame.elementDepthCount++}(),Z&&(s(d,l,A),i(d,A,l)),null!==o&&u(l,A),Sy}function Ry(){let e=ti();ma()?wu():(e=e.parent,Po(e,!1));const n=e;(function Ah(e){return lr.skipHydrationRootTNode===e})(n)&&function Au(){lr.skipHydrationRootTNode=null}(),function bl(){lr.lFrame.elementDepthCount--}();const r=Fr();return r.firstCreatePass&&(Sl(r,e),El(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function sc(e){return!!(8&e.flags)}(n)&&AI(r,n,Jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Nu(e){return!!(16&e.flags)}(n)&&AI(r,n,Jt(),n.stylesWithoutHost,!1),Ry}function MI(e,n,r,o){return Sy(e,n,r,o),Ry(),MI}let VD=(e,n,r,o,l,d)=>(Mo(!0),Rf(o,l,function Ed(){return lr.lFrame.currentNamespace}()));function Py(e,n,r){const o=Jt(),l=Fr(),d=e+yr,m=l.firstCreatePass?function zS(e,n,r,o,l){const d=n.consts,m=Ro(d,o),y=Ic(n,e,8,"ng-container",m);return null!==m&&ch(y,m,!0),Dt(n,r,y,Ro(d,l)),null!==n.queries&&n.queries.elementStart(n,y),y}(d,l,o,n,r):l.data[d];Po(m,!0);const y=UD(l,o,m,e);return o[d]=y,ra()&&Mf(l,o,y,m),Uo(y,o),Cl(m)&&(s(l,o,m),i(l,m,o)),null!=r&&u(o,m),Py}function My(){let e=ti();const n=Fr();return ma()?wu():(e=e.parent,Po(e,!1)),n.firstCreatePass&&(Sl(n,e),El(e)&&n.queries.elementEnd(e)),My}function xI(e,n,r){return Py(e,n,r),My(),xI}let UD=(e,n,r,o)=>(Mo(!0),Ja(n[vr],""));function $D(){return Jt()}const mh=void 0;var KS=["en",[["a","p"],["AM","PM"],mh],[["AM","PM"],mh,mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mh,"{1} 'at' {0}",mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GS(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Ep={};function OI(e){const n=function qS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=HD(n);if(r)return r;const o=n.split("-")[0];if(r=HD(o),r)return r;if("en"===o)return KS;throw new ct(701,!1)}function zD(e){return OI(e)[Cp.PluralCase]}function HD(e){return e in Ep||(Ep[e]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[e]),Ep[e]}var Cp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Cp||{});const Dp="en-US";let WD=Dp;function FI(e,n,r,o){const l=Jt(),d=Fr(),m=ti();return LI(d,l,l[vr],m,e,n,o),FI}function LI(e,n,r,o,l,d,m){const y=Cl(o),U=e.firstCreatePass&&qd(e),Z=n[hi],ye=Kd(n);let it=!0;if(3&o.type||m){const Zt=yo(o,n),_n=m?m(Zt):Zt,Sn=ye.length,dn=m?ci=>m(ei(ci[o.index])):o.index;let Ar=null;if(!m&&y&&(Ar=function HR(e,n,r,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===r&&l[d+1]===o){const y=n[ps],A=l[d+2];return y.length>A?y[A]:null}"string"==typeof m&&(d+=2)}return null}(e,n,l,o.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=d,Ar.__ngLastListenerFn__=d,it=!1;else{d=_A(o,n,Z,d,!1);const ci=r.listen(_n,l,d);ye.push(d,ci),U&&U.push(l,dn,Sn,Sn+1)}}else d=_A(o,n,Z,d,!1);const Ct=o.outputs;let Pt;if(it&&null!==Ct&&(Pt=Ct[l])){const Zt=Pt.length;if(Zt)for(let _n=0;_n<Zt;_n+=2){const Li=n[Pt[_n]][Pt[_n+1]].subscribe(d),ts=ye.length;ye.push(d,Li),U&&U.push(l,o.index,ts,-(ts+1))}}}function yA(e,n,r,o){const l=ue(null);try{return vo(6,n,r),!1!==r(o)}catch(d){return ed(e,d),!1}finally{vo(7,n,r),ue(l)}}function _A(e,n,r,o,l){return function d(m){if(m===Function)return o;hu(e.componentOffset>-1?So(e.index,n):n);let A=yA(n,r,o,m),U=d.__ngNextListenerFn__;for(;U;)A=yA(n,r,U,m)&&A,U=U.__ngNextListenerFn__;return l&&!1===A&&m.preventDefault(),A}}function IA(e=1){return function Sh(e){return(lr.lFrame.contextLView=function gd(e,n){for(;e>0;)n=n[ka],e--;return n}(e,lr.lFrame.contextLView))[hi]}(e)}function WR(e,n){let r=null;const o=function bn(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===o?Ze(e,d,!0):Eo(o,d))return l}else r=l}return r}function EA(e){const n=Jt()[fi][Zr];if(!n.projection){const o=n.projection=function fo(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),l=o.slice();let d=n.child;for(;null!==d;){const m=e?WR(d,e):0;null!==m&&(l[m]?l[m].projectionNext=d:o[m]=d,l[m]=d),d=d.next}}}function CA(e,n=0,r){const o=Jt(),l=Fr(),d=Ic(l,yr+e,16,null,r||null);null===d.projection&&(d.projection=n),wu(),(!o[Bi]||_s())&&32&~d.flags&&function O_(e,n,r){Sv(n[vr],0,n,r,Ev(e,r,n),M_(r.parent||n[Zr],r,n))}(l,o,d)}function VI(e,n,r){return UI(e,"",n,"",r),VI}function UI(e,n,r,o,l){const d=Jt(),m=hp(d,n,r,o);return m!==Nr&&Vn(Fr(),Ti(),d,e,m,d[vr],l,!1),UI}function MA(e,n,r,o){!function IC(e,n,r,o){const l=Fr();if(l.firstCreatePass){const d=ti();EC(l,new mC(n,r,o),d.index),function Bw(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return yC(l,Jt(),r)}(e,n,r,o)}function xA(e,n,r){!function _C(e,n,r){const o=Fr();return o.firstCreatePass&&(EC(o,new mC(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),yC(o,Jt(),n)}(e,n,r)}function OA(e){const n=Jt(),r=Fr(),o=ya();Pu(o+1);const l=rI(r,o);if(e.dirty&&function Nc(e){return!(4&~e[On])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const d=CC(n,o);e.reset(d,zh),e.notifyOnChanges()}return!0}return!1}function NA(){return function nI(e,n){return e[Ms].queries[n].queryList}(Jt(),ya())}function kA(e){return Yl(function yd(){return lr.lFrame.contextLView}(),yr+e)}function WA(e,n=""){const r=Jt(),o=Fr(),l=e+yr,d=o.firstCreatePass?Ic(o,l,1,n,null):o.data[l],m=GA(o,r,d,n,e);r[l]=m,ra()&&Mf(o,r,m,d),Po(d,!1)}let GA=(e,n,r,o,l)=>(Mo(!0),function Rg(e,n){return e.createText(n)}(n[vr],o));function $I(e){return Fy("",e,""),$I}function Fy(e,n,r){const o=Jt(),l=hp(o,e,n,r);return l!==Nr&&function Da(e,n,r){const o=ys(n,e);!function yv(e,n,r){e.setValue(n,r)}(e[vr],o,r)}(o,Vo(),l),Fy}function BI(e,n,r){TC(n)&&(n=n());const o=Jt();return xo(o,Ei(),n)&&Vn(Fr(),Ti(),o,e,n,o[vr],r,!1),BI}function tT(e,n){const r=TC(e);return r&&e.set(n),r}function jI(e,n){const r=Jt(),o=Fr(),l=ti();return LI(o,r,r[vr],l,e,n),jI}function zI(e,n,r,o,l){if(e=nt(e),Array.isArray(e))for(let d=0;d<e.length;d++)zI(e[d],n,r,o,l);else{const d=Fr(),m=Jt(),y=ti();let A=ws(e)?e:nt(e.provide);const U=fs(e),Z=1048575&y.providerIndexes,ye=y.directiveStart,it=y.providerIndexes>>20;if(ws(e)||!e.multi){const Ct=new ja(U,l,au),Pt=WI(A,n,l?Z:Z+it,ye);-1===Pt?(rr(ht(y,m),d,A),HI(d,e,n.length),n.push(A),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),r.push(Ct),m.push(Ct)):(r[Pt]=Ct,m[Pt]=Ct)}else{const Ct=WI(A,n,Z+it,ye),Pt=WI(A,n,Z,Z+it),_n=Pt>=0&&r[Pt];if(l&&!_n||!l&&!(Ct>=0&&r[Ct])){rr(ht(y,m),d,A);const Sn=function uP(e,n,r,o,l){const d=new ja(e,r,au);return d.multi=[],d.index=n,d.componentProviders=0,nT(d,l,o&&!r),d}(l?cP:lP,r.length,l,o,U);!l&&_n&&(r[Pt].providerFactory=Sn),HI(d,e,n.length,0),n.push(A),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),r.push(Sn),m.push(Sn)}else HI(d,e,Ct>-1?Ct:Pt,nT(r[l?Pt:Ct],U,!l&&o));!l&&o&&_n&&r[Pt].componentProviders++}}}function HI(e,n,r,o){const l=ws(n),d=function Xs(e){return!!e.useClass}(n);if(l||d){const A=(d?nt(n.useClass):n).prototype.ngOnDestroy;if(A){const U=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const Z=U.indexOf(r);-1===Z?U.push(r,[o,A]):U[Z+1].push(o,A)}else U.push(r,A)}}}function nT(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function WI(e,n,r,o){for(let l=r;l<o;l++)if(n[l]===e)return l;return-1}function lP(e,n,r,o){return GI(this.multi,[])}function cP(e,n,r,o){const l=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=zs(r,r[mn],this.providerFactory.index,o);d=y.slice(0,m),GI(l,d);for(let A=m;A<y.length;A++)d.push(y[A])}else d=[],GI(l,d);return d}function GI(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function rT(e,n=[]){return r=>{r.providersResolver=(o,l)=>function aP(e,n,r){const o=Fr();if(o.firstCreatePass){const l=Lo(e);zI(r,o.data,o.blueprint,l,!0),zI(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}let dP=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=ha(0,r.type),l=o.length>0?lI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,l)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pr({token:e,providedIn:"environment",factory:()=>new e($(wo))})}return e})();function iT(e){il("NgStandalone"),e.getStandaloneInjector=n=>n.get(dP).getOrCreateStandaloneInjector(e)}function aT(e,n,r,o,l,d,m){const y=n+r;return function fh(e,n,r,o){const l=xo(e,n,r);return xo(e,n+1,o)||l}(e,y,l,d)?function bc(e,n,r){return e[n]=r}(e,y+2,m?o.call(m,l,d):o(l,d)):function pm(e,n){const r=e[n];return r===Nr?void 0:r}(e,y+2)}function dT(e,n){const r=Fr();let o;const l=e+yr;r.firstCreatePass?(o=function AP(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[l]=o,o.onDestroy&&(r.destroyHooks??=[]).push(l,o.onDestroy)):o=r.data[l];const d=o.factory||(o.factory=Ir(o.type)),y=qn(au);try{const A=uc(!1),U=d();return uc(A),function XR(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}(r,Jt(),l,U),U}finally{qn(y)}}function hT(e,n,r,o){const l=e+yr,d=Jt(),m=Yl(d,l);return function gm(e,n){return e[mn].data[n].pure}(d,l)?aT(d,function Go(){const e=lr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,m.transform,r,o,m):m.transform(r,o)}function fT(e,n){return Zd(e,n)}class RT{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const QP=new RT("17.3.11");let PT=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const kT=new Xt(""),FT=new Xt("");let JI,CM=(()=>{class e{constructor(r,o,l){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,JI||(function DM(e){JI=e}(l),l.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ki.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,l){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:l})}whenStable(r,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,l){return[]}static#e=this.\u0275fac=function(o){return new(o||e)($(Ki),$(LT),$(FT))};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac})}return e})(),LT=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return JI?.findTestabilityInTree(this,r,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ZI(e){return!!e&&"function"==typeof e.then}function VT(e){return!!e&&"function"==typeof e.subscribe}const UT=new Xt("");let eE=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=Ae(UT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const l of this.appInits){const d=l();if(ZI(d))r.push(d);else if(VT(d)){const m=new Promise((y,A)=>{d.subscribe({complete:y,error:A})});r.push(m)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(l=>{this.reject(l)}),0===r.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tE=new Xt("");function jT(e,n){return Array.isArray(n)?n.reduce(jT,e):{...e,...n}}let ud=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ae(Bh),this.afterRenderEffectManager=Ae($l),this.externalTestViews=new Set,this.beforeRender=new hr.B,this.afterTick=new hr.B,this.componentTypes=[],this.components=[],this.isStable=Ae(rp).hasPendingTasks.pipe((0,Gn.T)(r=>!r)),this._injector=Ae(wo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){const l=r instanceof Xg;if(!this._injector.get(eE).done)throw!l&&go(r),new ct(405,!1);let m;m=l?r:this._injector.get(Dc).resolveComponentFactory(r),this.componentTypes.push(m.componentType);const y=function AM(e){return e.isBoundToModule}(m)?void 0:this._injector.get(hh),U=m.create(Hs.NULL,[],o||m.selector,y),Z=U.location.nativeElement,ye=U.injector.get(kT,null);return ye?.registerApplication(Z),U.onDestroy(()=>{this.detachView(U.hostView),$y(this.components,U),ye?.unregisterApplication(Z)}),this._loadComponent(U),U}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new ct(101,!1);const o=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(l){this.internalErrorHandler(l)}finally{this.afterTick.next(),this._runningTick=!1,ue(o)}}detectChangesInAttachedViews(r){let o=0;const l=this.afterRenderEffectManager;for(;;){if(o===Vv)throw new ct(103,!1);if(r){const d=0===o;this.beforeRender.next(d);for(let{_lView:m,notifyErrorHandler:y}of this._views)wM(m,d,y)}if(o++,l.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>nE(d))&&(l.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>nE(d))))break}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;$y(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(tE,[]);[...this._bootstrapListeners,...o].forEach(l=>l(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>$y(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ct(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $y(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function wM(e,n,r){!n&&!nE(e)||function bM(e,n,r){let o;r?(o=0,e[On]|=1024):o=64&e[On]?0:1,Cc(e,n,o)}(e,r,n)}function nE(e){return Zl(e)}class SM{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let RM=(()=>{class e{compileModuleSync(r){return new aI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=Os(Qn(r).declarations).reduce((m,y)=>{const A=Dr(y);return A&&m.push(new od(A)),m},[]);return new SM(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xM=(()=>{class e{constructor(){this.zone=Ae(Ki),this.applicationRef=Ae(ud)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OM(){const e=Ae(Ki),n=Ae(Ca);return r=>e.runOutsideAngular(()=>n.handleError(r))}let kM=(()=>{class e{constructor(){this.subscription=new en.yU,this.initialized=!1,this.zone=Ae(Ki),this.pendingTasks=Ae(rp)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ki.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ki.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jy=new Xt("",{providedIn:"root",factory:()=>Ae(jy,or.Optional|or.SkipSelf)||function FM(){return typeof $localize<"u"&&$localize.locale||Dp}()}),LM=new Xt("",{providedIn:"root",factory:()=>"USD"}),rE=new Xt("");let GT=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const l=function oy(e="zone.js",n){return"noop"===e?new iy:"zone.js"===e?new Ki(n):e}(o?.ngZone,function WT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return l.run(()=>{const d=function cb(e,n,r){return new sI(e,n,r)}(r.moduleType,this.injector,function HT(e){return[{provide:Ki,useFactory:e},{provide:Es,multi:!0,useFactory:()=>{const n=Ae(xM,{optional:!0});return()=>n.initialize()}},{provide:Es,multi:!0,useFactory:()=>{const n=Ae(kM);return()=>{n.initialize()}}},{provide:Bh,useFactory:OM}]}(()=>l)),m=d.injector.get(Ca,null);return l.runOutsideAngular(()=>{const y=l.onError.subscribe({next:A=>{m.handleError(A)}});d.onDestroy(()=>{$y(this._modules,d),y.unsubscribe()})}),function BT(e,n,r){try{const o=r();return ZI(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(m,l,()=>{const y=d.injector.get(eE);return y.runInitializers(),y.donePromise.then(()=>(function GD(e){"string"==typeof e&&(WD=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(jy,Dp)||Dp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(r,o=[]){const l=jT({},o);return function MM(e,n,r){const o=new aI(r);return Promise.resolve(o)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(r){const o=r.injector.get(ud);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(l=>o.bootstrap(l));else{if(!r.instance.ngDoBootstrap)throw new ct(-403,!1);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(rE,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)($(Hs))};static#t=this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),dd=null;const KT=new Xt("");function qT(e,n,r=[]){const o=`Platform: ${n}`,l=new Xt(o);return(d=[])=>{let m=iE();if(!m||m.injector.get(KT,!1)){const y=[...r,...d,{provide:l,useValue:!0}];e?e(y):function UM(e){if(dd&&!dd.get(KT,!1))throw new ct(400,!1);(function $T(){!function W(e){At=e}(()=>{throw new ct(600,!1)})})(),dd=e;const n=e.get(GT);(function QT(e){e.get(rf,null)?.forEach(r=>r())})(e)}(function XT(e=[],n){return Hs.create({name:n,providers:[{provide:Oa,useValue:"platform"},{provide:rE,useValue:new Set([()=>dd=null])},...e]})}(y,o))}return function $M(e){const n=iE();if(!n)throw new ct(401,!1);return n}()}}function iE(){return dd?.get(GT)??null}function jM(){return!1}function zM(){}let JT=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=HM}return e})();function HM(e){return function WM(e,n,r){if(xs(e)&&!r){const o=So(e.index,n);return new Aa(o,o)}return 47&e.type?new Aa(n[fi],n):null}(ti(),Jt(),!(16&~e))}class nw{constructor(){}supports(n){return _y(n)}create(n){return new QM(n)}}const XM=(e,n)=>n;class QM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||XM}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,l=0,d=null;for(;r||o;){const m=!o||r&&r.currentIndex<iw(o,l,d)?r:o,y=iw(m,l,d),A=m.currentIndex;if(m===o)l--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)l++;else{d||(d=[]);const U=y-l,Z=A-l;if(U!=Z){for(let it=0;it<U;it++){const Ct=it<d.length?d[it]:d[it]=0,Pt=Ct+it;Z<=Pt&&Pt<U&&(d[it]=Ct+1)}d[m.previousIndex]=Z-U}}y!==A&&n(m,y,A)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!_y(n))throw new ct(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,m,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)d=n[y],m=this._trackByFn(y,d),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,d,m,y)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,m,y),o=!0),r=r._next}else l=0,function fb(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,y=>{m=this._trackByFn(l,y),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,y,m,l)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,m,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,l)):n=this._addAfter(new YM(r,o),d,l),n}_verifyReinsertion(n,r,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const l=null===r?this._itHead:r._next;return n._next=l,n._prev=r,null===l?this._itTail=n:l._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new rw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class YM{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class rw{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new JM,this.map.set(r,o)),o.add(n)}get(n,r){const l=this.map.get(n);return l?l.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iw(e,n,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+n+l}class ow{constructor(){}supports(n){return n instanceof Map||cI(n)}create(){return new ZM}}class ZM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||cI(n)))throw new ct(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,r);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const o=new ex(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class ex{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sw(){return new cE([new nw])}let cE=(()=>{class e{static#e=this.\u0275prov=pr({token:e,providedIn:"root",factory:sw});constructor(r){this.factories=r}static create(r,o){if(null!=o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||sw()),deps:[[e,new Bn,new an]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(null!=o)return o;throw new ct(901,!1)}}return e})();function aw(){return new uE([new ow])}let uE=(()=>{class e{static#e=this.\u0275prov=pr({token:e,providedIn:"root",factory:aw});constructor(r){this.factories=r}static create(r,o){if(o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||aw()),deps:[[e,new Bn,new an]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(o)return o;throw new ct(901,!1)}}return e})();const rx=qT(null,"core",[]);let ix=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(o){return new(o||e)($(ud))};static#t=this.\u0275mod=ul({type:e});static#n=this.\u0275inj=oi({})}return e})();function Ox(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function kx(e){const n=ue(null);try{return e()}finally{ue(n)}}function Bx(e,n){const r=Dr(e),o=n.elementInjector||hs();return new od(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function jx(e){const n=Dr(e);if(!n)return null;const r=new od(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(vn,gt,x)=>{"use strict";x.d(gt,{MW:()=>Fe,Wp:()=>qe,XU:()=>le,gL:()=>Se});var a=x(2214),C=x(4438),V=x(5407);class le{constructor(xe){return xe}}class Se{constructor(){return(0,a.Dk)()}}const Oe=new C.nKC("angularfire2._apps"),ze={provide:le,useFactory:function ue(_e){return _e&&1===_e.length?_e[0]:new le((0,a.Sx)())},deps:[[new C.Xx1,Oe]]},De={provide:Se,deps:[[new C.Xx1,Oe]]};function he(_e){return(xe,Pe)=>{const lt=Pe.get(C.Agw);(0,a.KO)("angularfire",V.xv.full,"core"),(0,a.KO)("angularfire",V.xv.full,"app"),(0,a.KO)("angular",C.xvI.full,lt.toString());const Ne=xe.runOutsideAngular(()=>_e(Pe));return new le(Ne)}}function Fe(_e,...xe){return(0,C.EmA)([ze,De,{provide:Oe,useFactory:he(_e),multi:!0,deps:[C.SKi,C.zZn,V.u0,...xe]}])}const qe=(0,V.S3)(a.Wp,!0)},8152:(vn,gt,x)=>{"use strict";x.d(gt,{Nj:()=>he,DF:()=>Le,eJ:()=>Ye,xI:()=>At,_q:()=>Ge,J1:()=>Tt,x9:()=>gn,CI:()=>wn});var a=x(5407),C=x(4438),V=x(7440),le=x(2214),Se=x(4033);x(7852),x(1076),x(8041),x(1362);class he{constructor(nt){return nt}}class Le{constructor(){return(0,a.CA)("auth")}}const ke=new C.nKC("angularfire2.auth-instances");function et(tr){return(nt,dt)=>{const Me=nt.runOutsideAngular(()=>tr(dt));return new he(Me)}}const qe={provide:Le,deps:[[new C.Xx1,ke]]},Be={provide:he,useFactory:function Xe(tr,nt){const dt=(0,a.lR)("auth",tr,nt);return dt&&new he(dt)},deps:[[new C.Xx1,ke],V.XU]};function Ge(tr,...nt){return(0,le.KO)("angularfire",a.xv.full,"auth"),(0,C.EmA)([Be,qe,{provide:ke,useFactory:et(tr),multi:!0,deps:[C.SKi,C.zZn,a.u0,V.gL,[new C.Xx1,a.Jv],...nt]}])}const Ye=(0,a.S3)(Se.aa,!0),At=(0,a.S3)(Se.o,!0),Tt=(0,a.S3)(Se.a5,!0),gn=(0,a.S3)(Se.ab,!0),wn=(0,a.S3)(Se.C,!0)},4887:(vn,gt,x)=>{"use strict";x.d(gt,{Qe:()=>Jn,cM:()=>wn});var a=x(177),C=x(4438),V=x(5407),le=x(9253),Ve=(x(2438),x(1413)),ue=x(7673),Oe=x(1985),ze=x(8455),De=x(6365),he=x(8750),Le=x(983),Fe=x(3794),Xe=x(941),et=x(5558),qe=x(6354),Be=x(6129);class It extends Ve.B{constructor(_t=1/0,Ut=1/0,wt=Be.U){super(),this._bufferSize=_t,this._windowTime=Ut,this._timestampProvider=wt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ut===1/0,this._bufferSize=Math.max(1,_t),this._windowTime=Math.max(1,Ut)}next(_t){const{isStopped:Ut,_buffer:wt,_infiniteTimeWindow:qt,_timestampProvider:$n,_windowTime:$e}=this;Ut||(wt.push(_t),!qt&&wt.push($n.now()+$e)),this._trimBuffer(),super.next(_t)}_subscribe(_t){this._throwIfClosed(),this._trimBuffer();const Ut=this._innerSubscribe(_t),{_infiniteTimeWindow:wt,_buffer:qt}=this,$n=qt.slice();for(let $e=0;$e<$n.length&&!_t.closed;$e+=wt?1:2)_t.next($n[$e]);return this._checkFinalizedStatuses(_t),Ut}_trimBuffer(){const{_bufferSize:_t,_timestampProvider:Ut,_buffer:wt,_infiniteTimeWindow:qt}=this,$n=(qt?1:2)*_t;if(_t<1/0&&$n<wt.length&&wt.splice(0,wt.length-$n),!qt){const $e=Ut.now();let Dn=0;for(let Fn=1;Fn<wt.length&&wt[Fn]<=$e;Fn+=2)Dn=Fn;Dn&&wt.splice(0,Dn+1)}}}var Ge=x(7707),tt=x(9974);function xe(Vt,_t,...Ut){if(!0===_t)return void Vt();if(!1===_t)return;const wt=new Ge.Ms({next:()=>{wt.unsubscribe(),Vt()}});return(0,he.Tg)(_t(...Ut)).subscribe(wt)}function Pe(Vt,_t,Ut){let wt,qt=!1;return Vt&&"object"==typeof Vt?({bufferSize:wt=1/0,windowTime:_t=1/0,refCount:qt=!1,scheduler:Ut}=Vt):wt=Vt??1/0,function _e(Vt={}){const{connector:_t=(()=>new Ve.B),resetOnError:Ut=!0,resetOnComplete:wt=!0,resetOnRefCountZero:qt=!0}=Vt;return $n=>{let $e,Dn,Fn,Tr=0,tr=!1,nt=!1;const dt=()=>{Dn?.unsubscribe(),Dn=void 0},Me=()=>{dt(),$e=Fn=void 0,tr=nt=!1},ut=()=>{const pe=$e;Me(),pe?.unsubscribe()};return(0,tt.N)((pe,ve)=>{Tr++,!nt&&!tr&&dt();const ne=Fn=Fn??_t();ve.add(()=>{Tr--,0===Tr&&!nt&&!tr&&(Dn=xe(ut,qt))}),ne.subscribe(ve),!$e&&Tr>0&&($e=new Ge.Ms({next:de=>ne.next(de),error:de=>{nt=!0,dt(),Dn=xe(Me,Ut,de),ne.error(de)},complete:()=>{tr=!0,dt(),Dn=xe(Me,wt),ne.complete()}}),(0,he.Tg)(pe).subscribe($e))})($n)}}({connector:()=>new It(wt,_t,Ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qt})}var lt=x(1594),Ne=x(8071);function me(Vt,_t){return(0,Ne.T)(_t)?(0,et.n)(()=>Vt,_t):(0,et.n)(()=>Vt)}var Et=x(6745),Ye=x(5964),ot=x(7935);const We=new C.nKC("angularfire2.auth.use-emulator"),At=new C.nKC("angularfire2.auth.settings"),Ie=new C.nKC("angularfire2.auth.tenant-id"),W=new C.nKC("angularfire2.auth.langugage-code"),M=new C.nKC("angularfire2.auth.use-device-language"),S=new C.nKC("angularfire.auth.persistence"),L=(Vt,_t,Ut,wt,qt,$n,$e,Dn)=>(0,le.BM)(`${Vt.name}.auth`,"AngularFireAuth",Vt.name,()=>{const Fn=_t.runOutsideAngular(()=>Vt.auth());if(Ut&&Fn.useEmulator(...Ut),wt&&(Fn.tenantId=wt),Fn.languageCode=qt,$n&&Fn.useDeviceLanguage(),$e)for(const[Tr,tr]of Object.entries($e))Fn.settings[Tr]=tr;return Dn&&Fn.setPersistence(Dn),Fn},[Ut,wt,qt,$n,$e,Dn]);let se=(()=>{class Vt{authState;idToken;user;idTokenResult;credential;constructor(Ut,wt,qt,$n,$e,Dn,Fn,Tr,tr,nt,dt,Me){const ut=new Ve.B,pe=(0,ue.of)(void 0).pipe((0,Xe.Q)($e.outsideAngular),(0,et.n)(()=>$n.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,2438)))),(0,qe.T)(()=>(0,le.iB)(Ut,$n,wt)),(0,qe.T)(ve=>L(ve,$n,Dn,Tr,tr,nt,Fn,dt)),Pe({bufferSize:1,refCount:!1}));if((0,a.Vy)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ue.of)(null);else{pe.pipe((0,lt.$)()).subscribe();const ve=pe.pipe((0,et.n)(J=>J.getRedirectResult().then(rt=>rt,()=>null)),V.U0,Pe({bufferSize:1,refCount:!1})),ne=pe.pipe((0,et.n)(J=>new Oe.c(rt=>({unsubscribe:$n.runOutsideAngular(()=>J.onAuthStateChanged(Mt=>rt.next(Mt),Mt=>rt.error(Mt),()=>rt.complete()))})))),de=pe.pipe((0,et.n)(J=>new Oe.c(rt=>({unsubscribe:$n.runOutsideAngular(()=>J.onIdTokenChanged(Mt=>rt.next(Mt),Mt=>rt.error(Mt),()=>rt.complete()))}))));this.authState=ve.pipe(me(ne),(0,Et._)($e.outsideAngular),(0,Xe.Q)($e.insideAngular)),this.user=ve.pipe(me(de),(0,Et._)($e.outsideAngular),(0,Xe.Q)($e.insideAngular)),this.idToken=this.user.pipe((0,et.n)(J=>J?(0,ze.H)(J.getIdToken()):(0,ue.of)(null))),this.idTokenResult=this.user.pipe((0,et.n)(J=>J?(0,ze.H)(J.getIdTokenResult()):(0,ue.of)(null))),this.credential=function ke(...Vt){const _t=(0,Fe.lI)(Vt),Ut=(0,Fe.R0)(Vt,1/0),wt=Vt;return wt.length?1===wt.length?(0,he.Tg)(wt[0]):(0,De.U)(Ut)((0,ze.H)(wt,_t)):Le.w}(ve,ut,this.authState.pipe((0,Ye.p)(J=>!J))).pipe((0,qe.T)(J=>J?.user?J:null),(0,Et._)($e.outsideAngular),(0,Xe.Q)($e.insideAngular))}return(0,le.Gt)(this,pe,$n,{spy:{apply:(ve,ne,de)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&de.then(J=>ut.next(J))}}})}static \u0275fac=function(wt){return new(wt||Vt)(C.KVO(le.rx),C.KVO(le.uP,8),C.KVO(C.Agw),C.KVO(C.SKi),C.KVO(V.u0),C.KVO(We,8),C.KVO(At,8),C.KVO(Ie,8),C.KVO(W,8),C.KVO(M,8),C.KVO(S,8),C.KVO(V.Jv,8))};static \u0275prov=C.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"any"})}return Vt})();var we=x(3236),Bt=x(9172),tn=x(4360);function Cn(){return(0,tt.N)((Vt,_t)=>{let Ut,wt=!1;Vt.subscribe((0,tn._)(_t,qt=>{const $n=Ut;Ut=qt,wt&&_t.next([$n,qt]),wt=!0}))})}var ln=x(2816),rn=x(3294);function en(Vt,_t){return function hr(Vt,_t=we.E){return new Oe.c(Ut=>{let wt;return null!=_t?_t.schedule(()=>{wt=Vt.onSnapshot({includeMetadataChanges:!0},Ut)}):wt=Vt.onSnapshot({includeMetadataChanges:!0},Ut),()=>{wt?.()}})}(Vt,_t)}function Gn(Vt,_t){return en(Vt,_t).pipe((0,qe.T)(Ut=>({payload:Ut,type:"query"})))}x(3011);class sn{ref;afs;constructor(_t,Ut){this.ref=_t,this.afs=Ut}set(_t,Ut){return this.ref.set(_t,Ut)}update(_t){return this.ref.update(_t)}delete(){return this.ref.delete()}collection(_t,Ut){const wt=this.ref.collection(_t),{ref:qt,query:$n}=Rn(wt,Ut);return new cr(qt,$n,this.afs)}snapshotChanges(){return function kn(Vt,_t){return en(Vt,_t).pipe((0,Bt.Z)(void 0),Cn(),(0,qe.T)(Ut=>{const[wt,qt]=Ut;return qt.exists?wt?.exists?{payload:qt,type:"modified"}:{payload:qt,type:"added"}:{payload:qt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(V.U0)}valueChanges(_t={}){return this.snapshotChanges().pipe((0,qe.T)(({payload:Ut})=>_t.idField?{...Ut.data(),[_t.idField]:Ut.id}:Ut.data()))}get(_t){return(0,ze.H)(this.ref.get(_t)).pipe(V.U0)}}function $t(Vt,_t){return Gn(Vt,_t).pipe((0,Bt.Z)(void 0),Cn(),(0,qe.T)(Ut=>{const[wt,qt]=Ut,$n=qt.payload.docChanges(),$e=$n.map(Dn=>({type:Dn.type,payload:Dn}));return wt&&JSON.stringify(wt.payload.metadata)!==JSON.stringify(qt.payload.metadata)&&qt.payload.docs.forEach((Dn,Fn)=>{const Tr=$n.find(nt=>nt.doc.ref.isEqual(Dn.ref)),tr=wt?.payload.docs.find(nt=>nt.ref.isEqual(Dn.ref));Tr&&JSON.stringify(Tr.doc.metadata)===JSON.stringify(Dn.metadata)||!Tr&&tr&&JSON.stringify(tr.metadata)===JSON.stringify(Dn.metadata)||$e.push({type:"modified",payload:{oldIndex:Fn,newIndex:Fn,type:"modified",doc:Dn}})}),$e}))}function ct(Vt,_t,Ut){return $t(Vt,Ut).pipe((0,ln.S)((wt,qt)=>function st(Vt,_t,Ut){return _t.forEach(wt=>{Ut.indexOf(wt.type)>-1&&(Vt=function Kt(Vt,_t){switch(_t.type){case"added":if(!Vt[_t.newIndex]||!Vt[_t.newIndex].doc.ref.isEqual(_t.doc.ref))return Tt(Vt,_t.newIndex,0,_t);break;case"modified":if(null==Vt[_t.oldIndex]||Vt[_t.oldIndex].doc.ref.isEqual(_t.doc.ref)){if(_t.oldIndex!==_t.newIndex){const Ut=Vt.slice();return Ut.splice(_t.oldIndex,1),Ut.splice(_t.newIndex,0,_t),Ut}return Tt(Vt,_t.newIndex,1,_t)}break;case"removed":if(Vt[_t.oldIndex]&&Vt[_t.oldIndex].doc.ref.isEqual(_t.doc.ref))return Tt(Vt,_t.oldIndex,1)}return Vt}(Vt,wt))}),Vt}(wt,qt.map($n=>$n.payload),_t),[]),(0,rn.F)(),(0,qe.T)(wt=>wt.map(qt=>({type:qt.type,payload:qt}))))}function Tt(Vt,_t,Ut,...wt){const qt=Vt.slice();return qt.splice(_t,Ut,...wt),qt}function Ht(Vt){return(!Vt||0===Vt.length)&&(Vt=["added","removed","modified"]),Vt}class cr{ref;query;afs;constructor(_t,Ut,wt){this.ref=_t,this.query=Ut,this.afs=wt}stateChanges(_t){let Ut=$t(this.query,this.afs.schedulers.outsideAngular);return _t&&_t.length>0&&(Ut=Ut.pipe((0,qe.T)(wt=>wt.filter(qt=>_t.indexOf(qt.type)>-1)))),Ut.pipe((0,Bt.Z)(void 0),Cn(),(0,Ye.p)(([wt,qt])=>qt.length>0||!wt),(0,qe.T)(([,wt])=>wt),V.U0)}auditTrail(_t){return this.stateChanges(_t).pipe((0,ln.S)((Ut,wt)=>[...Ut,...wt],[]))}snapshotChanges(_t){const Ut=Ht(_t);return ct(this.query,Ut,this.afs.schedulers.outsideAngular).pipe(V.U0)}valueChanges(_t={}){return Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.T)(Ut=>Ut.payload.docs.map(wt=>_t.idField?{...wt.data(),[_t.idField]:wt.id}:wt.data())),V.U0)}get(_t){return(0,ze.H)(this.query.get(_t)).pipe(V.U0)}add(_t){return this.ref.add(_t)}doc(_t){return new sn(this.ref.doc(_t),this.afs)}}class zn{query;afs;constructor(_t,Ut){this.query=_t,this.afs=Ut}stateChanges(_t){return _t&&0!==_t.length?$t(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.T)(Ut=>Ut.filter(wt=>_t.indexOf(wt.type)>-1)),(0,Ye.p)(Ut=>Ut.length>0),V.U0):$t(this.query,this.afs.schedulers.outsideAngular).pipe(V.U0)}auditTrail(_t){return this.stateChanges(_t).pipe((0,ln.S)((Ut,wt)=>[...Ut,...wt],[]))}snapshotChanges(_t){const Ut=Ht(_t);return ct(this.query,Ut,this.afs.schedulers.outsideAngular).pipe(V.U0)}valueChanges(_t={}){return Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.T)(wt=>wt.payload.docs.map(qt=>_t.idField?{[_t.idField]:qt.id,...qt.data()}:qt.data())),V.U0)}get(_t){return(0,ze.H)(this.query.get(_t)).pipe(V.U0)}}const fn=new C.nKC("angularfire2.enableFirestorePersistence"),gn=new C.nKC("angularfire2.firestore.persistenceSettings"),Un=new C.nKC("angularfire2.firestore.settings"),Yn=new C.nKC("angularfire2.firestore.use-emulator");function Rn(Vt,_t=(Ut=>Ut)){return{query:_t(Vt),ref:Vt}}let Jn=(()=>{class Vt{schedulers;firestore;persistenceEnabled$;constructor(Ut,wt,qt,$n,$e,Dn,Fn,Tr,tr,nt,dt,Me,ut,pe,ve,ne,de){this.schedulers=Fn;const J=(0,le.iB)(Ut,Dn,wt),rt=tr;nt&&L(J,Dn,dt,ut,pe,ve,Me,ne),[this.firestore,this.persistenceEnabled$]=(0,le.BM)(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const Mt=Dn.runOutsideAngular(()=>J.firestore());if($n&&Mt.settings($n),rt&&Mt.useEmulator(...rt),qt&&!(0,a.Vy)($e)){const hn=()=>{try{return(0,ze.H)(Mt.enablePersistence(Tr||void 0).then(()=>!0,()=>!1))}catch(An){return typeof console<"u"&&console.warn(An),(0,ue.of)(!1)}};return[Mt,Dn.runOutsideAngular(hn)]}return[Mt,(0,ue.of)(!1)]},[$n,rt,qt])}collection(Ut,wt){let qt;qt="string"==typeof Ut?this.firestore.collection(Ut):Ut;const{ref:$n,query:$e}=Rn(qt,wt),Dn=this.schedulers.ngZone.run(()=>$n);return new cr(Dn,$e,this)}collectionGroup(Ut,wt){const qt=wt||($e=>$e),$n=this.firestore.collectionGroup(Ut);return new zn(qt($n),this)}doc(Ut){let wt;wt="string"==typeof Ut?this.firestore.doc(Ut):Ut;const qt=this.schedulers.ngZone.run(()=>wt);return new sn(qt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(wt){return new(wt||Vt)(C.KVO(le.rx),C.KVO(le.uP,8),C.KVO(fn,8),C.KVO(Un,8),C.KVO(C.Agw),C.KVO(C.SKi),C.KVO(V.u0),C.KVO(gn,8),C.KVO(Yn,8),C.KVO(se,8),C.KVO(We,8),C.KVO(At,8),C.KVO(Ie,8),C.KVO(W,8),C.KVO(M,8),C.KVO(S,8),C.KVO(V.Jv,8))};static \u0275prov=C.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"any"})}return Vt})(),wn=(()=>{class Vt{constructor(){ot.A.registerVersion("angularfire",V.xv.full,"fst-compat")}static enablePersistence(Ut){return{ngModule:Vt,providers:[{provide:fn,useValue:!0},{provide:gn,useValue:Ut}]}}static \u0275fac=function(wt){return new(wt||Vt)};static \u0275mod=C.$C({type:Vt});static \u0275inj=C.G2t({providers:[Jn]})}return Vt})()},9253:(vn,gt,x)=>{"use strict";x.d(gt,{BM:()=>ke,Gt:()=>Se,bf:()=>Fe,e7:()=>Ve,iB:()=>De,rx:()=>Oe,uP:()=>ze});var a=x(4438),C=x(5407),V=x(7935);const le=["ngOnDestroy"],Se=(Be,It,Ge,tt={})=>new Proxy(Be,{get:(_e,xe)=>Ge.runOutsideAngular(()=>{if(Be[xe])return tt?.spy?.get&&tt.spy.get(xe,Be[xe]),Be[xe];if(le.indexOf(xe)>-1)return()=>{};const Pe=It.toPromise().then(lt=>{const Ne=lt?.[xe];return"function"==typeof Ne?Ne.bind(lt):Ne?.then?Ne.then(me=>Ge.run(()=>me)):Ge.run(()=>Ne)});return new Proxy(()=>{},{get:(lt,Ne)=>Pe[Ne],apply:(lt,Ne,me)=>Pe.then(Et=>{const Ye=Et?.(...me);return tt?.spy?.apply&&tt.spy.apply(xe,me,Ye),Ye})})})}),Ve=(Be,It)=>{It.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(tt=>{Object.defineProperty(Be.prototype,tt,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,tt))})})};class ue{constructor(It){return It}}const Oe=new a.nKC("angularfire2.app.options"),ze=new a.nKC("angularfire2.app.name");function De(Be,It,Ge){const _e="object"==typeof Ge&&Ge||{};_e.name=_e.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Pe=V.A.apps.filter(lt=>lt&&lt.name===_e.name)[0]||It.runOutsideAngular(()=>V.A.initializeApp(Be,_e));try{if(JSON.stringify(Be)!==JSON.stringify(Pe.options)){const lt=!!module.hot;he("error",`${Pe.name} Firebase App already initialized with different options${lt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ue(Pe)}const he=(Be,...It)=>{(0,a.naY)()&&typeof console<"u"&&console[Be](...It)},Le={provide:ue,useFactory:De,deps:[Oe,a.SKi,[new a.Xx1,ze]]};let Fe=(()=>{class Be{static initializeApp(Ge,tt){return{ngModule:Be,providers:[{provide:Oe,useValue:Ge},{provide:ze,useValue:tt}]}}constructor(Ge){V.A.registerVersion("angularfire",C.xv.full,"core"),V.A.registerVersion("angularfire",C.xv.full,"app-compat"),V.A.registerVersion("angular",a.xvI.full,Ge.toString())}static \u0275fac=function(tt){return new(tt||Be)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:Be});static \u0275inj=a.G2t({providers:[Le]})}return Be})();function ke(Be,It,Ge,tt,_e){const[,xe,Pe]=globalThis.\u0275AngularfireInstanceCache.find(lt=>lt[0]===Be)||[];if(xe)return function Xe(Be,It){try{return Be.toString()===It.toString()}catch{return Be===It}}(_e,Pe)||(qe("error",`${It} was already initialized on the ${Ge} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:_e,was:Pe})),xe;{const lt=tt();return globalThis.\u0275AngularfireInstanceCache.push([Be,lt,_e]),lt}}const et=typeof module<"u"&&!!module.hot,qe=(Be,...It)=>{(0,a.naY)()&&typeof console<"u"&&console[Be](...It)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(vn,gt,x)=>{"use strict";x.d(gt,{xv:()=>ke,U0:()=>Ye,u0:()=>xe,Jv:()=>Be,CA:()=>qe,lR:()=>et,S3:()=>We});var a=x(4438),C=x(2214),V=x(6780),Se=x(9687);const ue=new class Ve extends Se.q{}(class le extends V.R{constructor(Ie,W){super(Ie,W),this.scheduler=Ie,this.work=W}schedule(Ie,W=0){return W>0?super.schedule(Ie,W):(this.delay=W,this.state=Ie,this.scheduler.flush(this),this)}execute(Ie,W){return W>0||this.closed?super.execute(Ie,W):this._execute(Ie,W)}requestAsyncId(Ie,W,M=0){return null!=M&&M>0||null==M&&this.delay>0?super.requestAsyncId(Ie,W,M):(Ie.flush(this),0)}});var ze=x(3236),De=x(1985),he=x(8141),Le=x(6745),Fe=x(941);const ke=new a.RxE("ANGULARFIRE2_VERSION");function et(At,Ie,W){if(Ie){if(1===Ie.length)return Ie[0];const L=Ie.filter(se=>se.app===W);if(1===L.length)return L[0]}return W.container.getProvider(At).getImmediate({optional:!0})}const qe=(At,Ie)=>{const W=Ie?[Ie]:(0,C.Dk)(),M=[];return W.forEach(S=>{S.container.getProvider(At).instances.forEach(se=>{M.includes(se)||M.push(se)})}),M};class Be{constructor(){return qe(It)}}const It="app-check";function Ge(){}class tt{zone;delegate;constructor(Ie,W=ue){this.zone=Ie,this.delegate=W}now(){return this.delegate.now()}schedule(Ie,W,M){const S=this.zone;return this.delegate.schedule(function(se){S.runGuarded(()=>{Ie.apply(this,[se])})},W,M)}}class _e{zone;task=null;constructor(Ie){this.zone=Ie}call(Ie,W){const M=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),W.pipe((0,he.M)({next:M,complete:M,error:M})).subscribe(Ie).add(M)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xe=(()=>{class At{ngZone;outsideAngular;insideAngular;constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new tt(Zone.current)),this.insideAngular=W.run(()=>new tt(Zone.current,ze.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(M){return new(M||At)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:At,factory:At.\u0275fac,providedIn:"root"})}return At})();function Pe(){const At=globalThis.\u0275AngularFireScheduler;if(!At)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return At}function Ne(At){return Pe().ngZone.run(()=>At())}function Ye(At){return function ot(At){return function(W){return(W=W.lift(new _e(At.ngZone))).pipe((0,Le._)(At.outsideAngular),(0,Fe.Q)(At.insideAngular))}}(Pe())(At)}const Je=(At,Ie)=>function(){const M=arguments;return Ie&&setTimeout(()=>{"scheduled"===Ie.state&&Ie.invoke()},10),Ne(()=>At.apply(void 0,M))},We=(At,Ie)=>function(){let W;const M=arguments;for(let L=0;L<arguments.length;L++)"function"==typeof M[L]&&(Ie&&(W||=Ne(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge))),M[L]=Je(M[L],W));const S=function lt(At){return Pe().ngZone.runOutsideAngular(()=>At())}(()=>At.apply(this,M));if(!Ie){if(S instanceof De.c){const L=Pe();return S.pipe((0,Le._)(L.outsideAngular),(0,Fe.Q)(L.insideAngular))}return Ne(()=>S)}return S instanceof De.c?S.pipe(Ye):S instanceof Promise?Ne(()=>new Promise((L,se)=>S.then(je=>Ne(()=>L(je)),je=>Ne(()=>se(je))))):"function"==typeof S&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),S.apply(this,arguments)}:Ne(()=>S)}},4341:(vn,gt,x)=>{"use strict";x.d(gt,{ok:()=>ua,MJ:()=>_r,JD:()=>He,gE:()=>An,j4:()=>Kn,YN:()=>da,zX:()=>ri,VZ:()=>ko,cz:()=>Pe,kq:()=>Xe,vO:()=>Tt,BC:()=>zn,cb:()=>fn,vS:()=>or,X1:()=>Ns,qT:()=>Rr});var a=x(4438),C=x(177),V=x(8455),le=x(1985),Se=x(3073),Ve=x(8750),ue=x(3794),Oe=x(4360),ze=x(6450),De=x(8496),Le=x(6354);let Fe=(()=>{class G{constructor(P,fe){this._renderer=P,this._elementRef=fe,this.onChange=Ze=>{},this.onTouched=()=>{}}setProperty(P,fe){this._renderer.setProperty(this._elementRef.nativeElement,P,fe)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(a.sFG),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:G})}return G})(),ke=(()=>{class G extends Fe{static#e=this.\u0275fac=(()=>{let P;return function(Ze){return(P||(P=a.xGo(G)))(Ze||G)}})();static#t=this.\u0275dir=a.FsC({type:G,features:[a.Vt3]})}return G})();const Xe=new a.nKC(""),Be={provide:Xe,useExisting:(0,a.Rfq)(()=>tt),multi:!0},Ge=new a.nKC("");let tt=(()=>{class G extends Fe{constructor(P,fe,Ze){super(P,fe),this._compositionMode=Ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function It(){const G=(0,C.QT)()?(0,C.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(Ge,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(fe,Ze){1&fe&&a.bIt("input",function(dr){return Ze._handleInput(dr.target.value)})("blur",function(){return Ze.onTouched()})("compositionstart",function(){return Ze._compositionStart()})("compositionend",function(dr){return Ze._compositionEnd(dr.target.value)})},features:[a.Jv_([Be]),a.Vt3]})}return G})();function _e(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}const Pe=new a.nKC(""),lt=new a.nKC("");function M(G){return null}function S(G){return null!=G}function L(G){return(0,a.jNT)(G)?(0,V.H)(G):G}function se(G){let Q={};return G.forEach(P=>{Q=null!=P?{...Q,...P}:Q}),0===Object.keys(Q).length?null:Q}function je(G,Q){return Q.map(P=>P(G))}function Bt(G){return G.map(Q=>function we(G){return!G.validate}(Q)?Q:P=>Q.validate(P))}function Cn(G){return null!=G?function tn(G){if(!G)return null;const Q=G.filter(S);return 0==Q.length?null:function(P){return se(je(P,Q))}}(Bt(G)):null}function rn(G){return null!=G?function ln(G){if(!G)return null;const Q=G.filter(S);return 0==Q.length?null:function(P){return function he(...G){const Q=(0,ue.ms)(G),{args:P,keys:fe}=(0,Se.D)(G),Ze=new le.c(bn=>{const{length:dr}=P;if(!dr)return void bn.complete();const Cr=new Array(dr);let Eo=dr,Co=dr;for(let us=0;us<dr;us++){let ks=!1;(0,Ve.Tg)(P[us]).subscribe((0,Oe._)(bn,cl=>{ks||(ks=!0,Co--),Cr[us]=cl},()=>Eo--,void 0,()=>{(!Eo||!ks)&&(Co||bn.next(fe?(0,De.e)(fe,Cr):Cr),bn.complete())}))}});return Q?Ze.pipe((0,ze.I)(Q)):Ze}(je(P,Q).map(L)).pipe((0,Le.T)(se))}}(Bt(G)):null}function Pn(G,Q){return null===G?[Q]:Array.isArray(G)?[...G,Q]:[G,Q]}function hr(G){return G._rawValidators}function en(G){return G._rawAsyncValidators}function kn(G){return G?Array.isArray(G)?G:[G]:[]}function Gn(G,Q){return Array.isArray(G)?G.includes(Q):G===Q}function sn(G,Q){const P=kn(Q);return kn(G).forEach(Ze=>{Gn(P,Ze)||P.push(Ze)}),P}function $t(G,Q){return kn(Q).filter(P=>!Gn(G,P))}class ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=Cn(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,P){return!!this.control&&this.control.hasError(Q,P)}getError(Q,P){return this.control?this.control.getError(Q,P):null}}class st extends ct{get formDirective(){return null}get path(){return null}}class Tt extends ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kt{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zn=(()=>{class G extends Kt{constructor(P){super(P)}static#e=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(Tt,2))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(fe,Ze){2&fe&&a.AVh("ng-untouched",Ze.isUntouched)("ng-touched",Ze.isTouched)("ng-pristine",Ze.isPristine)("ng-dirty",Ze.isDirty)("ng-valid",Ze.isValid)("ng-invalid",Ze.isInvalid)("ng-pending",Ze.isPending)},features:[a.Vt3]})}return G})(),fn=(()=>{class G extends Kt{constructor(P){super(P)}static#e=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(st,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(fe,Ze){2&fe&&a.AVh("ng-untouched",Ze.isUntouched)("ng-touched",Ze.isTouched)("ng-pristine",Ze.isPristine)("ng-dirty",Ze.isDirty)("ng-valid",Ze.isValid)("ng-invalid",Ze.isInvalid)("ng-pending",Ze.isPending)("ng-submitted",Ze.isSubmitted)},features:[a.Vt3]})}return G})();const nt="VALID",dt="INVALID",Me="PENDING",ut="DISABLED";function pe(G){return(J(G)?G.validators:G)||null}function ne(G,Q){return(J(Q)?Q.asyncValidators:G)||null}function J(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function rt(G,Q,P){const fe=G.controls;if(!(Q?Object.keys(fe):fe).length)throw new a.wOt(1e3,"");if(!fe[P])throw new a.wOt(1001,"")}function Mt(G,Q,P){G._forEachChild((fe,Ze)=>{if(void 0===P[Ze])throw new a.wOt(1002,"")})}class hn{constructor(Q,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===nt}get invalid(){return this.status===dt}get pending(){return this.status==Me}get disabled(){return this.status===ut}get enabled(){return this.status!==ut}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(sn(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(sn(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators($t(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators($t(Q,this._rawAsyncValidators))}hasValidator(Q){return Gn(this._rawValidators,Q)}hasAsyncValidator(Q){return Gn(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){this.touched=!0,this._parent&&!Q.onlySelf&&this._parent.markAsTouched(Q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Q=>Q.markAllAsTouched())}markAsUntouched(Q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}markAsDirty(Q={}){this.pristine=!1,this._parent&&!Q.onlySelf&&this._parent.markAsDirty(Q)}markAsPristine(Q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}markAsPending(Q={}){this.status=Me,!1!==Q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Q.onlySelf&&this._parent.markAsPending(Q)}disable(Q={}){const P=this._parentMarkedDirty(Q.onlySelf);this.status=ut,this.errors=null,this._forEachChild(fe=>{fe.disable({...Q,onlySelf:!0})}),this._updateValue(),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:P}),this._onDisabledChange.forEach(fe=>fe(!0))}enable(Q={}){const P=this._parentMarkedDirty(Q.onlySelf);this.status=nt,this._forEachChild(fe=>{fe.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:P}),this._onDisabledChange.forEach(fe=>fe(!1))}_updateAncestors(Q){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nt||this.status===Me)&&this._runAsyncValidator(Q.emitEvent)),!1!==Q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity(Q)}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ut:nt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q){if(this.asyncValidator){this.status=Me,this._hasOwnPendingAsyncValidator=!0;const P=L(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(fe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(fe,{emitEvent:Q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Q,P={}){this.errors=Q,this._updateControlsErrors(!1!==P.emitEvent)}get(Q){let P=Q;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((fe,Ze)=>fe&&fe._find(Ze),this)}getError(Q,P){const fe=P?this.get(P):this;return fe&&fe.errors?fe.errors[Q]:null}hasError(Q,P){return!!this.getError(Q,P)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Q)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?ut:this.errors?dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Me)?Me:this._anyControlsHaveStatus(dt)?dt:nt}_anyControlsHaveStatus(Q){return this._anyControls(P=>P.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q)}_updateTouched(Q={}){this.touched=this._anyControlsTouched(),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){J(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function ve(G){return Array.isArray(G)?Cn(G):G||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function de(G){return Array.isArray(G)?rn(G):G||null}(this._rawAsyncValidators)}}class An extends hn{constructor(Q,P,fe){super(pe(P),ne(fe,P)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,P){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(Q,P,fe={}){this.registerControl(Q,P),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}removeControl(Q,P={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(Q,P,fe={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],P&&this.registerControl(Q,P),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,P={}){Mt(this,0,Q),Object.keys(Q).forEach(fe=>{rt(this,!0,fe),this.controls[fe].setValue(Q[fe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(Q,P={}){null!=Q&&(Object.keys(Q).forEach(fe=>{const Ze=this.controls[fe];Ze&&Ze.patchValue(Q[fe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(Q={},P={}){this._forEachChild((fe,Ze)=>{fe.reset(Q?Q[Ze]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(Q,P,fe)=>(Q[fe]=P.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(P,fe)=>!!fe._syncPendingControls()||P);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(P=>{const fe=this.controls[P];fe&&Q(fe,P)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[P,fe]of Object.entries(this.controls))if(this.contains(P)&&Q(fe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,fe,Ze)=>((fe.enabled||this.disabled)&&(P[Ze]=fe.value),P))}_reduceChildren(Q,P){let fe=Q;return this._forEachChild((Ze,bn)=>{fe=P(fe,Ze,bn)}),fe}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}class yn extends An{}const Or=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>jr}),jr="always";function Ci(G,Q){return[...Q.path,G]}function bi(G,Q,P=jr){Di(G,Q),Q.valueAccessor.writeValue(G.value),(G.disabled||"always"===P)&&Q.valueAccessor.setDisabledState?.(G.disabled),function ee(G,Q){Q.valueAccessor.registerOnChange(P=>{G._pendingValue=P,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&ie(G,Q)})}(G,Q),function Ke(G,Q){const P=(fe,Ze)=>{Q.valueAccessor.writeValue(fe),Ze&&Q.viewToModelUpdate(fe)};G.registerOnChange(P),Q._registerOnDestroy(()=>{G._unregisterOnChange(P)})}(G,Q),function H(G,Q){Q.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&ie(G,Q),"submit"!==G.updateOn&&G.markAsTouched()})}(G,Q),function oi(G,Q){if(Q.valueAccessor.setDisabledState){const P=fe=>{Q.valueAccessor.setDisabledState(fe)};G.registerOnDisabledChange(P),Q._registerOnDestroy(()=>{G._unregisterOnDisabledChange(P)})}}(G,Q)}function pr(G,Q,P=!0){const fe=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(fe),Q.valueAccessor.registerOnTouched(fe)),re(G,Q),G&&(Q._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Mi(G,Q){G.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(Q)})}function Di(G,Q){const P=hr(G);null!==Q.validator?G.setValidators(Pn(P,Q.validator)):"function"==typeof P&&G.setValidators([P]);const fe=en(G);null!==Q.asyncValidator?G.setAsyncValidators(Pn(fe,Q.asyncValidator)):"function"==typeof fe&&G.setAsyncValidators([fe]);const Ze=()=>G.updateValueAndValidity();Mi(Q._rawValidators,Ze),Mi(Q._rawAsyncValidators,Ze)}function re(G,Q){let P=!1;if(null!==G){if(null!==Q.validator){const Ze=hr(G);if(Array.isArray(Ze)&&Ze.length>0){const bn=Ze.filter(dr=>dr!==Q.validator);bn.length!==Ze.length&&(P=!0,G.setValidators(bn))}}if(null!==Q.asyncValidator){const Ze=en(G);if(Array.isArray(Ze)&&Ze.length>0){const bn=Ze.filter(dr=>dr!==Q.asyncValidator);bn.length!==Ze.length&&(P=!0,G.setAsyncValidators(bn))}}}const fe=()=>{};return Mi(Q._rawValidators,fe),Mi(Q._rawAsyncValidators,fe),P}function ie(G,Q){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function qr(G,Q){if(!G.hasOwnProperty("model"))return!1;const P=G.model;return!!P.isFirstChange()||!Object.is(Q,P.currentValue)}function Nn(G,Q){if(!Q)return null;let P,fe,Ze;return Array.isArray(Q),Q.forEach(bn=>{bn.constructor===tt?P=bn:function pi(G){return Object.getPrototypeOf(G.constructor)===ke}(bn)?fe=bn:Ze=bn}),Ze||fe||P||null}function Hi(G,Q){const P=G.indexOf(Q);P>-1&&G.splice(P,1)}function Hr(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}Promise.resolve();const _r=class extends hn{constructor(Q=null,P,fe){super(pe(P),ne(fe,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),J(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=Hr(Q)?Q.value:Q)}setValue(Q,P={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(fe=>fe(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(Q,P={}){this.setValue(Q,P)}reset(Q=this.defaultValue,P={}){this._applyFormState(Q),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Hi(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Hi(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){Hr(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}},qi={provide:Tt,useExisting:(0,a.Rfq)(()=>or)},_o=Promise.resolve();let or=(()=>{class G extends Tt{constructor(P,fe,Ze,bn,dr,Cr){super(),this._changeDetectorRef=dr,this.callSetDisabledState=Cr,this.control=new _r,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=P,this._setValidators(fe),this._setAsyncValidators(Ze),this.valueAccessor=Nn(0,bn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const fe=P.name.previousValue;this.formDirective.removeControl({name:fe,path:this._getPath(fe)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),qr(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){_o.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const fe=P.isDisabled.currentValue,Ze=0!==fe&&(0,a.L39)(fe);_o.then(()=>{Ze&&!this.control.disabled?this.control.disable():!Ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?Ci(P,this._parent):[P]}static#e=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(st,9),a.rXU(Pe,10),a.rXU(lt,10),a.rXU(Xe,10),a.rXU(a.gRc,8),a.rXU(Or,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[a.Mj6.None,"disabled","isDisabled"],model:[a.Mj6.None,"ngModel","model"],options:[a.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([qi]),a.Vt3,a.OA$]})}return G})(),Rr=(()=>{class G{static#e=this.\u0275fac=function(fe){return new(fe||G)};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})();const sr=new a.nKC(""),Ee={provide:st,useExisting:(0,a.Rfq)(()=>Kn)};let Kn=(()=>{class G extends st{constructor(P,fe,Ze){super(),this.callSetDisabledState=Ze,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(P),this._setAsyncValidators(fe)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(re(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const fe=this.form.get(P.path);return bi(fe,P,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),fe}getControl(P){return this.form.get(P.path)}removeControl(P){pr(P.control||null,P,!1),function Vi(G,Q){const P=G.indexOf(Q);P>-1&&G.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,fe){this.form.get(P.path).setValue(fe)}onSubmit(P){return this.submitted=!0,function Si(G,Q){G._syncPendingControls(),Q.forEach(P=>{const fe=P.control;"submit"===fe.updateOn&&fe._pendingChange&&(P.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const fe=P.control,Ze=this.form.get(P.path);fe!==Ze&&(pr(fe||null,P),(G=>G instanceof _r)(Ze)&&(bi(Ze,P,this.callSetDisabledState),P.control=Ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const fe=this.form.get(P.path);(function Te(G,Q){Di(G,Q)})(fe,P),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const fe=this.form.get(P.path);fe&&function mt(G,Q){return re(G,Q)}(fe,P)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Di(this.form,this),this._oldForm&&re(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(Pe,10),a.rXU(lt,10),a.rXU(Or,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(fe,Ze){1&fe&&a.bIt("submit",function(dr){return Ze.onSubmit(dr)})("reset",function(){return Ze.onReset()})},inputs:{form:[a.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([Ee]),a.Vt3,a.OA$]})}return G})();const Ae={provide:Tt,useExisting:(0,a.Rfq)(()=>He)};let He=(()=>{class G extends Tt{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,fe,Ze,bn,dr){super(),this._ngModelWarningConfig=dr,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(fe),this._setAsyncValidators(Ze),this.valueAccessor=Nn(0,bn)}ngOnChanges(P){this._added||this._setUpControl(),qr(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Ci(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(fe){return new(fe||G)(a.rXU(st,13),a.rXU(Pe,10),a.rXU(lt,10),a.rXU(Xe,10),a.rXU(sr,8))};static#n=this.\u0275dir=a.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:[a.Mj6.None,"formControlName","name"],isDisabled:[a.Mj6.None,"disabled","isDisabled"],model:[a.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([Ae]),a.Vt3,a.OA$]})}return G})();function Er(G){return"number"==typeof G?G:parseFloat(G)}let Wn=(()=>{class G{constructor(){this._validator=M}ngOnChanges(P){if(this.inputName in P){const fe=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):M,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}static#e=this.\u0275fac=function(fe){return new(fe||G)};static#t=this.\u0275dir=a.FsC({type:G,features:[a.OA$]})}return G})();const ar={provide:Pe,useExisting:(0,a.Rfq)(()=>ri),multi:!0};let ri=(()=>{class G extends Wn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=P=>Er(P),this.createValidator=P=>function Ye(G){return Q=>{if(_e(Q.value)||_e(G))return null;const P=parseFloat(Q.value);return!isNaN(P)&&P>G?{max:{max:G,actual:Q.value}}:null}}(P)}static#e=this.\u0275fac=(()=>{let P;return function(Ze){return(P||(P=a.xGo(G)))(Ze||G)}})();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(fe,Ze){2&fe&&a.BMQ("max",Ze._enabled?Ze.max:null)},inputs:{max:"max"},features:[a.Jv_([ar]),a.Vt3]})}return G})();const fo={provide:Pe,useExisting:(0,a.Rfq)(()=>ko),multi:!0};let ko=(()=>{class G extends Wn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=P=>Er(P),this.createValidator=P=>function Et(G){return Q=>{if(_e(Q.value)||_e(G))return null;const P=parseFloat(Q.value);return!isNaN(P)&&P<G?{min:{min:G,actual:Q.value}}:null}}(P)}static#e=this.\u0275fac=(()=>{let P;return function(Ze){return(P||(P=a.xGo(G)))(Ze||G)}})();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(fe,Ze){2&fe&&a.BMQ("min",Ze._enabled?Ze.min:null)},inputs:{min:"min"},features:[a.Jv_([fo]),a.Vt3]})}return G})(),Ui=(()=>{class G{static#e=this.\u0275fac=function(fe){return new(fe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({})}return G})();class Io extends hn{constructor(Q,P,fe){super(pe(P),ne(fe,P)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,P={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(Q,P,fe={}){this.controls.splice(Q,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:fe.emitEvent})}removeAt(Q,P={}){let fe=this._adjustIndex(Q);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(Q,P,fe={}){let Ze=this._adjustIndex(Q);Ze<0&&(Ze=0),this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),this.controls.splice(Ze,1),P&&(this.controls.splice(Ze,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,P={}){Mt(this,0,Q),Q.forEach((fe,Ze)=>{rt(this,!1,Ze),this.at(Ze).setValue(fe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(Q,P={}){null!=Q&&(Q.forEach((fe,Ze)=>{this.at(Ze)&&this.at(Ze).patchValue(fe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(Q=[],P={}){this._forEachChild((fe,Ze)=>{fe.reset(Q[Ze],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((P,fe)=>!!fe._syncPendingControls()||P,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((P,fe)=>{Q(P,fe)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(P=>P.enabled&&Q(P))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function Qi(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let ua=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new G;return P.useNonNullable=!0,P}group(P,fe=null){const Ze=this._reduceControls(P);let bn={};return Qi(fe)?bn=fe:null!==fe&&(bn.validators=fe.validator,bn.asyncValidators=fe.asyncValidator),new An(Ze,bn)}record(P,fe=null){const Ze=this._reduceControls(P);return new yn(Ze,fe)}control(P,fe,Ze){let bn={};return this.useNonNullable?(Qi(fe)?bn=fe:(bn.validators=fe,bn.asyncValidators=Ze),new _r(P,{...bn,nonNullable:!0})):new _r(P,fe,Ze)}array(P,fe,Ze){const bn=P.map(dr=>this._createControl(dr));return new Io(bn,fe,Ze)}_reduceControls(P){const fe={};return Object.keys(P).forEach(Ze=>{fe[Ze]=this._createControl(P[Ze])}),fe}_createControl(P){return P instanceof _r||P instanceof hn?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(fe){return new(fe||G)};static#t=this.\u0275prov=a.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),da=(()=>{class G{static withConfig(P){return{ngModule:G,providers:[{provide:Or,useValue:P.callSetDisabledState??jr}]}}static#e=this.\u0275fac=function(fe){return new(fe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[Ui]})}return G})(),Ns=(()=>{class G{static withConfig(P){return{ngModule:G,providers:[{provide:sr,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:Or,useValue:P.callSetDisabledState??jr}]}}static#e=this.\u0275fac=function(fe){return new(fe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[Ui]})}return G})()},345:(vn,gt,x)=>{"use strict";x.d(gt,{Bb:()=>kn,hE:()=>$t,sG:()=>rn});var a=x(4438),C=x(177);class V extends C.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends V{static makeCurrent(){(0,C.ZD)(new le)}onAndCancel(dt,Me,ut){return dt.addEventListener(Me,ut),()=>{dt.removeEventListener(Me,ut)}}dispatchEvent(dt,Me){dt.dispatchEvent(Me)}remove(dt){dt.parentNode&&dt.parentNode.removeChild(dt)}createElement(dt,Me){return(Me=Me||this.getDefaultDocument()).createElement(dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(dt){return dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(dt){return dt instanceof DocumentFragment}getGlobalEventTarget(dt,Me){return"window"===Me?window:"document"===Me?dt:"body"===Me?dt.body:null}getBaseHref(dt){const Me=function Ve(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==Me?null:function ue(nt){return new URL(nt,document.baseURI).pathname}(Me)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(dt){return(0,C._b)(document.cookie,dt)}}let Se=null,ze=(()=>{class nt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ut){return new(ut||nt)};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac})}return nt})();const De=new a.nKC("");let he=(()=>{class nt{constructor(Me,ut){this._zone=ut,this._eventNameToPlugin=new Map,Me.forEach(pe=>{pe.manager=this}),this._plugins=Me.slice().reverse()}addEventListener(Me,ut,pe){return this._findPluginFor(ut).addEventListener(Me,ut,pe)}getZone(){return this._zone}_findPluginFor(Me){let ut=this._eventNameToPlugin.get(Me);if(ut)return ut;if(ut=this._plugins.find(ve=>ve.supports(Me)),!ut)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(Me,ut),ut}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(De),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac})}return nt})();class Le{constructor(dt){this._doc=dt}}const Fe="ng-app-id";let ke=(()=>{class nt{constructor(Me,ut,pe,ve={}){this.doc=Me,this.appId=ut,this.nonce=pe,this.platformId=ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,C.Vy)(ve),this.resetHostNodes()}addStyles(Me){for(const ut of Me)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(Me){for(const ut of Me)this.changeUsageCount(ut,-1)<=0&&this.onStyleRemoved(ut)}ngOnDestroy(){const Me=this.styleNodesInDOM;Me&&(Me.forEach(ut=>ut.remove()),Me.clear());for(const ut of this.getAllStyles())this.onStyleRemoved(ut);this.resetHostNodes()}addHost(Me){this.hostNodes.add(Me);for(const ut of this.getAllStyles())this.addStyleToHost(Me,ut)}removeHost(Me){this.hostNodes.delete(Me)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Me){for(const ut of this.hostNodes)this.addStyleToHost(ut,Me)}onStyleRemoved(Me){const ut=this.styleRef;ut.get(Me)?.elements?.forEach(pe=>pe.remove()),ut.delete(Me)}collectServerRenderedStyles(){const Me=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(Me?.length){const ut=new Map;return Me.forEach(pe=>{null!=pe.textContent&&ut.set(pe.textContent,pe)}),ut}return null}changeUsageCount(Me,ut){const pe=this.styleRef;if(pe.has(Me)){const ve=pe.get(Me);return ve.usage+=ut,ve.usage}return pe.set(Me,{usage:ut,elements:[]}),ut}getStyleElement(Me,ut){const pe=this.styleNodesInDOM,ve=pe?.get(ut);if(ve?.parentNode===Me)return pe.delete(ut),ve.removeAttribute(Fe),ve;{const ne=this.doc.createElement("style");return this.nonce&&ne.setAttribute("nonce",this.nonce),ne.textContent=ut,this.platformIsServer&&ne.setAttribute(Fe,this.appId),Me.appendChild(ne),ne}}addStyleToHost(Me,ut){const pe=this.getStyleElement(Me,ut),ve=this.styleRef,ne=ve.get(ut)?.elements;ne?ne.push(pe):ve.set(ut,{elements:[pe],usage:1})}resetHostNodes(){const Me=this.hostNodes;Me.clear(),Me.add(this.doc.head)}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(C.qQ),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac})}return nt})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g,tt=new a.nKC("",{providedIn:"root",factory:()=>!0});function Pe(nt,dt){return dt.map(Me=>Me.replace(et,nt))}let lt=(()=>{class nt{constructor(Me,ut,pe,ve,ne,de,J,rt=null){this.eventManager=Me,this.sharedStylesHost=ut,this.appId=pe,this.removeStylesOnCompDestroy=ve,this.doc=ne,this.platformId=de,this.ngZone=J,this.nonce=rt,this.rendererByCompId=new Map,this.platformIsServer=(0,C.Vy)(de),this.defaultRenderer=new Ne(Me,ne,J,this.platformIsServer)}createRenderer(Me,ut){if(!Me||!ut)return this.defaultRenderer;this.platformIsServer&&ut.encapsulation===a.gXe.ShadowDom&&(ut={...ut,encapsulation:a.gXe.Emulated});const pe=this.getOrCreateRenderer(Me,ut);return pe instanceof We?pe.applyToHost(Me):pe instanceof Je&&pe.applyStyles(),pe}getOrCreateRenderer(Me,ut){const pe=this.rendererByCompId;let ve=pe.get(ut.id);if(!ve){const ne=this.doc,de=this.ngZone,J=this.eventManager,rt=this.sharedStylesHost,Mt=this.removeStylesOnCompDestroy,hn=this.platformIsServer;switch(ut.encapsulation){case a.gXe.Emulated:ve=new We(J,rt,ut,this.appId,Mt,ne,de,hn);break;case a.gXe.ShadowDom:return new ot(J,rt,Me,ut,ne,de,this.nonce,hn);default:ve=new Je(J,rt,ut,Mt,ne,de,hn)}pe.set(ut.id,ve)}return ve}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(he),a.KVO(ke),a.KVO(a.sZ2),a.KVO(tt),a.KVO(C.qQ),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac})}return nt})();class Ne{constructor(dt,Me,ut,pe){this.eventManager=dt,this.doc=Me,this.ngZone=ut,this.platformIsServer=pe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(dt,Me){return Me?this.doc.createElementNS(Xe[Me]||Me,dt):this.doc.createElement(dt)}createComment(dt){return this.doc.createComment(dt)}createText(dt){return this.doc.createTextNode(dt)}appendChild(dt,Me){(Ye(dt)?dt.content:dt).appendChild(Me)}insertBefore(dt,Me,ut){dt&&(Ye(dt)?dt.content:dt).insertBefore(Me,ut)}removeChild(dt,Me){dt&&dt.removeChild(Me)}selectRootElement(dt,Me){let ut="string"==typeof dt?this.doc.querySelector(dt):dt;if(!ut)throw new a.wOt(-5104,!1);return Me||(ut.textContent=""),ut}parentNode(dt){return dt.parentNode}nextSibling(dt){return dt.nextSibling}setAttribute(dt,Me,ut,pe){if(pe){Me=pe+":"+Me;const ve=Xe[pe];ve?dt.setAttributeNS(ve,Me,ut):dt.setAttribute(Me,ut)}else dt.setAttribute(Me,ut)}removeAttribute(dt,Me,ut){if(ut){const pe=Xe[ut];pe?dt.removeAttributeNS(pe,Me):dt.removeAttribute(`${ut}:${Me}`)}else dt.removeAttribute(Me)}addClass(dt,Me){dt.classList.add(Me)}removeClass(dt,Me){dt.classList.remove(Me)}setStyle(dt,Me,ut,pe){pe&(a.czy.DashCase|a.czy.Important)?dt.style.setProperty(Me,ut,pe&a.czy.Important?"important":""):dt.style[Me]=ut}removeStyle(dt,Me,ut){ut&a.czy.DashCase?dt.style.removeProperty(Me):dt.style[Me]=""}setProperty(dt,Me,ut){null!=dt&&(dt[Me]=ut)}setValue(dt,Me){dt.nodeValue=Me}listen(dt,Me,ut){if("string"==typeof dt&&!(dt=(0,C.QT)().getGlobalEventTarget(this.doc,dt)))throw new Error(`Unsupported event target ${dt} for event ${Me}`);return this.eventManager.addEventListener(dt,Me,this.decoratePreventDefault(ut))}decoratePreventDefault(dt){return Me=>{if("__ngUnwrap__"===Me)return dt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>dt(Me)):dt(Me))&&Me.preventDefault()}}}function Ye(nt){return"TEMPLATE"===nt.tagName&&void 0!==nt.content}class ot extends Ne{constructor(dt,Me,ut,pe,ve,ne,de,J){super(dt,ve,ne,J),this.sharedStylesHost=Me,this.hostEl=ut,this.shadowRoot=ut.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rt=Pe(pe.id,pe.styles);for(const Mt of rt){const hn=document.createElement("style");de&&hn.setAttribute("nonce",de),hn.textContent=Mt,this.shadowRoot.appendChild(hn)}}nodeOrShadowRoot(dt){return dt===this.hostEl?this.shadowRoot:dt}appendChild(dt,Me){return super.appendChild(this.nodeOrShadowRoot(dt),Me)}insertBefore(dt,Me,ut){return super.insertBefore(this.nodeOrShadowRoot(dt),Me,ut)}removeChild(dt,Me){return super.removeChild(this.nodeOrShadowRoot(dt),Me)}parentNode(dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(dt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Je extends Ne{constructor(dt,Me,ut,pe,ve,ne,de,J){super(dt,ve,ne,de),this.sharedStylesHost=Me,this.removeStylesOnCompDestroy=pe,this.styles=J?Pe(J,ut.styles):ut.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class We extends Je{constructor(dt,Me,ut,pe,ve,ne,de,J){const rt=pe+"-"+ut.id;super(dt,Me,ut,ve,ne,de,J,rt),this.contentAttr=function _e(nt){return"_ngcontent-%COMP%".replace(et,nt)}(rt),this.hostAttr=function xe(nt){return"_nghost-%COMP%".replace(et,nt)}(rt)}applyToHost(dt){this.applyStyles(),this.setAttribute(dt,this.hostAttr,"")}createElement(dt,Me){const ut=super.createElement(dt,Me);return super.setAttribute(ut,this.contentAttr,""),ut}}let At=(()=>{class nt extends Le{constructor(Me){super(Me)}supports(Me){return!0}addEventListener(Me,ut,pe){return Me.addEventListener(ut,pe,!1),()=>this.removeEventListener(Me,ut,pe)}removeEventListener(Me,ut,pe){return Me.removeEventListener(ut,pe)}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(C.qQ))};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac})}return nt})();const Ie=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M={alt:nt=>nt.altKey,control:nt=>nt.ctrlKey,meta:nt=>nt.metaKey,shift:nt=>nt.shiftKey};let S=(()=>{class nt extends Le{constructor(Me){super(Me)}supports(Me){return null!=nt.parseEventName(Me)}addEventListener(Me,ut,pe){const ve=nt.parseEventName(ut),ne=nt.eventCallback(ve.fullKey,pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.QT)().onAndCancel(Me,ve.domEventName,ne))}static parseEventName(Me){const ut=Me.toLowerCase().split("."),pe=ut.shift();if(0===ut.length||"keydown"!==pe&&"keyup"!==pe)return null;const ve=nt._normalizeKey(ut.pop());let ne="",de=ut.indexOf("code");if(de>-1&&(ut.splice(de,1),ne="code."),Ie.forEach(rt=>{const Mt=ut.indexOf(rt);Mt>-1&&(ut.splice(Mt,1),ne+=rt+".")}),ne+=ve,0!=ut.length||0===ve.length)return null;const J={};return J.domEventName=pe,J.fullKey=ne,J}static matchEventFullKeyCode(Me,ut){let pe=W[Me.key]||Me.key,ve="";return ut.indexOf("code.")>-1&&(pe=Me.code,ve="code."),!(null==pe||!pe)&&(pe=pe.toLowerCase()," "===pe?pe="space":"."===pe&&(pe="dot"),Ie.forEach(ne=>{ne!==pe&&(0,M[ne])(Me)&&(ve+=ne+".")}),ve+=pe,ve===ut)}static eventCallback(Me,ut,pe){return ve=>{nt.matchEventFullKeyCode(ve,Me)&&pe.runGuarded(()=>ut(ve))}}static _normalizeKey(Me){return"esc"===Me?"escape":Me}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(C.qQ))};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac})}return nt})();const rn=(0,a.oH4)(a.fpN,"browser",[{provide:a.Agw,useValue:C.AJ},{provide:a.PLl,useValue:function Bt(){le.makeCurrent()},multi:!0},{provide:C.qQ,useFactory:function Cn(){return(0,a.TL$)(document),document},deps:[]}]),Pn=new a.nKC(""),hr=[{provide:a.e01,useClass:class Oe{addToWindow(dt){a.JZv.getAngularTestability=(ut,pe=!0)=>{const ve=dt.findTestabilityInTree(ut,pe);if(null==ve)throw new a.wOt(5103,!1);return ve},a.JZv.getAllAngularTestabilities=()=>dt.getAllTestabilities(),a.JZv.getAllAngularRootElements=()=>dt.getAllRootElements(),a.JZv.frameworkStabilizers||(a.JZv.frameworkStabilizers=[]),a.JZv.frameworkStabilizers.push(ut=>{const pe=a.JZv.getAllAngularTestabilities();let ve=pe.length;const ne=function(){ve--,0==ve&&ut()};pe.forEach(de=>{de.whenStable(ne)})})}findTestabilityInTree(dt,Me,ut){return null==Me?null:dt.getTestability(Me)??(ut?(0,C.QT)().isShadowRoot(Me)?this.findTestabilityInTree(dt,Me.host,!0):this.findTestabilityInTree(dt,Me.parentElement,!0):null)}},deps:[]},{provide:a.WHO,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]},{provide:a.NYb,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]}],en=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function tn(){return new a.zcH},deps:[]},{provide:De,useClass:At,multi:!0,deps:[C.qQ,a.SKi,a.Agw]},{provide:De,useClass:S,multi:!0,deps:[C.qQ]},lt,ke,he,{provide:a._9s,useExisting:lt},{provide:C.N0,useClass:ze,deps:[]},[]];let kn=(()=>{class nt{constructor(Me){}static withServerTransition(Me){return{ngModule:nt,providers:[{provide:a.sZ2,useValue:Me.appId}]}}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(Pn,12))};static#t=this.\u0275mod=a.$C({type:nt});static#n=this.\u0275inj=a.G2t({providers:[...en,...hr],imports:[C.MD,a.Hbi]})}return nt})(),$t=(()=>{class nt{constructor(Me){this._doc=Me}getTitle(){return this._doc.title}setTitle(Me){this._doc.title=Me||""}static#e=this.\u0275fac=function(ut){return new(ut||nt)(a.KVO(C.qQ))};static#t=this.\u0275prov=a.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})()},4964:(vn,gt,x)=>{"use strict";x.d(gt,{nX:()=>Kn,Zp:()=>io,Z:()=>si,Xk:()=>rn,Kp:()=>Zi,b:()=>Ln,Ix:()=>On,Wk:()=>Zr,iI:()=>Lo,Sd:()=>qt});var a=x(467),C=x(4438),V=x(1985),le=x(8071),Ve=x(8455),ue=x(7673),Oe=x(4412),ze=x(4572),De=x(9350),he=x(8793),Le=x(8750);function Fe(_){return new V.c(b=>{(0,Le.Tg)(_()).subscribe(b)})}var ke=x(1203);function Xe(_,b){const E=(0,le.T)(_)?_:()=>_,R=z=>z.error(E());return new V.c(b?z=>b.schedule(R,0,z):R)}var et=x(983),qe=x(8359),Be=x(9974),It=x(4360);function Ge(){return(0,Be.N)((_,b)=>{let E=null;_._refCount++;const R=(0,It._)(b,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(E=null);const z=_._connection,ae=E;E=null,z&&(!ae||z===ae)&&z.unsubscribe(),b.unsubscribe()});_.subscribe(R),R.closed||(E=_.connect())})}class tt extends V.c{constructor(b,E){super(),this.source=b,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Be.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new qe.yU;const E=this.getSubject();b.add(this.source.subscribe((0,It._)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),b.closed&&(this._connection=null,b=qe.yU.EMPTY)}return b}refCount(){return Ge()(this)}}var _e=x(1413),xe=x(177),Pe=x(6354),lt=x(5558),Ne=x(6697),me=x(9172),Et=x(5964),Ye=x(1397),ot=x(1594);function Je(_,b){return(0,le.T)(b)?(0,Ye.Z)(_,b,1):(0,Ye.Z)(_,1)}var We=x(8141);function At(_){return(0,Be.N)((b,E)=>{let ae,R=null,z=!1;R=b.subscribe((0,It._)(E,void 0,void 0,Ue=>{ae=(0,Le.Tg)(_(Ue,At(_)(b))),R?(R.unsubscribe(),R=null,ae.subscribe(E)):z=!0})),z&&(R.unsubscribe(),R=null,ae.subscribe(E))})}var Ie=x(2816),W=x(9901);function M(_){return _<=0?()=>et.w:(0,Be.N)((b,E)=>{let R=[];b.subscribe((0,It._)(E,z=>{R.push(z),_<R.length&&R.shift()},()=>{for(const z of R)E.next(z);E.complete()},void 0,()=>{R=null}))})}var S=x(3774),L=x(3669);function we(_){return(0,Be.N)((b,E)=>{try{b.subscribe(E)}finally{E.add(_)}})}var Bt=x(5343),Cn=x(6365),ln=x(345);const rn="primary",Pn=Symbol("RouteTitle");class hr{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E[0]:E}return null}getAll(b){if(this.has(b)){const E=this.params[b];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function en(_){return new hr(_)}function kn(_,b,E){const R=E.path.split("/");if(R.length>_.length||"full"===E.pathMatch&&(b.hasChildren()||R.length<_.length))return null;const z={};for(let ae=0;ae<R.length;ae++){const Ue=R[ae],Ft=_[ae];if(Ue.startsWith(":"))z[Ue.substring(1)]=Ft;else if(Ue!==Ft.path)return null}return{consumed:_.slice(0,R.length),posParams:z}}function sn(_,b){const E=_?$t(_):void 0,R=b?$t(b):void 0;if(!E||!R||E.length!=R.length)return!1;let z;for(let ae=0;ae<E.length;ae++)if(z=E[ae],!ct(_[z],b[z]))return!1;return!0}function $t(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}function ct(_,b){if(Array.isArray(_)&&Array.isArray(b)){if(_.length!==b.length)return!1;const E=[..._].sort(),R=[...b].sort();return E.every((z,ae)=>R[ae]===z)}return _===b}function st(_){return _.length>0?_[_.length-1]:null}function Tt(_){return function Se(_){return!!_&&(_ instanceof V.c||(0,le.T)(_.lift)&&(0,le.T)(_.subscribe))}(_)?_:(0,C.jNT)(_)?(0,Ve.H)(Promise.resolve(_)):(0,ue.of)(_)}const Kt={exact:function fn(_,b,E){if(!Ut(_.segments,b.segments)||!Rn(_.segments,b.segments,E)||_.numberOfChildren!==b.numberOfChildren)return!1;for(const R in b.children)if(!_.children[R]||!fn(_.children[R],b.children[R],E))return!1;return!0},subset:Un},Ht={exact:function zn(_,b){return sn(_,b)},subset:function gn(_,b){return Object.keys(b).length<=Object.keys(_).length&&Object.keys(b).every(E=>ct(_[E],b[E]))},ignored:()=>!0};function cr(_,b,E){return Kt[E.paths](_.root,b.root,E.matrixParams)&&Ht[E.queryParams](_.queryParams,b.queryParams)&&!("exact"===E.fragment&&_.fragment!==b.fragment)}function Un(_,b,E){return Yn(_,b,b.segments,E)}function Yn(_,b,E,R){if(_.segments.length>E.length){const z=_.segments.slice(0,E.length);return!(!Ut(z,E)||b.hasChildren()||!Rn(z,E,R))}if(_.segments.length===E.length){if(!Ut(_.segments,E)||!Rn(_.segments,E,R))return!1;for(const z in b.children)if(!_.children[z]||!Un(_.children[z],b.children[z],R))return!1;return!0}{const z=E.slice(0,_.segments.length),ae=E.slice(_.segments.length);return!!(Ut(_.segments,z)&&Rn(_.segments,z,R)&&_.children[rn])&&Yn(_.children[rn],b,ae,R)}}function Rn(_,b,E){return b.every((R,z)=>Ht[E](_[z].parameters,R.parameters))}class Jn{constructor(b=new wn([],{}),E={},R=null){this.root=b,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap??=en(this.queryParams),this._queryParamMap}toString(){return $e.serialize(this)}}class wn{constructor(b,E){this.segments=b,this.children=E,this.parent=null,Object.values(E).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dn(this)}}class Vt{constructor(b,E){this.path=b,this.parameters=E}get parameterMap(){return this._parameterMap??=en(this.parameters),this._parameterMap}toString(){return pe(this)}}function Ut(_,b){return _.length===b.length&&_.every((E,R)=>E.path===b[R].path)}let qt=(()=>{class _{static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:()=>new $n,providedIn:"root"})}return _})();class $n{parse(b){const E=new En(b);return new Jn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(b){const E=`/${Fn(b.root,!0)}`,R=function ne(_){const b=Object.entries(_).map(([E,R])=>Array.isArray(R)?R.map(z=>`${tr(E)}=${tr(z)}`).join("&"):`${tr(E)}=${tr(R)}`).filter(E=>E);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${E}${R}${"string"==typeof b.fragment?`#${function nt(_){return encodeURI(_)}(b.fragment)}`:""}`}}const $e=new $n;function Dn(_){return _.segments.map(b=>pe(b)).join("/")}function Fn(_,b){if(!_.hasChildren())return Dn(_);if(b){const E=_.children[rn]?Fn(_.children[rn],!1):"",R=[];return Object.entries(_.children).forEach(([z,ae])=>{z!==rn&&R.push(`${z}:${Fn(ae,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function wt(_,b){let E=[];return Object.entries(_.children).forEach(([R,z])=>{R===rn&&(E=E.concat(b(z,R)))}),Object.entries(_.children).forEach(([R,z])=>{R!==rn&&(E=E.concat(b(z,R)))}),E}(_,(R,z)=>z===rn?[Fn(_.children[rn],!1)]:[`${z}:${Fn(R,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[rn]?`${Dn(_)}/${E[0]}`:`${Dn(_)}/(${E.join("//")})`}}function Tr(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(_){return Tr(_).replace(/%3B/gi,";")}function dt(_){return Tr(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Me(_){return decodeURIComponent(_)}function ut(_){return Me(_.replace(/\+/g,"%20"))}function pe(_){return`${dt(_.path)}${function ve(_){return Object.entries(_).map(([b,E])=>`;${dt(b)}=${dt(E)}`).join("")}(_.parameters)}`}const de=/^[^\/()?;#]+/;function J(_){const b=_.match(de);return b?b[0]:""}const rt=/^[^\/()?;=#]+/,hn=/^[^=?&#]+/,nr=/^[^&#]+/;class En{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(b.length>0||Object.keys(E).length>0)&&(R[rn]=new wn(b,E)),R}parseSegment(){const b=J(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new C.wOt(4009,!1);return this.capture(b),new Vt(Me(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const E=function Mt(_){const b=_.match(rt);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const z=J(this.remaining);z&&(R=z,this.capture(R))}b[Me(E)]=Me(R)}parseQueryParam(b){const E=function An(_){const b=_.match(hn);return b?b[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const Ue=function mr(_){const b=_.match(nr);return b?b[0]:""}(this.remaining);Ue&&(R=Ue,this.capture(R))}const z=ut(E),ae=ut(R);if(b.hasOwnProperty(z)){let Ue=b[z];Array.isArray(Ue)||(Ue=[Ue],b[z]=Ue),Ue.push(ae)}else b[z]=ae}parseParens(b){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=J(this.remaining),z=this.remaining[R.length];if("/"!==z&&")"!==z&&";"!==z)throw new C.wOt(4010,!1);let ae;R.indexOf(":")>-1?(ae=R.slice(0,R.indexOf(":")),this.capture(ae),this.capture(":")):b&&(ae=rn);const Ue=this.parseChildren();E[ae]=1===Object.keys(Ue).length?Ue[rn]:new wn([],Ue),this.consumeOptional("//")}return E}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new C.wOt(4011,!1)}}function yn(_){return _.segments.length>0?new wn([],{[rn]:_}):_}function Hn(_){const b={};for(const[R,z]of Object.entries(_.children)){const ae=Hn(z);if(R===rn&&0===ae.segments.length&&ae.hasChildren())for(const[Ue,Ft]of Object.entries(ae.children))b[Ue]=Ft;else(ae.segments.length>0||ae.hasChildren())&&(b[R]=ae)}return function Or(_){if(1===_.numberOfChildren&&_.children[rn]){const b=_.children[rn];return new wn(_.segments.concat(b.segments),b.children)}return _}(new wn(_.segments,b))}function jr(_){return _ instanceof Jn}function bi(_){let b;const z=yn(function E(ae){const Ue={};for(const xt of ae.children){const xn=E(xt);Ue[xt.outlet]=xn}const Ft=new wn(ae.url,Ue);return ae===_&&(b=Ft),Ft}(_.root));return b??z}function pr(_,b,E,R){let z=_;for(;z.parent;)z=z.parent;if(0===b.length)return Di(z,z,z,E,R);const ae=function H(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new ee(!0,0,_);let b=0,E=!1;const R=_.reduce((z,ae,Ue)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Ft={};return Object.entries(ae.outlets).forEach(([xt,xn])=>{Ft[xt]="string"==typeof xn?xn.split("/"):xn}),[...z,{outlets:Ft}]}if(ae.segmentPath)return[...z,ae.segmentPath]}return"string"!=typeof ae?[...z,ae]:0===Ue?(ae.split("/").forEach((Ft,xt)=>{0==xt&&"."===Ft||(0==xt&&""===Ft?E=!0:".."===Ft?b++:""!=Ft&&z.push(Ft))}),z):[...z,ae]},[]);return new ee(E,b,R)}(b);if(ae.toRoot())return Di(z,z,new wn([],{}),E,R);const Ue=function Ke(_,b,E){if(_.isAbsolute)return new ie(b,!0,0);if(!E)return new ie(b,!1,NaN);if(null===E.parent)return new ie(E,!0,0);const R=Mi(_.commands[0])?0:1;return function Te(_,b,E){let R=_,z=b,ae=E;for(;ae>z;){if(ae-=z,R=R.parent,!R)throw new C.wOt(4005,!1);z=R.segments.length}return new ie(R,!1,z-ae)}(E,E.segments.length-1+R,_.numberOfDoubleDots)}(ae,z,_),Ft=Ue.processChildren?Xt(Ue.segmentGroup,Ue.index,ae.commands):zt(Ue.segmentGroup,Ue.index,ae.commands);return Di(z,Ue.segmentGroup,Ft,E,R)}function Mi(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function oi(_){return"object"==typeof _&&null!=_&&_.outlets}function Di(_,b,E,R,z){let Ue,ae={};R&&Object.entries(R).forEach(([xt,xn])=>{ae[xt]=Array.isArray(xn)?xn.map(Mr=>`${Mr}`):`${xn}`}),Ue=_===b?E:re(_,b,E);const Ft=yn(Hn(Ue));return new Jn(Ft,ae,z)}function re(_,b,E){const R={};return Object.entries(_.children).forEach(([z,ae])=>{R[z]=ae===b?E:re(ae,b,E)}),new wn(_.segments,R)}class ee{constructor(b,E,R){if(this.isAbsolute=b,this.numberOfDoubleDots=E,this.commands=R,b&&R.length>0&&Mi(R[0]))throw new C.wOt(4003,!1);const z=R.find(oi);if(z&&z!==st(R))throw new C.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ie{constructor(b,E,R){this.segmentGroup=b,this.processChildren=E,this.index=R}}function zt(_,b,E){if(_??=new wn([],{}),0===_.segments.length&&_.hasChildren())return Xt(_,b,E);const R=function on(_,b,E){let R=0,z=b;const ae={match:!1,pathIndex:0,commandIndex:0};for(;z<_.segments.length;){if(R>=E.length)return ae;const Ue=_.segments[z],Ft=E[R];if(oi(Ft))break;const xt=`${Ft}`,xn=R<E.length-1?E[R+1]:null;if(z>0&&void 0===xt)break;if(xt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!pi(xt,xn,Ue))return ae;R+=2}else{if(!pi(xt,{},Ue))return ae;R++}z++}return{match:!0,pathIndex:z,commandIndex:R}}(_,b,E),z=E.slice(R.commandIndex);if(R.match&&R.pathIndex<_.segments.length){const ae=new wn(_.segments.slice(0,R.pathIndex),{});return ae.children[rn]=new wn(_.segments.slice(R.pathIndex),_.children),Xt(ae,0,z)}return R.match&&0===z.length?new wn(_.segments,{}):R.match&&!_.hasChildren()?ir(_,b,E):R.match?Xt(_,0,z):ir(_,b,E)}function Xt(_,b,E){if(0===E.length)return new wn(_.segments,{});{const R=function mt(_){return oi(_[0])?_[0].outlets:{[rn]:_}}(E),z={};if(Object.keys(R).some(ae=>ae!==rn)&&_.children[rn]&&1===_.numberOfChildren&&0===_.children[rn].segments.length){const ae=Xt(_.children[rn],b,E);return new wn(_.segments,ae.children)}return Object.entries(R).forEach(([ae,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(z[ae]=zt(_.children[ae],b,Ue))}),Object.entries(_.children).forEach(([ae,Ue])=>{void 0===R[ae]&&(z[ae]=Ue)}),new wn(_.segments,z)}}function ir(_,b,E){const R=_.segments.slice(0,b);let z=0;for(;z<E.length;){const ae=E[z];if(oi(ae)){const xt=Zn(ae.outlets);return new wn(R,xt)}if(0===z&&Mi(E[0])){R.push(new Vt(_.segments[b].path,qr(E[0]))),z++;continue}const Ue=oi(ae)?ae.outlets[rn]:`${ae}`,Ft=z<E.length-1?E[z+1]:null;Ue&&Ft&&Mi(Ft)?(R.push(new Vt(Ue,qr(Ft))),z+=2):(R.push(new Vt(Ue,{})),z++)}return new wn(R,{})}function Zn(_){const b={};return Object.entries(_).forEach(([E,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(b[E]=ir(new wn([],{}),0,R))}),b}function qr(_){const b={};return Object.entries(_).forEach(([E,R])=>b[E]=`${R}`),b}function pi(_,b,E){return _==E.path&&sn(b,E.parameters)}const Si="imperative";var Nn=function(_){return _[_.NavigationStart=0]="NavigationStart",_[_.NavigationEnd=1]="NavigationEnd",_[_.NavigationCancel=2]="NavigationCancel",_[_.NavigationError=3]="NavigationError",_[_.RoutesRecognized=4]="RoutesRecognized",_[_.ResolveStart=5]="ResolveStart",_[_.ResolveEnd=6]="ResolveEnd",_[_.GuardsCheckStart=7]="GuardsCheckStart",_[_.GuardsCheckEnd=8]="GuardsCheckEnd",_[_.RouteConfigLoadStart=9]="RouteConfigLoadStart",_[_.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",_[_.ChildActivationStart=11]="ChildActivationStart",_[_.ChildActivationEnd=12]="ChildActivationEnd",_[_.ActivationStart=13]="ActivationStart",_[_.ActivationEnd=14]="ActivationEnd",_[_.Scroll=15]="Scroll",_[_.NavigationSkipped=16]="NavigationSkipped",_}(Nn||{});class Vi{constructor(b,E){this.id=b,this.url=E}}class si extends Vi{constructor(b,E,R="imperative",z=null){super(b,E),this.type=Nn.NavigationStart,this.navigationTrigger=R,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gi extends Vi{constructor(b,E,R){super(b,E),this.urlAfterRedirects=R,this.type=Nn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var zr=function(_){return _[_.Redirect=0]="Redirect",_[_.SupersededByNewNavigation=1]="SupersededByNewNavigation",_[_.NoDataFromResolver=2]="NoDataFromResolver",_[_.GuardRejected=3]="GuardRejected",_}(zr||{}),gr=function(_){return _[_.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",_[_.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",_}(gr||{});class Hi extends Vi{constructor(b,E,R,z){super(b,E),this.reason=R,this.code=z,this.type=Nn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hr extends Vi{constructor(b,E,R,z){super(b,E),this.reason=R,this.code=z,this.type=Nn.NavigationSkipped}}class _r extends Vi{constructor(b,E,R,z){super(b,E),this.error=R,this.target=z,this.type=Nn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class no extends Vi{constructor(b,E,R,z){super(b,E),this.urlAfterRedirects=R,this.state=z,this.type=Nn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Vi{constructor(b,E,R,z){super(b,E),this.urlAfterRedirects=R,this.state=z,this.type=Nn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends Vi{constructor(b,E,R,z,ae){super(b,E),this.urlAfterRedirects=R,this.state=z,this.shouldActivate=ae,this.type=Nn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ur extends Vi{constructor(b,E,R,z){super(b,E),this.urlAfterRedirects=R,this.state=z,this.type=Nn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends Vi{constructor(b,E,R,z){super(b,E),this.urlAfterRedirects=R,this.state=z,this.type=Nn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi{constructor(b){this.route=b,this.type=Nn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ri{constructor(b){this.route=b,this.type=Nn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ro{constructor(b){this.snapshot=b,this.type=Nn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jr{constructor(b){this.snapshot=b,this.type=Nn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(b){this.snapshot=b,this.type=Nn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(b){this.snapshot=b,this.type=Nn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class or{constructor(b,E,R){this.routerEvent=b,this.position=E,this.anchor=R,this.type=Nn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rr{}class cs{constructor(b){this.url=b}}class ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new io,this.attachRef=null}}let io=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const z=this.getOrCreateContext(E);z.outlet=R,this.contexts.set(E,z)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new ho,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class Do{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const E=this.pathFromRoot(b);return E.length>1?E[E.length-2]:null}children(b){const E=vi(b,this._root);return E?E.children.map(R=>R.value):[]}firstChild(b){const E=vi(b,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(b){const E=oo(b,this._root);return E.length<2?[]:E[E.length-2].children.map(z=>z.value).filter(z=>z!==b)}pathFromRoot(b){return oo(b,this._root).map(E=>E.value)}}function vi(_,b){if(_===b.value)return b;for(const E of b.children){const R=vi(_,E);if(R)return R}return null}function oo(_,b){if(_===b.value)return[b];for(const E of b.children){const R=oo(_,E);if(R.length)return R.unshift(b),R}return[]}class j{constructor(b,E){this.value=b,this.children=E}toString(){return`TreeNode(${this.value})`}}function sr(_){const b={};return _&&_.children.forEach(E=>b[E.value.outlet]=E),b}class Y extends Do{constructor(b,E){super(b),this.snapshot=E,$(this,b)}toString(){return this.snapshot.toString()}}function O(_){const b=function Ee(_){const ae=new Ur([],{},{},"",{},rn,_,null,{});return new so("",new j(ae,[]))}(_),E=new Oe.t([new Vt("",{})]),R=new Oe.t({}),z=new Oe.t({}),ae=new Oe.t({}),Ue=new Oe.t(""),Ft=new Kn(E,R,ae,Ue,z,rn,_,b.root);return Ft.snapshot=b.root,new Y(new j(Ft,[]),b)}class Kn{constructor(b,E,R,z,ae,Ue,Ft,xt){this.urlSubject=b,this.paramsSubject=E,this.queryParamsSubject=R,this.fragmentSubject=z,this.dataSubject=ae,this.outlet=Ue,this.component=Ft,this._futureSnapshot=xt,this.title=this.dataSubject?.pipe((0,Pe.T)(xn=>xn[Pn]))??(0,ue.of)(void 0),this.url=b,this.params=E,this.queryParams=R,this.fragment=z,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Pe.T)(b=>en(b))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Pe.T)(b=>en(b))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wr(_,b,E="emptyOnly"){let R;const{routeConfig:z}=_;return R=null===b||"always"!==E&&""!==z?.path&&(b.component||b.routeConfig?.loadComponent)?{params:{..._.params},data:{..._.data},resolve:{..._.data,..._._resolvedData??{}}}:{params:{...b.params,..._.params},data:{...b.data,..._.data},resolve:{..._.data,...b.data,...z?.data,..._._resolvedData}},z&&yt(z)&&(R.resolve[Pn]=z.title),R}class Ur{get title(){return this.data?.[Pn]}constructor(b,E,R,z,ae,Ue,Ft,xt,xn){this.url=b,this.params=E,this.queryParams=R,this.fragment=z,this.data=ae,this.outlet=Ue,this.component=Ft,this.routeConfig=xt,this._resolve=xn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=en(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=en(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class so extends Do{constructor(b,E){super(E),this.url=b,$(this,E)}toString(){return oe(this._root)}}function $(_,b){b.value._routerState=_,b.children.forEach(E=>$(_,E))}function oe(_){const b=_.children.length>0?` { ${_.children.map(oe).join(", ")} } `:"";return`${_.value}${b}`}function Ae(_){if(_.snapshot){const b=_.snapshot,E=_._futureSnapshot;_.snapshot=E,sn(b.queryParams,E.queryParams)||_.queryParamsSubject.next(E.queryParams),b.fragment!==E.fragment&&_.fragmentSubject.next(E.fragment),sn(b.params,E.params)||_.paramsSubject.next(E.params),function Gn(_,b){if(_.length!==b.length)return!1;for(let E=0;E<_.length;++E)if(!sn(_[E],b[E]))return!1;return!0}(b.url,E.url)||_.urlSubject.next(E.url),sn(b.data,E.data)||_.dataSubject.next(E.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function He(_,b){const E=sn(_.params,b.params)&&function _t(_,b){return Ut(_,b)&&_.every((E,R)=>sn(E.parameters,b[R].parameters))}(_.url,b.url);return E&&!(!_.parent!=!b.parent)&&(!_.parent||He(_.parent,b.parent))}function yt(_){return"string"==typeof _.title||null===_.title}let pt=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=rn,this.activateEvents=new C.bkB,this.deactivateEvents=new C.bkB,this.attachEvents=new C.bkB,this.detachEvents=new C.bkB,this.parentContexts=(0,C.WQX)(io),this.location=(0,C.WQX)(C.c1b),this.changeDetector=(0,C.WQX)(C.gRc),this.environmentInjector=(0,C.WQX)(C.uvJ),this.inputBinder=(0,C.WQX)(Qt,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:R,previousValue:z}=E.name;if(R)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.wOt(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new C.wOt(4013,!1);this._activatedRoute=E;const z=this.location,Ue=E.snapshot.component,Ft=this.parentContexts.getOrCreateContext(this.name).children,xt=new Wt(E,Ft,z.injector);this.activated=z.createComponent(Ue,{index:z.length,injector:xt,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275dir=C.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.OA$]})}return _})();class Wt{__ngOutletInjector(b){return new Wt(this.route,this.childContexts,b)}constructor(b,E,R){this.route=b,this.childContexts=E,this.parent=R}get(b,E){return b===Kn?this.route:b===io?this.childContexts:this.parent.get(b,E)}}const Qt=new C.nKC("");let jt=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:R}=E,z=(0,ze.z)([R.queryParams,R.params,R.data]).pipe((0,lt.n)(([ae,Ue,Ft],xt)=>(Ft={...ae,...Ue,...Ft},0===xt?(0,ue.of)(Ft):Promise.resolve(Ft)))).subscribe(ae=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(E);const Ue=(0,C.HJs)(R.component);if(Ue)for(const{templateName:Ft}of Ue.inputs)E.activatedComponentRef.setInput(Ft,ae[Ft]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,z)}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac})}return _})();function an(_,b,E){if(E&&_.shouldReuseRoute(b.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=b.value;const z=function Tn(_,b,E){return b.children.map(R=>{for(const z of E.children)if(_.shouldReuseRoute(R.value,z.value.snapshot))return an(_,R,z);return an(_,R)})}(_,b,E);return new j(R,z)}{if(_.shouldAttach(b.value)){const ae=_.retrieve(b.value);if(null!==ae){const Ue=ae.route;return Ue.value._futureSnapshot=b.value,Ue.children=b.children.map(Ft=>an(_,Ft)),Ue}}const R=function Bn(_){return new Kn(new Oe.t(_.url),new Oe.t(_.params),new Oe.t(_.queryParams),new Oe.t(_.fragment),new Oe.t(_.data),_.outlet,_.component,_)}(b.value),z=b.children.map(ae=>an(_,ae));return new j(R,z)}}const Xn="ngNavigationCancelingError";function Ir(_,b){const{redirectTo:E,navigationBehaviorOptions:R}=jr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,z=xi(!1,zr.Redirect);return z.url=E,z.navigationBehaviorOptions=R,z}function xi(_,b){const E=new Error(`NavigationCancelingError: ${_||""}`);return E[Xn]=!0,E.cancellationCode=b,E}function Wn(_){return!!_&&_[Xn]}let ar=(()=>{class _{static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275cmp=C.VBU({type:_,selectors:[["ng-component"]],standalone:!0,features:[C.aNF],decls:1,vars:0,template:function(R,z){1&R&&C.nrm(0,"router-outlet")},dependencies:[pt],encapsulation:2})}return _})();function Ao(_){const b=_.children&&_.children.map(Ao),E=b?{..._,children:b}:{..._};return!E.component&&!E.loadComponent&&(b||E.loadChildren)&&E.outlet&&E.outlet!==rn&&(E.component=ar),E}function Wi(_){return _.outlet||rn}function br(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let b=_.parent;b;b=b.parent){const E=b.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ra{constructor(b,E,R,z,ae){this.routeReuseStrategy=b,this.futureState=E,this.currState=R,this.forwardEvent=z,this.inputBindingEnabled=ae}activate(b){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,b),Ae(this.futureState.root),this.activateChildRoutes(E,R,b)}deactivateChildRoutes(b,E,R){const z=sr(E);b.children.forEach(ae=>{const Ue=ae.value.outlet;this.deactivateRoutes(ae,z[Ue],R),delete z[Ue]}),Object.values(z).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,R)})}deactivateRoutes(b,E,R){const z=b.value,ae=E?E.value:null;if(z===ae)if(z.component){const Ue=R.getContext(z.outlet);Ue&&this.deactivateChildRoutes(b,E,Ue.children)}else this.deactivateChildRoutes(b,E,R);else ae&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(b,E){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,E):this.deactivateRouteAndOutlet(b,E)}detachAndStoreRouteSubtree(b,E){const R=E.getContext(b.value.outlet),z=R&&b.value.component?R.children:E,ae=sr(b);for(const Ue of Object.values(ae))this.deactivateRouteAndItsChildren(Ue,z);if(R&&R.outlet){const Ue=R.outlet.detach(),Ft=R.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Ue,route:b,contexts:Ft})}}deactivateRouteAndOutlet(b,E){const R=E.getContext(b.value.outlet),z=R&&b.value.component?R.children:E,ae=sr(b);for(const Ue of Object.values(ae))this.deactivateRouteAndItsChildren(Ue,z);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(b,E,R){const z=sr(E);b.children.forEach(ae=>{this.activateRoutes(ae,z[ae.value.outlet],R),this.forwardEvent(new _o(ae.value.snapshot))}),b.children.length&&this.forwardEvent(new Jr(b.value.snapshot))}activateRoutes(b,E,R){const z=b.value,ae=E?E.value:null;if(Ae(z),z===ae)if(z.component){const Ue=R.getOrCreateContext(z.outlet);this.activateChildRoutes(b,E,Ue.children)}else this.activateChildRoutes(b,E,R);else if(z.component){const Ue=R.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Ft=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ue.children.onOutletReAttached(Ft.contexts),Ue.attachRef=Ft.componentRef,Ue.route=Ft.route.value,Ue.outlet&&Ue.outlet.attach(Ft.componentRef,Ft.route.value),Ae(Ft.route.value),this.activateChildRoutes(b,null,Ue.children)}else{const Ft=br(z.snapshot);Ue.attachRef=null,Ue.route=z,Ue.injector=Ft,Ue.outlet&&Ue.outlet.activateWith(z,Ue.injector),this.activateChildRoutes(b,null,Ue.children)}}else this.activateChildRoutes(b,null,R)}}class Bo{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class ns{constructor(b,E){this.component=b,this.route=E}}function Ui(_,b,E){const R=_._root;return To(R,b?b._root:null,E,[R.value])}function jo(_,b){const E=Symbol(),R=b.get(_,E);return R===E?"function"!=typeof _||(0,C.LfX)(_)?b.get(_):_:R}function To(_,b,E,R,z={canDeactivateChecks:[],canActivateChecks:[]}){const ae=sr(b);return _.children.forEach(Ue=>{(function Qi(_,b,E,R,z={canDeactivateChecks:[],canActivateChecks:[]}){const ae=_.value,Ue=b?b.value:null,Ft=E?E.getContext(_.value.outlet):null;if(Ue&&ae.routeConfig===Ue.routeConfig){const xt=function ua(_,b,E){if("function"==typeof E)return E(_,b);switch(E){case"pathParamsChange":return!Ut(_.url,b.url);case"pathParamsOrQueryParamsChange":return!Ut(_.url,b.url)||!sn(_.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!He(_,b)||!sn(_.queryParams,b.queryParams);default:return!He(_,b)}}(Ue,ae,ae.routeConfig.runGuardsAndResolvers);xt?z.canActivateChecks.push(new Bo(R)):(ae.data=Ue.data,ae._resolvedData=Ue._resolvedData),To(_,b,ae.component?Ft?Ft.children:null:E,R,z),xt&&Ft&&Ft.outlet&&Ft.outlet.isActivated&&z.canDeactivateChecks.push(new ns(Ft.outlet.component,Ue))}else Ue&&Yi(b,Ft,z),z.canActivateChecks.push(new Bo(R)),To(_,null,ae.component?Ft?Ft.children:null:E,R,z)})(Ue,ae[Ue.value.outlet],E,R.concat([Ue.value]),z),delete ae[Ue.value.outlet]}),Object.entries(ae).forEach(([Ue,Ft])=>Yi(Ft,E.getContext(Ue),z)),z}function Yi(_,b,E){const R=sr(_),z=_.value;Object.entries(R).forEach(([ae,Ue])=>{Yi(Ue,z.component?b?b.children.getContext(ae):null:b,E)}),E.canDeactivateChecks.push(new ns(z.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,z))}function rs(_){return"function"==typeof _}function fe(_){return _ instanceof De.G||"EmptyError"===_?.name}const Ze=Symbol("INITIAL_VALUE");function bn(){return(0,lt.n)(_=>(0,ze.z)(_.map(b=>b.pipe((0,Ne.s)(1),(0,me.Z)(Ze)))).pipe((0,Pe.T)(b=>{for(const E of b)if(!0!==E){if(E===Ze)return Ze;if(!1===E||E instanceof Jn)return E}return!0}),(0,Et.p)(b=>b!==Ze),(0,Ne.s)(1)))}function Ji(_){return(0,ke.F)((0,We.M)(b=>{if(jr(b))throw Ir(0,b)}),(0,Pe.T)(b=>!0===b))}class ds{constructor(b){this.segmentGroup=b||null}}class Pa extends Error{constructor(b){super(),this.urlTree=b}}function $i(_){return Xe(new ds(_))}class go{constructor(b,E){this.urlSerializer=b,this.urlTree=E}lineralizeSegments(b,E){let R=[],z=E.root;for(;;){if(R=R.concat(z.segments),0===z.numberOfChildren)return(0,ue.of)(R);if(z.numberOfChildren>1||!z.children[rn])return Xe(new C.wOt(4e3,!1));z=z.children[rn]}}applyRedirectCommands(b,E,R){const z=this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),b,R);if(E.startsWith("/"))throw new Pa(z);return z}applyRedirectCreateUrlTree(b,E,R,z){const ae=this.createSegmentGroup(b,E.root,R,z);return new Jn(ae,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(b,E){const R={};return Object.entries(b).forEach(([z,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Ft=ae.substring(1);R[z]=E[Ft]}else R[z]=ae}),R}createSegmentGroup(b,E,R,z){const ae=this.createSegments(b,E.segments,R,z);let Ue={};return Object.entries(E.children).forEach(([Ft,xt])=>{Ue[Ft]=this.createSegmentGroup(b,xt,R,z)}),new wn(ae,Ue)}createSegments(b,E,R,z){return E.map(ae=>ae.path.startsWith(":")?this.findPosParam(b,ae,z):this.findOrReturn(ae,R))}findPosParam(b,E,R){const z=R[E.path.substring(1)];if(!z)throw new C.wOt(4001,!1);return z}findOrReturn(b,E){let R=0;for(const z of E){if(z.path===b.path)return E.splice(R),z;R++}return b}}const Qn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dl(_,b,E,R,z){const ae=Fs(_,b,E);return ae.matched?(R=function ri(_,b){return _.providers&&!_._injector&&(_._injector=(0,C.Ol2)(_.providers,b,`Route: ${_.path}`)),_._injector??b}(b,R),function ul(_,b,E,R){const z=b.canMatch;if(!z||0===z.length)return(0,ue.of)(!0);const ae=z.map(Ue=>{const Ft=jo(Ue,_);return Tt(function P(_){return _&&rs(_.canMatch)}(Ft)?Ft.canMatch(b,E):(0,C.N4e)(_,()=>Ft(b,E)))});return(0,ue.of)(ae).pipe(bn(),Ji())}(R,b,E).pipe((0,Pe.T)(Ue=>!0===Ue?ae:{...Qn}))):(0,ue.of)(ae)}function Fs(_,b,E){if("**"===b.path)return function Cs(_){return{matched:!0,parameters:_.length>0?st(_).parameters:{},consumedSegments:_,remainingSegments:[],positionalParamSegments:{}}}(E);if(""===b.path)return"full"===b.pathMatch&&(_.hasChildren()||E.length>0)?{...Qn}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const z=(b.matcher||kn)(E,_,b);if(!z)return{...Qn};const ae={};Object.entries(z.posParams??{}).forEach(([Ft,xt])=>{ae[Ft]=xt.path});const Ue=z.consumed.length>0?{...ae,...z.consumed[z.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:z.consumed,remainingSegments:E.slice(z.consumed.length),parameters:Ue,positionalParamSegments:z.posParams??{}}}function Hl(_,b,E,R){return E.length>0&&function Ma(_,b,E){return E.some(R=>Ds(_,b,R)&&Wi(R)!==rn)}(_,E,R)?{segmentGroup:new wn(b,Ls(R,new wn(E,_.children))),slicedSegments:[]}:0===E.length&&function ha(_,b,E){return E.some(R=>Ds(_,b,R))}(_,E,R)?{segmentGroup:new wn(_.segments,hl(_,E,R,_.children)),slicedSegments:E}:{segmentGroup:new wn(_.segments,_.children),slicedSegments:E}}function hl(_,b,E,R){const z={};for(const ae of E)if(Ds(_,b,ae)&&!R[Wi(ae)]){const Ue=new wn([],{});z[Wi(ae)]=Ue}return{...R,...z}}function Ls(_,b){const E={};E[rn]=b;for(const R of _)if(""===R.path&&Wi(R)!==rn){const z=new wn([],{});E[Wi(R)]=z}return E}function Ds(_,b,E){return(!(_.hasChildren()||b.length>0)||"full"!==E.pathMatch)&&""===E.path}class fl{}class qs{constructor(b,E,R,z,ae,Ue,Ft){this.injector=b,this.configLoader=E,this.rootComponentType=R,this.config=z,this.urlTree=ae,this.paramsInheritanceStrategy=Ue,this.urlSerializer=Ft,this.applyRedirects=new go(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new C.wOt(4002,`'${b.segmentGroup}'`)}recognize(){const b=Hl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,Pe.T)(E=>{const R=new Ur([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,{}),z=new j(R,E),ae=new so("",z),Ue=function Ci(_,b,E=null,R=null){return pr(bi(_),b,E,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Ue),this.inheritParamsAndData(ae._root,null),{state:ae,tree:Ue}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b,rn).pipe(At(R=>{if(R instanceof Pa)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof ds?this.noMatchError(R):R}))}inheritParamsAndData(b,E){const R=b.value,z=wr(R,E,this.paramsInheritanceStrategy);R.params=Object.freeze(z.params),R.data=Object.freeze(z.data),b.children.forEach(ae=>this.inheritParamsAndData(ae,R))}processSegmentGroup(b,E,R,z){return 0===R.segments.length&&R.hasChildren()?this.processChildren(b,E,R):this.processSegment(b,E,R,R.segments,z,!0).pipe((0,Pe.T)(ae=>ae instanceof j?[ae]:[]))}processChildren(b,E,R){const z=[];for(const ae of Object.keys(R.children))"primary"===ae?z.unshift(ae):z.push(ae);return(0,Ve.H)(z).pipe(Je(ae=>{const Ue=R.children[ae],Ft=function Xi(_,b){const E=_.filter(R=>Wi(R)===b);return E.push(..._.filter(R=>Wi(R)!==b)),E}(E,ae);return this.processSegmentGroup(b,Ft,Ue,ae)}),(0,Ie.S)((ae,Ue)=>(ae.push(...Ue),ae)),(0,W.U)(null),function se(_,b){const E=arguments.length>=2;return R=>R.pipe(_?(0,Et.p)((z,ae)=>_(z,ae,R)):L.D,M(1),E?(0,W.U)(b):(0,S.v)(()=>new De.G))}(),(0,Ye.Z)(ae=>{if(null===ae)return $i(R);const Ue=Xs(ae);return function xa(_){_.sort((b,E)=>b.value.outlet===rn?-1:E.value.outlet===rn?1:b.value.outlet.localeCompare(E.value.outlet))}(Ue),(0,ue.of)(Ue)}))}processSegment(b,E,R,z,ae,Ue){return(0,Ve.H)(E).pipe(Je(Ft=>this.processSegmentAgainstRoute(Ft._injector??b,E,Ft,R,z,ae,Ue).pipe(At(xt=>{if(xt instanceof ds)return(0,ue.of)(null);throw xt}))),(0,ot.$)(Ft=>!!Ft),At(Ft=>{if(fe(Ft))return function Vs(_,b,E){return 0===b.length&&!_.children[E]}(R,z,ae)?(0,ue.of)(new fl):$i(R);throw Ft}))}processSegmentAgainstRoute(b,E,R,z,ae,Ue,Ft){return function As(_,b,E,R){return!!(Wi(_)===R||R!==rn&&Ds(b,E,_))&&Fs(b,_,E).matched}(R,z,ae,Ue)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(b,z,R,ae,Ue):this.allowRedirects&&Ft?this.expandSegmentAgainstRouteUsingRedirect(b,z,E,R,ae,Ue):$i(z):$i(z)}expandSegmentAgainstRouteUsingRedirect(b,E,R,z,ae,Ue){const{matched:Ft,consumedSegments:xt,positionalParamSegments:xn,remainingSegments:Mr}=Fs(E,z,ae);if(!Ft)return $i(E);z.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const kr=this.applyRedirects.applyRedirectCommands(xt,z.redirectTo,xn);return this.applyRedirects.lineralizeSegments(z,kr).pipe((0,Ye.Z)(ji=>this.processSegment(b,R,E,ji.concat(Mr),Ue,!1)))}matchSegmentAgainstRoute(b,E,R,z,ae){const Ue=dl(E,R,z,b);return"**"===R.path&&(E.children={}),Ue.pipe((0,lt.n)(Ft=>Ft.matched?this.getChildConfig(b=R._injector??b,R,z).pipe((0,lt.n)(({routes:xt})=>{const xn=R._loadedInjector??b,{consumedSegments:Mr,remainingSegments:kr,parameters:ji}=Ft,Bs=new Ur(Mr,ji,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function gl(_){return _.data||{}}(R),Wi(R),R.component??R._loadedComponent??null,R,function ai(_){return _.resolve||{}}(R)),{segmentGroup:vs,slicedSegments:Wo}=Hl(E,Mr,kr,xt);if(0===Wo.length&&vs.hasChildren())return this.processChildren(xn,xt,vs).pipe((0,Pe.T)(ta=>null===ta?null:new j(Bs,ta)));if(0===xt.length&&0===Wo.length)return(0,ue.of)(new j(Bs,[]));const xc=Wi(R)===ae;return this.processSegment(xn,xt,vs,Wo,xc?rn:ae,!0).pipe((0,Pe.T)(ta=>new j(Bs,ta instanceof j?[ta]:[])))})):$i(E)))}getChildConfig(b,E,R){return E.children?(0,ue.of)({routes:E.children,injector:b}):E.loadChildren?void 0!==E._loadedRoutes?(0,ue.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Pc(_,b,E,R){const z=b.canLoad;if(void 0===z||0===z.length)return(0,ue.of)(!0);const ae=z.map(Ue=>{const Ft=jo(Ue,_);return Tt(function da(_){return _&&rs(_.canLoad)}(Ft)?Ft.canLoad(b,E):(0,C.N4e)(_,()=>Ft(b,E)))});return(0,ue.of)(ae).pipe(bn(),Ji())}(b,E,R).pipe((0,Ye.Z)(z=>z?this.configLoader.loadChildren(b,E).pipe((0,We.M)(ae=>{E._loadedRoutes=ae.routes,E._loadedInjector=ae.injector})):function Oi(_){return Xe(xi(!1,zr.GuardRejected))}())):(0,ue.of)({routes:[],injector:b})}}function ws(_){const b=_.value.routeConfig;return b&&""===b.path}function Xs(_){const b=[],E=new Set;for(const R of _){if(!ws(R)){b.push(R);continue}const z=b.find(ae=>R.value.routeConfig===ae.value.routeConfig);void 0!==z?(z.children.push(...R.children),E.add(z)):b.push(R)}for(const R of E){const z=Xs(R.children);b.push(new j(R.value,z))}return b.filter(R=>!E.has(R))}function wo(_){const b=_.children.map(E=>wo(E)).flat();return[_,...b]}function ml(_){return(0,lt.n)(b=>{const E=_(b);return E?(0,Ve.H)(E).pipe((0,Pe.T)(()=>b)):(0,ue.of)(b)})}let fs=(()=>{class _{buildTitle(E){let R,z=E.root;for(;void 0!==z;)R=this.getResolvedTitleForRoute(z)??R,z=z.children.find(ae=>ae.outlet===rn);return R}getResolvedTitleForRoute(E){return E.data[Pn]}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:()=>(0,C.WQX)(bo),providedIn:"root"})}return _})(),bo=(()=>{class _ extends fs{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||_)(C.KVO(ln.hE))};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const bs=new C.nKC("",{providedIn:"root",factory:()=>({})}),Ys=new C.nKC("");let vl=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.WQX)(C.Ql9)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,ue.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=Tt(E.loadComponent()).pipe((0,Pe.T)(Na),(0,We.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ae}),we(()=>{this.componentLoaders.delete(E)})),z=new tt(R,()=>new _e.B).pipe(Ge());return this.componentLoaders.set(E,z),z}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,ue.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ae=function Ss(_,b,E,R){return Tt(_.loadChildren()).pipe((0,Pe.T)(Na),(0,Ye.Z)(z=>z instanceof C.Co$||Array.isArray(z)?(0,ue.of)(z):(0,Ve.H)(b.compileModuleAsync(z))),(0,Pe.T)(z=>{R&&R(_);let ae,Ue,Ft=!1;return Array.isArray(z)?(Ue=z,!0):(ae=z.create(E).injector,Ue=ae.get(Ys,[],{optional:!0,self:!0}).flat()),{routes:Ue.map(Ao),injector:ae}}))}(R,this.compiler,E,this.onLoadEndListener).pipe(we(()=>{this.childrenLoaders.delete(R)})),Ue=new tt(ae,()=>new _e.B).pipe(Ge());return this.childrenLoaders.set(R,Ue),Ue}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Na(_){return function is(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Fo=(()=>{class _{static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:()=>(0,C.WQX)(T),providedIn:"root"})}return _})(),T=(()=>{class _{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,R){return E}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const te=new C.nKC(""),F=new C.nKC("");function B(_,b,E){const R=_.get(F),z=_.get(xe.qQ);return _.get(C.SKi).runOutsideAngular(()=>{if(!z.startViewTransition||R.skipNextTransition)return R.skipNextTransition=!1,new Promise(xn=>setTimeout(xn));let ae;const Ue=new Promise(xn=>{ae=xn}),Ft=z.startViewTransition(()=>(ae(),function be(_){return new Promise(b=>{(0,C.mal)(b,{injector:_})})}(_))),{onViewTransitionCreated:xt}=R;return xt&&(0,C.N4e)(_,()=>xt({transition:Ft,from:b,to:E})),Ue})}let Nt=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e.B,this.transitionAbortSubject=new _e.B,this.configLoader=(0,C.WQX)(vl),this.environmentInjector=(0,C.WQX)(C.uvJ),this.urlSerializer=(0,C.WQX)(qt),this.rootContexts=(0,C.WQX)(io),this.location=(0,C.WQX)(xe.aZ),this.inputBindingEnabled=null!==(0,C.WQX)(Qt,{optional:!0}),this.titleStrategy=(0,C.WQX)(fs),this.options=(0,C.WQX)(bs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,C.WQX)(Fo),this.createViewTransition=(0,C.WQX)(te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ue.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new Ri(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new mi(z))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:R})}setupNavigations(E,R,z){return this.transitions=new Oe.t({id:0,currentUrlTree:R,currentRawUrl:R,extractedUrl:this.urlHandlingStrategy.extract(R),urlAfterRedirects:this.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Si,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Et.p)(ae=>0!==ae.id),(0,Pe.T)(ae=>({...ae,extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),(0,lt.n)(ae=>{let Ue=!1,Ft=!1;return(0,ue.of)(ae).pipe((0,lt.n)(xt=>{if(this.navigationId>ae.id)return this.cancelNavigationTransition(ae,"",zr.SupersededByNewNavigation),et.w;this.currentTransition=ae,this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const xn=!E.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!xn&&"reload"!==(xt.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const kr="";return this.events.next(new Hr(xt.id,this.urlSerializer.serialize(xt.rawUrl),kr,gr.IgnoredSameUrlNavigation)),xt.resolve(null),et.w}if(this.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return(0,ue.of)(xt).pipe((0,lt.n)(kr=>{const ji=this.transitions?.getValue();return this.events.next(new si(kr.id,this.urlSerializer.serialize(kr.extractedUrl),kr.source,kr.restoredState)),ji!==this.transitions?.getValue()?et.w:Promise.resolve(kr)}),function fa(_,b,E,R,z,ae){return(0,Ye.Z)(Ue=>function Ts(_,b,E,R,z,ae,Ue="emptyOnly"){return new qs(_,b,E,R,z,Ue,ae).recognize()}(_,b,E,R,Ue.extractedUrl,z,ae).pipe((0,Pe.T)(({state:Ft,tree:xt})=>({...Ue,targetSnapshot:Ft,urlAfterRedirects:xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,We.M)(kr=>{ae.targetSnapshot=kr.targetSnapshot,ae.urlAfterRedirects=kr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:kr.urlAfterRedirects};const ji=new no(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(ji)}));if(xn&&this.urlHandlingStrategy.shouldProcessUrl(xt.currentRawUrl)){const{id:kr,extractedUrl:ji,source:Bs,restoredState:vs,extras:Wo}=xt,xc=new si(kr,this.urlSerializer.serialize(ji),Bs,vs);this.events.next(xc);const ta=O(this.rootComponentType).snapshot;return this.currentTransition=ae={...xt,targetSnapshot:ta,urlAfterRedirects:ji,extras:{...Wo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ji,(0,ue.of)(ae)}{const kr="";return this.events.next(new Hr(xt.id,this.urlSerializer.serialize(xt.extractedUrl),kr,gr.IgnoredByUrlHandlingStrategy)),xt.resolve(null),et.w}}),(0,We.M)(xt=>{const xn=new Ai(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(xn)}),(0,Pe.T)(xt=>(this.currentTransition=ae={...xt,guards:Ui(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)},ae)),function dr(_,b){return(0,Ye.Z)(E=>{const{targetSnapshot:R,currentSnapshot:z,guards:{canActivateChecks:ae,canDeactivateChecks:Ue}}=E;return 0===Ue.length&&0===ae.length?(0,ue.of)({...E,guardsResult:!0}):function Cr(_,b,E,R){return(0,Ve.H)(_).pipe((0,Ye.Z)(z=>function Ho(_,b,E,R,z){const ae=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,ue.of)(!0);const Ue=ae.map(Ft=>{const xt=br(b)??z,xn=jo(Ft,xt);return Tt(function Q(_){return _&&rs(_.canDeactivate)}(xn)?xn.canDeactivate(_,b,E,R):(0,C.N4e)(xt,()=>xn(_,b,E,R))).pipe((0,ot.$)())});return(0,ue.of)(Ue).pipe(bn())}(z.component,z.route,E,b,R)),(0,ot.$)(z=>!0!==z,!0))}(Ue,R,z,_).pipe((0,Ye.Z)(Ft=>Ft&&function zo(_){return"boolean"==typeof _}(Ft)?function Eo(_,b,E,R){return(0,Ve.H)(b).pipe(Je(z=>(0,he.x)(function us(_,b){return null!==_&&b&&b(new ro(_)),(0,ue.of)(!0)}(z.route.parent,R),function Co(_,b){return null!==_&&b&&b(new qi(_)),(0,ue.of)(!0)}(z.route,R),function cl(_,b,E){const R=b[b.length-1],ae=b.slice(0,b.length-1).reverse().map(Ue=>function Io(_){const b=_.routeConfig?_.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:_,guards:b}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>Fe(()=>{const Ft=Ue.guards.map(xt=>{const xn=br(Ue.node)??E,Mr=jo(xt,xn);return Tt(function G(_){return _&&rs(_.canActivateChild)}(Mr)?Mr.canActivateChild(R,_):(0,C.N4e)(xn,()=>Mr(R,_))).pipe((0,ot.$)())});return(0,ue.of)(Ft).pipe(bn())}));return(0,ue.of)(ae).pipe(bn())}(_,z.path,E),function ks(_,b,E){const R=b.routeConfig?b.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ue.of)(!0);const z=R.map(ae=>Fe(()=>{const Ue=br(b)??E,Ft=jo(ae,Ue);return Tt(function Ns(_){return _&&rs(_.canActivate)}(Ft)?Ft.canActivate(b,_):(0,C.N4e)(Ue,()=>Ft(b,_))).pipe((0,ot.$)())}));return(0,ue.of)(z).pipe(bn())}(_,z.route,E))),(0,ot.$)(z=>!0!==z,!0))}(R,ae,_,b):(0,ue.of)(Ft)),(0,Pe.T)(Ft=>({...E,guardsResult:Ft})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,We.M)(xt=>{if(ae.guardsResult=xt.guardsResult,jr(xt.guardsResult))throw Ir(0,xt.guardsResult);const xn=new Vr(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(xn)}),(0,Et.p)(xt=>!!xt.guardsResult||(this.cancelNavigationTransition(xt,"",zr.GuardRejected),!1)),ml(xt=>{if(xt.guards.canActivateChecks.length)return(0,ue.of)(xt).pipe((0,We.M)(xn=>{const Mr=new ur(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(Mr)}),(0,lt.n)(xn=>{let Mr=!1;return(0,ue.of)(xn).pipe(function hs(_,b){return(0,Ye.Z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:z}}=E;if(!z.length)return(0,ue.of)(E);const ae=new Set(z.map(xt=>xt.route)),Ue=new Set;for(const xt of ae)if(!Ue.has(xt))for(const xn of wo(xt))Ue.add(xn);let Ft=0;return(0,Ve.H)(Ue).pipe(Je(xt=>ae.has(xt)?function Us(_,b,E,R){const z=_.routeConfig,ae=_._resolve;return void 0!==z?.title&&!yt(z)&&(ae[Pn]=z.title),function Qs(_,b,E,R){const z=$t(_);if(0===z.length)return(0,ue.of)({});const ae={};return(0,Ve.H)(z).pipe((0,Ye.Z)(Ue=>function Wl(_,b,E,R){const z=br(b)??R,ae=jo(_,z);return Tt(ae.resolve?ae.resolve(b,E):(0,C.N4e)(z,()=>ae(b,E)))}(_[Ue],b,E,R).pipe((0,ot.$)(),(0,We.M)(Ft=>{ae[Ue]=Ft}))),M(1),function je(_){return(0,Pe.T)(()=>_)}(ae),At(Ue=>fe(Ue)?et.w:Xe(Ue)))}(ae,_,b,R).pipe((0,Pe.T)(Ue=>(_._resolvedData=Ue,_.data=wr(_,_.parent,E).resolve,null)))}(xt,R,_,b):(xt.data=wr(xt,xt.parent,_).resolve,(0,ue.of)(void 0))),(0,We.M)(()=>Ft++),M(1),(0,Ye.Z)(xt=>Ft===Ue.size?(0,ue.of)(E):et.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,We.M)({next:()=>Mr=!0,complete:()=>{Mr||this.cancelNavigationTransition(xn,"",zr.NoDataFromResolver)}}))}),(0,We.M)(xn=>{const Mr=new Sr(xn.id,this.urlSerializer.serialize(xn.extractedUrl),this.urlSerializer.serialize(xn.urlAfterRedirects),xn.targetSnapshot);this.events.next(Mr)}))}),ml(xt=>{const xn=Mr=>{const kr=[];Mr.routeConfig?.loadComponent&&!Mr.routeConfig._loadedComponent&&kr.push(this.configLoader.loadComponent(Mr.routeConfig).pipe((0,We.M)(ji=>{Mr.component=ji}),(0,Pe.T)(()=>{})));for(const ji of Mr.children)kr.push(...xn(ji));return kr};return(0,ze.z)(xn(xt.targetSnapshot.root)).pipe((0,W.U)(null),(0,Ne.s)(1))}),ml(()=>this.afterPreactivation()),(0,lt.n)(()=>{const{currentSnapshot:xt,targetSnapshot:xn}=ae,Mr=this.createViewTransition?.(this.environmentInjector,xt.root,xn.root);return Mr?(0,Ve.H)(Mr).pipe((0,Pe.T)(()=>ae)):(0,ue.of)(ae)}),(0,Pe.T)(xt=>{const xn=function Yt(_,b,E){const R=an(_,b._root,E?E._root:void 0);return new Y(R,b)}(E.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return this.currentTransition=ae={...xt,targetRouterState:xn},this.currentNavigation.targetRouterState=xn,ae}),(0,We.M)(()=>{this.events.next(new Rr)}),((_,b,E,R)=>(0,Pe.T)(z=>(new Ra(b,z.targetRouterState,z.currentRouterState,E,R).activate(_),z)))(this.rootContexts,E.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,Ne.s)(1),(0,We.M)({next:xt=>{Ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gi(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects))),this.titleStrategy?.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{Ue=!0}}),function tn(_){return(0,Be.N)((b,E)=>{(0,Le.Tg)(_).subscribe((0,It._)(E,()=>E.complete(),Bt.l)),!E.closed&&b.subscribe(E)})}(this.transitionAbortSubject.pipe((0,We.M)(xt=>{throw xt}))),we(()=>{!Ue&&!Ft&&this.cancelNavigationTransition(ae,"",zr.SupersededByNewNavigation),this.currentTransition?.id===ae.id&&(this.currentNavigation=null,this.currentTransition=null)}),At(xt=>{if(Ft=!0,Wn(xt))this.events.next(new Hi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),xt.message,xt.cancellationCode)),function Er(_){return Wn(_)&&jr(_.url)}(xt)?this.events.next(new cs(xt.url)):ae.resolve(!1);else{this.events.next(new _r(ae.id,this.urlSerializer.serialize(ae.extractedUrl),xt,ae.targetSnapshot??void 0));try{ae.resolve(E.errorHandler(xt))}catch(xn){this.options.resolveNavigationPromiseOnError?ae.resolve(!1):ae.reject(xn)}}return et.w}))}))}cancelNavigationTransition(E,R,z){const ae=new Hi(E.id,this.urlSerializer.serialize(E.extractedUrl),R,z);this.events.next(ae),E.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function nn(_){return _!==Si}let Ln=(()=>{class _{static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:()=>(0,C.WQX)(Qr),providedIn:"root"})}return _})();class di{shouldDetach(b){return!1}store(b,E){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,E){return b.routeConfig===E.routeConfig}}let Qr=(()=>{class _ extends di{static#e=this.\u0275fac=(()=>{let E;return function(z){return(E||(E=C.xGo(_)))(z||_)}})();static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Yr=(()=>{class _{static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:()=>(0,C.WQX)(Pr),providedIn:"root"})}return _})(),Pr=(()=>{class _ extends Yr{constructor(){super(...arguments),this.location=(0,C.WQX)(xe.aZ),this.urlSerializer=(0,C.WQX)(qt),this.options=(0,C.WQX)(bs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,C.WQX)(Fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=O(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(E){return this.location.subscribe(R=>{"popstate"===R.type&&E(R.url,R.state)})}handleRouterEvent(E,R){if(E instanceof si)this.stateMemento=this.createStateMemento();else if(E instanceof Hr)this.rawUrlTree=R.initialUrl;else if(E instanceof no){if("eager"===this.urlUpdateStrategy&&!R.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl);this.setBrowserUrl(z,R)}}else E instanceof Rr?(this.currentUrlTree=R.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R))):E instanceof Hi&&(E.code===zr.GuardRejected||E.code===zr.NoDataFromResolver)?this.restoreHistory(R):E instanceof _r?this.restoreHistory(R,!0):E instanceof gi&&(this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId)}setBrowserUrl(E,R){const z=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(z)||R.extras.replaceUrl){const Ue={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(z,"",Ue)}else{const ae={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(z,"",ae)}}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===E.finalUrl&&0===ae&&(this.resetState(E),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}static#e=this.\u0275fac=(()=>{let E;return function(z){return(E||(E=C.xGo(_)))(z||_)}})();static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var ii=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(ii||{});function $r(_,b){_.events.pipe((0,Et.p)(E=>E instanceof gi||E instanceof Hi||E instanceof _r||E instanceof Hr),(0,Pe.T)(E=>E instanceof gi||E instanceof Hr?ii.COMPLETE:E instanceof Hi&&(E.code===zr.Redirect||E.code===zr.SupersededByNewNavigation)?ii.REDIRECTING:ii.FAILED),(0,Et.p)(E=>E!==ii.REDIRECTING),(0,Ne.s)(1)).subscribe(()=>{b()})}function yi(_){throw _}const Lr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class _{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,C.WQX)(C.H3F),this.stateManager=(0,C.WQX)(Yr),this.options=(0,C.WQX)(bs,{optional:!0})||{},this.pendingTasks=(0,C.WQX)(C.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,C.WQX)(Nt),this.urlSerializer=(0,C.WQX)(qt),this.location=(0,C.WQX)(xe.aZ),this.urlHandlingStrategy=(0,C.WQX)(Fo),this._events=new _e.B,this.errorHandler=this.options.errorHandler||yi,this.navigated=!1,this.routeReuseStrategy=(0,C.WQX)(Ln),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,C.WQX)(Ys,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,C.WQX)(Qt,{optional:!0}),this.eventsSubscription=new qe.yU,this.isNgZoneEnabled=(0,C.WQX)(C.SKi)instanceof C.SKi&&C.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:E=>{this.console.warn(E)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(R=>{try{const z=this.navigationTransitions.currentTransition,ae=this.navigationTransitions.currentNavigation;if(null!==z&&null!==ae)if(this.stateManager.handleRouterEvent(R,ae),R instanceof Hi&&R.code!==zr.Redirect&&R.code!==zr.SupersededByNewNavigation)this.navigated=!0;else if(R instanceof gi)this.navigated=!0;else if(R instanceof cs){const Ue=this.urlHandlingStrategy.merge(R.url,z.currentRawUrl),Ft={info:z.extras.info,skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nn(z.source)};this.scheduleNavigation(Ue,Si,null,Ft,{resolve:z.resolve,reject:z.reject,promise:z.promise})}(function _i(_){return!(_ instanceof Rr||_ instanceof cs)})(R)&&this._events.next(R)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Si,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((E,R)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(E,"popstate",R)},0)})}navigateToSyncWithBrowser(E,R,z){const ae={replaceUrl:!0},Ue=z?.navigationId?z:null;if(z){const xt={...z};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(ae.state=xt)}const Ft=this.parseUrl(E);this.scheduleNavigation(Ft,R,Ue,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(Ao),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,R={}){const{relativeTo:z,queryParams:ae,fragment:Ue,queryParamsHandling:Ft,preserveFragment:xt}=R,xn=xt?this.currentUrlTree.fragment:Ue;let kr,Mr=null;switch(Ft){case"merge":Mr={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Mr=this.currentUrlTree.queryParams;break;default:Mr=ae||null}null!==Mr&&(Mr=this.removeEmptyProps(Mr));try{kr=bi(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),kr=this.currentUrlTree.root}return pr(kr,E,Mr,xn??null)}navigateByUrl(E,R={skipLocationChange:!1}){const z=jr(E)?E:this.parseUrl(E),ae=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ae,Si,null,R)}navigate(E,R={skipLocationChange:!1}){return function Xr(_){for(let b=0;b<_.length;b++)if(null==_[b])throw new C.wOt(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){try{return this.urlSerializer.parse(E)}catch{return this.urlSerializer.parse("/")}}isActive(E,R){let z;if(z=!0===R?{...Lr}:!1===R?{...mn}:R,jr(E))return cr(this.currentUrlTree,E,z);const ae=this.parseUrl(E);return cr(this.currentUrlTree,ae,z)}removeEmptyProps(E){return Object.entries(E).reduce((R,[z,ae])=>(null!=ae&&(R[z]=ae),R),{})}scheduleNavigation(E,R,z,ae,Ue){if(this.disposed)return Promise.resolve(!1);let Ft,xt,xn;Ue?(Ft=Ue.resolve,xt=Ue.reject,xn=Ue.promise):xn=new Promise((kr,ji)=>{Ft=kr,xt=ji});const Mr=this.pendingTasks.add();return $r(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Mr))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:ae,resolve:Ft,reject:xt,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(kr=>Promise.reject(kr))}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Zr=(()=>{class _{constructor(E,R,z,ae,Ue,Ft){this.router=E,this.route=R,this.tabIndexAttribute=z,this.renderer=ae,this.el=Ue,this.locationStrategy=Ft,this.href=null,this.commands=null,this.onChanges=new _e.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xt=Ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xt||"area"===xt,this.isAnchorElement?this.subscription=E.events.subscribe(xn=>{xn instanceof gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,R,z,ae,Ue){const Ft=this.urlTree;return!!(null===Ft||this.isAnchorElement&&(0!==E||R||z||ae||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ft,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const E=this.urlTree;this.href=null!==E&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(E)):null;const R=null===this.href?null:(0,C.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(E,R){const z=this.renderer,ae=this.el.nativeElement;null!==R?z.setAttribute(ae,E,R):z.removeAttribute(ae,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||_)(C.rXU(On),C.rXU(Kn),C.kS0("tabindex"),C.rXU(C.sFG),C.rXU(C.aKT),C.rXU(xe.hb))};static#t=this.\u0275dir=C.FsC({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,z){1&R&&C.bIt("click",function(Ue){return z.onClick(Ue.button,Ue.ctrlKey,Ue.shiftKey,Ue.altKey,Ue.metaKey)}),2&R&&C.BMQ("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[C.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",C.L39],skipLocationChange:[C.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",C.L39],replaceUrl:[C.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",C.L39],routerLink:"routerLink"},standalone:!0,features:[C.GFd,C.OA$]})}return _})();class hi{}let Zi=(()=>{class _{preload(E,R){return R().pipe(At(()=>(0,ue.of)(null)))}static#e=this.\u0275fac=function(R){return new(R||_)};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),vr=(()=>{class _{constructor(E,R,z,ae,Ue){this.router=E,this.injector=z,this.preloadingStrategy=ae,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,Et.p)(E=>E instanceof gi),Je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const z=[];for(const ae of R){ae.providers&&!ae._injector&&(ae._injector=(0,C.Ol2)(ae.providers,E,`Route: ${ae.path}`));const Ue=ae._injector??E,Ft=ae._loadedInjector??Ue;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&z.push(this.preloadConfig(Ue,ae)),(ae.children||ae._loadedRoutes)&&z.push(this.processRoutes(Ft,ae.children??ae._loadedRoutes))}return(0,Ve.H)(z).pipe((0,Cn.U)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let z;z=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,ue.of)(null);const ae=z.pipe((0,Ye.Z)(Ue=>null===Ue?(0,ue.of)(void 0):(R._loadedRoutes=Ue.routes,R._loadedInjector=Ue.injector,this.processRoutes(Ue.injector??E,Ue.routes))));if(R.loadComponent&&!R._loadedComponent){const Ue=this.loader.loadComponent(R);return(0,Ve.H)([ae,Ue]).pipe((0,Cn.U)())}return ae})}static#e=this.\u0275fac=function(R){return new(R||_)(C.KVO(On),C.KVO(C.Ql9),C.KVO(C.uvJ),C.KVO(hi),C.KVO(vl))};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const gs=new C.nKC("");let Ps=(()=>{class _{constructor(E,R,z,ae,Ue={}){this.urlSerializer=E,this.transitions=R,this.viewportScroller=z,this.zone=ae,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,C.WQX)(C.uvJ),Ue.scrollPositionRestoration||="disabled",Ue.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof gi?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof Hr&&E.code===gr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof or&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){var z=this;this.zone.runOutsideAngular((0,a.A)(function*(){yield new Promise(ae=>{setTimeout(()=>{ae()}),(0,C.mal)(()=>{ae()},{injector:z.environmentInjector})}),z.zone.run(()=>{z.transitions.events.next(new or(E,"popstate"===z.lastSource?z.store[z.restoredId]:null,R))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){C.QTQ()};static#t=this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac})}return _})();function Wr(_,b){return{\u0275kind:_,\u0275providers:b}}function eo(){const _=(0,C.WQX)(C.zZn);return b=>{const E=_.get(C.o8S);if(b!==E.components[0])return;const R=_.get(On),z=_.get(_l);1===_.get(os)&&R.initialNavigation(),_.get(ss,null,C.$GK.Optional)?.setUpPreloading(),_.get(gs,null,C.$GK.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const _l=new C.nKC("",{factory:()=>new _e.B}),os=new C.nKC("",{providedIn:"root",factory:()=>1}),ss=new C.nKC("");function Ni(_){return Wr(0,[{provide:ss,useExisting:vr},{provide:hi,useExisting:_}])}function mo(_){return Wr(9,[{provide:te,useValue:B},{provide:F,useValue:{skipNextTransition:!!_?.skipInitialTransition,..._}}])}const xs=new C.nKC("ROUTER_FORROOT_GUARD"),Cl=[xe.aZ,{provide:qt,useClass:$n},On,io,{provide:Kn,useFactory:function fi(_){return _.routerState.root},deps:[On]},vl,[]];let Lo=(()=>{class _{constructor(E){}static forRoot(E,R){return{ngModule:_,providers:[Cl,[],{provide:Ys,multi:!0,useValue:E},{provide:xs,useFactory:Mc,deps:[[On,new C.Xx1,new C.kdw]]},{provide:bs,useValue:R||{}},R?.useHash?{provide:xe.hb,useClass:xe.fw}:{provide:xe.hb,useClass:xe.Sm},{provide:gs,useFactory:()=>{const _=(0,C.WQX)(xe.Xr),b=(0,C.WQX)(C.SKi),E=(0,C.WQX)(bs),R=(0,C.WQX)(Nt),z=(0,C.WQX)(qt);return E.scrollOffset&&_.setOffset(E.scrollOffset),new Ps(z,R,_,b,E)}},R?.preloadingStrategy?Ni(R.preloadingStrategy).\u0275providers:[],R?.initialNavigation?ms(R):[],R?.bindToComponentInputs?Wr(8,[jt,{provide:Qt,useExisting:jt}]).\u0275providers:[],R?.enableViewTransitions?mo().\u0275providers:[],[{provide:Zs,useFactory:eo},{provide:C.iLQ,multi:!0,useExisting:Zs}]]}}static forChild(E){return{ngModule:_,providers:[{provide:Ys,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(R){return new(R||_)(C.KVO(xs,8))};static#t=this.\u0275mod=C.$C({type:_});static#n=this.\u0275inj=C.G2t({})}return _})();function Mc(_){return"guarded"}function ms(_){return["disabled"===_.initialNavigation?Wr(3,[{provide:C.hnV,multi:!0,useFactory:()=>{const b=(0,C.WQX)(On);return()=>{b.setUpLocationChangeListener()}}},{provide:os,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Wr(2,[{provide:os,useValue:0},{provide:C.hnV,multi:!0,deps:[C.zZn],useFactory:b=>{const E=b.get(xe.hj,Promise.resolve());return()=>E.then(()=>new Promise(R=>{const z=b.get(On),ae=b.get(_l);$r(z,()=>{R(!0)}),b.get(Nt).afterPreactivation=()=>(R(!0),ae.closed?(0,ue.of)(void 0):ae),z.initialNavigation()}))}}]).\u0275providers:[]]}const Zs=new C.nKC("")},3345:(vn,gt,x)=>{"use strict";x.d(gt,{A:()=>Xe});var a=x(1076),C=x(1362),V=x(7852),le=x(8041);class Se{constructor(qe,Be){this._delegate=qe,this.firebase=Be,(0,V._addComponent)(qe,new C.uA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(qe,Be=V._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(qe);return!Ge.isInitialized()&&"EXPLICIT"===(null===(It=Ge.getComponent())||void 0===It?void 0:It.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Be})}_removeServiceInstance(qe,Be=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Be)}_addComponent(qe){(0,V._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,V._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),De=function ze(){const et=function Oe(et){const qe={},Be={__esModule:!0,initializeApp:function tt(lt,Ne={}){const me=V.initializeApp(lt,Ne);if((0,a.gR)(qe,me.name))return qe[me.name];const Et=new et(me,Be);return qe[me.name]=Et,Et},app:Ge,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function xe(lt){const Ne=lt.name,me=Ne.replace("-compat","");if(V._registerComponent(lt)&&"PUBLIC"===lt.type){const Et=(Ye=Ge())=>{if("function"!=typeof Ye[me])throw ue.create("invalid-app-argument",{appName:Ne});return Ye[me]()};void 0!==lt.serviceProps&&(0,a.zw)(Et,lt.serviceProps),Be[me]=Et,et.prototype[me]=function(...Ye){return this._getService.bind(this,Ne).apply(this,lt.multipleInstances?Ye:[])}}return"PUBLIC"===lt.type?Be[me]:null},removeApp:function It(lt){delete qe[lt]},useAsService:function Pe(lt,Ne){return"serverAuth"===Ne?null:Ne},modularAPIs:V}};function Ge(lt){if(!(0,a.gR)(qe,lt=lt||V._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:lt});return qe[lt]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function _e(){return Object.keys(qe).map(lt=>qe[lt])}}),Ge.App=et,Be}(Se);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function qe(Be){(0,a.zw)(et,Be)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),et}(),he=new le.Vy("@firebase/app-compat");if((0,a.Bd)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=De;!function ke(et){(0,V.registerVersion)("@firebase/app-compat","0.2.35",et)}()},7852:(vn,gt,x)=>{"use strict";x.r(gt),x.d(gt,{FirebaseError:()=>le.g,SDK_VERSION:()=>Tr,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Jn,_apps:()=>gn,_clearComponents:()=>qt,_components:()=>Yn,_getProvider:()=>Vt,_isFirebaseApp:()=>Ut,_isFirebaseServerApp:()=>wt,_registerComponent:()=>wn,_removeServiceInstance:()=>_t,_serverApps:()=>Un,deleteApp:()=>ut,getApp:()=>dt,getApps:()=>Me,initializeApp:()=>tr,initializeServerApp:()=>nt,onLog:()=>ne,registerVersion:()=>ve,setLogLevel:()=>de});var a=x(467),C=x(1362),V=x(8041),le=x(1076);const Se=(re,ee)=>ee.some(H=>re instanceof H);let Ve,ue;const De=new WeakMap,he=new WeakMap,Le=new WeakMap,Fe=new WeakMap,ke=new WeakMap;let qe={get(re,ee,H){if(re instanceof IDBTransaction){if("done"===ee)return he.get(re);if("objectStoreNames"===ee)return re.objectStoreNames||Le.get(re);if("store"===ee)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return tt(re[ee])},set:(re,ee,H)=>(re[ee]=H,!0),has:(re,ee)=>re instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in re};function Ge(re){return"function"==typeof re?function It(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...ee){return re.apply(_e(this),ee),tt(De.get(this))}:function(...ee){return tt(re.apply(_e(this),ee))}:function(ee,...H){const ie=re.call(_e(this),ee,...H);return Le.set(ie,ee.sort?ee.sort():[ee]),tt(ie)}}(re):(re instanceof IDBTransaction&&function et(re){if(he.has(re))return;const ee=new Promise((H,ie)=>{const Ke=()=>{re.removeEventListener("complete",Te),re.removeEventListener("error",mt),re.removeEventListener("abort",mt)},Te=()=>{H(),Ke()},mt=()=>{ie(re.error||new DOMException("AbortError","AbortError")),Ke()};re.addEventListener("complete",Te),re.addEventListener("error",mt),re.addEventListener("abort",mt)});he.set(re,ee)}(re),Se(re,function Oe(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,qe):re)}function tt(re){if(re instanceof IDBRequest)return function Xe(re){const ee=new Promise((H,ie)=>{const Ke=()=>{re.removeEventListener("success",Te),re.removeEventListener("error",mt)},Te=()=>{H(tt(re.result)),Ke()},mt=()=>{ie(re.error),Ke()};re.addEventListener("success",Te),re.addEventListener("error",mt)});return ee.then(H=>{H instanceof IDBCursor&&De.set(H,re)}).catch(()=>{}),ke.set(ee,re),ee}(re);if(Fe.has(re))return Fe.get(re);const ee=Ge(re);return ee!==re&&(Fe.set(re,ee),ke.set(ee,re)),ee}const _e=re=>ke.get(re),lt=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],me=new Map;function Et(re,ee){if(!(re instanceof IDBDatabase)||ee in re||"string"!=typeof ee)return;if(me.get(ee))return me.get(ee);const H=ee.replace(/FromIndex$/,""),ie=ee!==H,Ke=Ne.includes(H);if(!(H in(ie?IDBIndex:IDBObjectStore).prototype)||!Ke&&!lt.includes(H))return;const Te=function(){var mt=(0,a.A)(function*(zt,...Xt){const on=this.transaction(zt,Ke?"readwrite":"readonly");let ir=on.store;return ie&&(ir=ir.index(Xt.shift())),(yield Promise.all([ir[H](...Xt),Ke&&on.done]))[0]});return function(Xt){return mt.apply(this,arguments)}}();return me.set(ee,Te),Te}!function Be(re){qe=re(qe)}(re=>({...re,get:(ee,H,ie)=>Et(ee,H)||re.get(ee,H,ie),has:(ee,H)=>!!Et(ee,H)||re.has(ee,H)}));class Ye{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function ot(re){const ee=re.getComponent();return"VERSION"===ee?.type}(H)){const ie=H.getImmediate();return`${ie.library}/${ie.version}`}return null}).filter(H=>H).join(" ")}}const Je="@firebase/app",We="0.10.5",At=new V.Vy("@firebase/app"),zn="[DEFAULT]",fn={[Je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Un=new Map,Yn=new Map;function Rn(re,ee){try{re.container.addComponent(ee)}catch(H){At.debug(`Component ${ee.name} failed to register with FirebaseApp ${re.name}`,H)}}function Jn(re,ee){re.container.addOrOverwriteComponent(ee)}function wn(re){const ee=re.name;if(Yn.has(ee))return At.debug(`There were multiple attempts to register component ${ee}.`),!1;Yn.set(ee,re);for(const H of gn.values())Rn(H,re);for(const H of Un.values())Rn(H,re);return!0}function Vt(re,ee){const H=re.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),re.container.getProvider(ee)}function _t(re,ee,H=zn){Vt(re,ee).clearInstance(H)}function Ut(re){return void 0!==re.options}function wt(re){return void 0!==re.settings}function qt(){Yn.clear()}const $e=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dn{constructor(ee,H,ie){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=ie,this.container.addComponent(new C.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw $e.create("app-deleted",{appName:this._name})}}class Fn extends Dn{constructor(ee,H,ie,Ke){const Te=void 0!==H.automaticDataCollectionEnabled&&H.automaticDataCollectionEnabled,mt={name:ie,automaticDataCollectionEnabled:Te};super(void 0!==ee.apiKey?ee:ee.options,mt,Ke),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Te},H),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,H.releaseOnDeref=void 0,ve(Je,We,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ee){this.isDeleted||(this._refCount++,void 0!==ee&&this._finalizationRegistry.register(ee,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ut(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $e.create("server-app-deleted")}}const Tr="10.12.2";function tr(re,ee={}){let H=re;"object"!=typeof ee&&(ee={name:ee});const ie=Object.assign({name:zn,automaticDataCollectionEnabled:!1},ee),Ke=ie.name;if("string"!=typeof Ke||!Ke)throw $e.create("bad-app-name",{appName:String(Ke)});if(H||(H=(0,le.T9)()),!H)throw $e.create("no-options");const Te=gn.get(Ke);if(Te){if((0,le.bD)(H,Te.options)&&(0,le.bD)(ie,Te.config))return Te;throw $e.create("duplicate-app",{appName:Ke})}const mt=new C.h1(Ke);for(const Xt of Yn.values())mt.addComponent(Xt);const zt=new Dn(H,ie,mt);return gn.set(Ke,zt),zt}function nt(re,ee){if((0,le.Bd)())throw $e.create("invalid-server-app-environment");let H;void 0===ee.automaticDataCollectionEnabled&&(ee.automaticDataCollectionEnabled=!1),H=Ut(re)?re.options:re;const ie=Object.assign(Object.assign({},ee),H);if(void 0!==ie.releaseOnDeref&&delete ie.releaseOnDeref,void 0!==ee.releaseOnDeref&&typeof FinalizationRegistry>"u")throw $e.create("finalization-registry-not-supported",{});const Te=""+(on=JSON.stringify(ie),[...on].reduce((ir,Zn)=>Math.imul(31,ir)+Zn.charCodeAt(0)|0,0)),mt=Un.get(Te);var on;if(mt)return mt.incRefCount(ee.releaseOnDeref),mt;const zt=new C.h1(Te);for(const on of Yn.values())zt.addComponent(on);const Xt=new Fn(H,ee,Te,zt);return Un.set(Te,Xt),Xt}function dt(re=zn){const ee=gn.get(re);if(!ee&&re===zn&&(0,le.T9)())return tr();if(!ee)throw $e.create("no-app",{appName:re});return ee}function Me(){return Array.from(gn.values())}function ut(re){return pe.apply(this,arguments)}function pe(){return(pe=(0,a.A)(function*(re){let ee=!1;const H=re.name;gn.has(H)?(ee=!0,gn.delete(H)):Un.has(H)&&re.decRefCount()<=0&&(Un.delete(H),ee=!0),ee&&(yield Promise.all(re.container.getProviders().map(ie=>ie.delete())),re.isDeleted=!0)})).apply(this,arguments)}function ve(re,ee,H){var ie;let Ke=null!==(ie=fn[re])&&void 0!==ie?ie:re;H&&(Ke+=`-${H}`);const Te=Ke.match(/\s|\//),mt=ee.match(/\s|\//);if(Te||mt){const zt=[`Unable to register library "${Ke}" with version "${ee}":`];return Te&&zt.push(`library name "${Ke}" contains illegal characters (whitespace or "/")`),Te&&mt&&zt.push("and"),mt&&zt.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void At.warn(zt.join(" "))}wn(new C.uA(`${Ke}-version`,()=>({library:Ke,version:ee}),"VERSION"))}function ne(re,ee){if(null!==re&&"function"!=typeof re)throw $e.create("invalid-log-argument");(0,V.Ey)(re,ee)}function de(re){(0,V.He)(re)}const J="firebase-heartbeat-database",rt=1,Mt="firebase-heartbeat-store";let hn=null;function An(){return hn||(hn=function xe(re,ee,{blocked:H,upgrade:ie,blocking:Ke,terminated:Te}={}){const mt=indexedDB.open(re,ee),zt=tt(mt);return ie&&mt.addEventListener("upgradeneeded",Xt=>{ie(tt(mt.result),Xt.oldVersion,Xt.newVersion,tt(mt.transaction),Xt)}),H&&mt.addEventListener("blocked",Xt=>H(Xt.oldVersion,Xt.newVersion,Xt)),zt.then(Xt=>{Te&&Xt.addEventListener("close",()=>Te()),Ke&&Xt.addEventListener("versionchange",on=>Ke(on.oldVersion,on.newVersion,on))}).catch(()=>{}),zt}(J,rt,{upgrade:(re,ee)=>{if(0===ee)try{re.createObjectStore(Mt)}catch(H){console.warn(H)}}}).catch(re=>{throw $e.create("idb-open",{originalErrorMessage:re.message})})),hn}function mr(){return(mr=(0,a.A)(function*(re){try{const H=(yield An()).transaction(Mt),ie=yield H.objectStore(Mt).get(Hn(re));return yield H.done,ie}catch(ee){if(ee instanceof le.g)At.warn(ee.message);else{const H=$e.create("idb-get",{originalErrorMessage:ee?.message});At.warn(H.message)}}})).apply(this,arguments)}function En(re,ee){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.A)(function*(re,ee){try{const ie=(yield An()).transaction(Mt,"readwrite");yield ie.objectStore(Mt).put(ee,Hn(re)),yield ie.done}catch(H){if(H instanceof le.g)At.warn(H.message);else{const ie=$e.create("idb-set",{originalErrorMessage:H?.message});At.warn(ie.message)}}})).apply(this,arguments)}function Hn(re){return`${re.name}!${re.options.appId}`}class Ci{constructor(ee){this.container=ee,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this._storage=new Mi(H),this._heartbeatsCachePromise=this._storage.read().then(ie=>(this._heartbeatsCache=ie,ie))}triggerHeartbeat(){var ee=this;return(0,a.A)(function*(){var H,ie;const Te=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=bi();if((null!=(null===(H=ee._heartbeatsCache)||void 0===H?void 0:H.heartbeats)||(ee._heartbeatsCache=yield ee._heartbeatsCachePromise,null!=(null===(ie=ee._heartbeatsCache)||void 0===ie?void 0:ie.heartbeats)))&&ee._heartbeatsCache.lastSentHeartbeatDate!==mt&&!ee._heartbeatsCache.heartbeats.some(zt=>zt.date===mt))return ee._heartbeatsCache.heartbeats.push({date:mt,agent:Te}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(zt=>{const Xt=new Date(zt.date).valueOf();return Date.now()-Xt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,a.A)(function*(){var H;if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null==(null===(H=ee._heartbeatsCache)||void 0===H?void 0:H.heartbeats)||0===ee._heartbeatsCache.heartbeats.length)return"";const ie=bi(),{heartbeatsToSend:Ke,unsentEntries:Te}=function pr(re,ee=1024){const H=[];let ie=re.slice();for(const Ke of re){const Te=H.find(mt=>mt.agent===Ke.agent);if(Te){if(Te.dates.push(Ke.date),oi(H)>ee){Te.dates.pop();break}}else if(H.push({agent:Ke.agent,dates:[Ke.date]}),oi(H)>ee){H.pop();break}ie=ie.slice(1)}return{heartbeatsToSend:H,unsentEntries:ie}}(ee._heartbeatsCache.heartbeats),mt=(0,le.Uj)(JSON.stringify({version:2,heartbeats:Ke}));return ee._heartbeatsCache.lastSentHeartbeatDate=ie,Te.length>0?(ee._heartbeatsCache.heartbeats=Te,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),mt})()}}function bi(){return(new Date).toISOString().substring(0,10)}class Mi{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,a.A)(function*(){if(yield ee._canUseIndexedDBPromise){const ie=yield function nr(re){return mr.apply(this,arguments)}(ee.app);return ie?.heartbeats?ie:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ee){var H=this;return(0,a.A)(function*(){var ie;if(yield H._canUseIndexedDBPromise){const Te=yield H.read();return En(H.app,{lastSentHeartbeatDate:null!==(ie=ee.lastSentHeartbeatDate)&&void 0!==ie?ie:Te.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var H=this;return(0,a.A)(function*(){var ie;if(yield H._canUseIndexedDBPromise){const Te=yield H.read();return En(H.app,{lastSentHeartbeatDate:null!==(ie=ee.lastSentHeartbeatDate)&&void 0!==ie?ie:Te.lastSentHeartbeatDate,heartbeats:[...Te.heartbeats,...ee.heartbeats]})}})()}}function oi(re){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:re})).length}!function Di(re){wn(new C.uA("platform-logger",ee=>new Ye(ee),"PRIVATE")),wn(new C.uA("heartbeat",ee=>new Ci(ee),"PRIVATE")),ve(Je,We,re),ve(Je,We,"esm2017"),ve("fire-js","")}("")},1362:(vn,gt,x)=>{"use strict";x.d(gt,{h1:()=>Oe,uA:()=>V});var a=x(467),C=x(1076);class V{constructor(De,he,Le){this.name=De,this.instanceFactory=he,this.type=Le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(De){return this.instantiationMode=De,this}setMultipleInstances(De){return this.multipleInstances=De,this}setServiceProps(De){return this.serviceProps=De,this}setInstanceCreatedCallback(De){return this.onInstanceCreated=De,this}}const le="[DEFAULT]";class Se{constructor(De,he){this.name=De,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(De){const he=this.normalizeInstanceIdentifier(De);if(!this.instancesDeferred.has(he)){const Le=new C.cY;if(this.instancesDeferred.set(he,Le),this.isInitialized(he)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:he});Fe&&Le.resolve(Fe)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(De){var he;const Le=this.normalizeInstanceIdentifier(De?.identifier),Fe=null!==(he=De?.optional)&&void 0!==he&&he;if(!this.isInitialized(Le)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Le})}catch(ke){if(Fe)return null;throw ke}}getComponent(){return this.component}setComponent(De){if(De.name!==this.name)throw Error(`Mismatching Component ${De.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=De,this.shouldAutoInitialize()){if(function ue(ze){return"EAGER"===ze.instantiationMode}(De))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[he,Le]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(he);try{const ke=this.getOrInitializeService({instanceIdentifier:Fe});Le.resolve(ke)}catch{}}}}clearInstance(De=le){this.instancesDeferred.delete(De),this.instancesOptions.delete(De),this.instances.delete(De)}delete(){var De=this;return(0,a.A)(function*(){const he=Array.from(De.instances.values());yield Promise.all([...he.filter(Le=>"INTERNAL"in Le).map(Le=>Le.INTERNAL.delete()),...he.filter(Le=>"_delete"in Le).map(Le=>Le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(De=le){return this.instances.has(De)}getOptions(De=le){return this.instancesOptions.get(De)||{}}initialize(De={}){const{options:he={}}=De,Le=this.normalizeInstanceIdentifier(De.instanceIdentifier);if(this.isInitialized(Le))throw Error(`${this.name}(${Le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Le,options:he});for(const[ke,Xe]of this.instancesDeferred.entries())Le===this.normalizeInstanceIdentifier(ke)&&Xe.resolve(Fe);return Fe}onInit(De,he){var Le;const Fe=this.normalizeInstanceIdentifier(he),ke=null!==(Le=this.onInitCallbacks.get(Fe))&&void 0!==Le?Le:new Set;ke.add(De),this.onInitCallbacks.set(Fe,ke);const Xe=this.instances.get(Fe);return Xe&&De(Xe,Fe),()=>{ke.delete(De)}}invokeOnInitCallbacks(De,he){const Le=this.onInitCallbacks.get(he);if(Le)for(const Fe of Le)try{Fe(De,he)}catch{}}getOrInitializeService({instanceIdentifier:De,options:he={}}){let Le=this.instances.get(De);if(!Le&&this.component&&(Le=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=De,ze===le?void 0:ze),options:he}),this.instances.set(De,Le),this.instancesOptions.set(De,he),this.invokeOnInitCallbacks(Le,De),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,De,Le)}catch{}var ze;return Le||null}normalizeInstanceIdentifier(De=le){return this.component?this.component.multipleInstances?De:le:De}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(De){this.name=De,this.providers=new Map}addComponent(De){const he=this.getProvider(De.name);if(he.isComponentSet())throw new Error(`Component ${De.name} has already been registered with ${this.name}`);he.setComponent(De)}addOrOverwriteComponent(De){this.getProvider(De.name).isComponentSet()&&this.providers.delete(De.name),this.addComponent(De)}getProvider(De){if(this.providers.has(De))return this.providers.get(De);const he=new Se(De,this);return this.providers.set(De,he),he}getProviders(){return Array.from(this.providers.values())}}},8041:(vn,gt,x)=>{"use strict";x.d(gt,{$b:()=>C,Ey:()=>ze,He:()=>Oe,Vy:()=>ue});const a=[];var C=function(De){return De[De.DEBUG=0]="DEBUG",De[De.VERBOSE=1]="VERBOSE",De[De.INFO=2]="INFO",De[De.WARN=3]="WARN",De[De.ERROR=4]="ERROR",De[De.SILENT=5]="SILENT",De}(C||{});const V={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},le=C.INFO,Se={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Ve=(De,he,...Le)=>{if(he<De.logLevel)return;const Fe=(new Date).toISOString(),ke=Se[he];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ke](`[${Fe}]  ${De.name}:`,...Le)};class ue{constructor(he){this.name=he,this._logLevel=le,this._logHandler=Ve,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in C))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?V[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...he),this._logHandler(this,C.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...he),this._logHandler(this,C.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,C.INFO,...he),this._logHandler(this,C.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,C.WARN,...he),this._logHandler(this,C.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...he),this._logHandler(this,C.ERROR,...he)}}function Oe(De){a.forEach(he=>{he.setLogLevel(De)})}function ze(De,he){for(const Le of a){let Fe=null;he&&he.level&&(Fe=V[he.level]),Le.userLogHandler=null===De?null:(ke,Xe,...et)=>{const qe=et.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");Xe>=(Fe??ke.logLevel)&&De({level:C[Xe].toLowerCase(),message:qe,args:et,type:ke.name})}}}},2872:(vn,gt,x)=>{"use strict";x.d(gt,{Yq:()=>$t,TS:()=>en,sR:()=>kn,el:()=>hn,Sb:()=>Ut,QE:()=>yn,CF:()=>wn,Rg:()=>pe,p4:()=>Hn,jM:()=>oi,q9:()=>ln,Kb:()=>Di,OD:()=>Bt,CE:()=>An,pF:()=>nr,fL:()=>jr,YV:()=>J,er:()=>Or,z3:()=>Ci});var a=x(467),C=x(4438),V=x(4964),le=x(177),Se=x(5531),Ve=x(4442);var Et=x(1413),Ye=x(3726),ot=x(4412),Je=x(4572),We=x(7673),At=x(1635),Ie=x(5964),W=x(5558),M=x(3294),S=x(4341);const L=["tabsInner"];let Bt=(()=>{class re{doc;_readyPromise;win;backButton=new Et.B;keyboardDidShow=new Et.B;keyboardDidHide=new Et.B;pause=new Et.B;resume=new Et.B;resize=new Et.B;constructor(H,ie){this.doc=H,ie.run(()=>{let Ke;this.win=H.defaultView,this.backButton.subscribeWithPriority=function(Te,mt){return this.subscribe(zt=>zt.register(Te,Xt=>ie.run(()=>mt(Xt))))},Cn(this.pause,H,"pause",ie),Cn(this.resume,H,"resume",ie),Cn(this.backButton,H,"ionBackButton",ie),Cn(this.resize,this.win,"resize",ie),Cn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ie),Cn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ie),this._readyPromise=new Promise(Te=>{Ke=Te}),this.win?.cordova?H.addEventListener("deviceready",()=>{Ke("cordova")},{once:!0}):Ke("dom")})}is(H){return(0,Se.a)(this.win,H)}platforms(){return(0,Se.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(H){return tn(this.win.location.href,H)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(H){const ie=this.win.navigator;return!!(ie?.userAgent&&ie.userAgent.indexOf(H)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(ie){return new(ie||re)(C.KVO(le.qQ),C.KVO(C.SKi))};static \u0275prov=C.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const tn=(re,ee)=>{ee=ee.replace(/[[\]\\]/g,"\\$&");const ie=new RegExp("[\\?&]"+ee+"=([^&#]*)").exec(re);return ie?decodeURIComponent(ie[1].replace(/\+/g," ")):null},Cn=(re,ee,H,ie)=>{ee&&ee.addEventListener(H,Ke=>{ie.run(()=>{const Te=Ke?.detail;re.next(Te)})})};let ln=(()=>{class re{location;serializer;router;topOutlet;direction=Pn;animated=hr;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(H,ie,Ke,Te){this.location=ie,this.serializer=Ke,this.router=Te,Te&&Te.events.subscribe(mt=>{if(mt instanceof V.Z){const zt=mt.restoredState?mt.restoredState.navigationId:mt.id;this.guessDirection=this.guessAnimation=zt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?mt.id:zt}}),H.backButton.subscribeWithPriority(0,mt=>{this.pop(),mt()})}navigateForward(H,ie={}){return this.setDirection("forward",ie.animated,ie.animationDirection,ie.animation),this.navigate(H,ie)}navigateBack(H,ie={}){return this.setDirection("back",ie.animated,ie.animationDirection,ie.animation),this.navigate(H,ie)}navigateRoot(H,ie={}){return this.setDirection("root",ie.animated,ie.animationDirection,ie.animation),this.navigate(H,ie)}back(H={animated:!0,animationDirection:"back"}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.location.back()}pop(){var H=this;return(0,a.A)(function*(){let ie=H.topOutlet;for(;ie;){if(yield ie.pop())return!0;ie=ie.parentOutlet}return!1})()}setDirection(H,ie,Ke,Te){this.direction=H,this.animated=rn(H,ie,Ke),this.animationBuilder=Te}setTopOutlet(H){this.topOutlet=H}consumeTransition(){let ie,H="root";const Ke=this.animationBuilder;return"auto"===this.direction?(H=this.guessDirection,ie=this.guessAnimation):(ie=this.animated,H=this.direction),this.direction=Pn,this.animated=hr,this.animationBuilder=void 0,{direction:H,animation:ie,animationBuilder:Ke}}navigate(H,ie){if(Array.isArray(H))return this.router.navigate(H,ie);{const Ke=this.serializer.parse(H.toString());return void 0!==ie.queryParams&&(Ke.queryParams={...ie.queryParams}),void 0!==ie.fragment&&(Ke.fragment=ie.fragment),this.router.navigateByUrl(Ke,ie)}}static \u0275fac=function(ie){return new(ie||re)(C.KVO(Bt),C.KVO(le.aZ),C.KVO(V.Sd),C.KVO(V.Ix,8))};static \u0275prov=C.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const rn=(re,ee,H)=>{if(!1!==ee){if(void 0!==H)return H;if("forward"===re||"back"===re)return re;if("root"===re&&!0===ee)return"forward"}},Pn="auto",hr=void 0;let en=(()=>{class re{get(H,ie){const Ke=Gn();return Ke?Ke.get(H,ie):null}getBoolean(H,ie){const Ke=Gn();return!!Ke&&Ke.getBoolean(H,ie)}getNumber(H,ie){const Ke=Gn();return Ke?Ke.getNumber(H,ie):0}static \u0275fac=function(ie){return new(ie||re)};static \u0275prov=C.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();const kn=new C.nKC("USERCONFIG"),Gn=()=>{if(typeof window<"u"){const re=window.Ionic;if(re?.config)return re.config}return null};class sn{data;constructor(ee={}){this.data=ee,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(ee){return this.data[ee]}}let $t=(()=>{class re{zone=(0,C.WQX)(C.SKi);applicationRef=(0,C.WQX)(C.o8S);config=(0,C.WQX)(kn);create(H,ie,Ke){return new ct(H,ie,this.applicationRef,this.zone,Ke,this.config.useSetInputAPI??!1)}static \u0275fac=function(ie){return new(ie||re)};static \u0275prov=C.jDH({token:re,factory:re.\u0275fac})}return re})();class ct{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(ee,H,ie,Ke,Te,mt){this.environmentInjector=ee,this.injector=H,this.applicationRef=ie,this.zone=Ke,this.elementReferenceKey=Te,this.enableSignalsSupport=mt}attachViewToDom(ee,H,ie,Ke){return this.zone.run(()=>new Promise(Te=>{const mt={...ie};void 0!==this.elementReferenceKey&&(mt[this.elementReferenceKey]=ee),Te(st(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ee,H,mt,Ke,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(ee,H){return this.zone.run(()=>new Promise(ie=>{const Ke=this.elRefMap.get(H);if(Ke){Ke.destroy(),this.elRefMap.delete(H);const Te=this.elEventsMap.get(H);Te&&(Te(),this.elEventsMap.delete(H))}ie()}))}}const st=(re,ee,H,ie,Ke,Te,mt,zt,Xt,on,ir,Zn)=>{const qr=C.zZn.create({providers:cr(Xt),parent:H}),pi=(0,C.a0P)(zt,{environmentInjector:ee,elementInjector:qr}),Si=pi.instance,Nn=pi.location.nativeElement;if(Xt)if(ir&&void 0!==Si[ir]&&console.error(`[Ionic Error]: ${ir} is a reserved property when using ${mt.tagName.toLowerCase()}. Rename or remove the "${ir}" property from ${zt.name}.`),!0===Zn&&void 0!==pi.setInput){const{modal:si,popover:gi,...zr}=Xt;for(const gr in zr)pi.setInput(gr,zr[gr]);void 0!==si&&Object.assign(Si,{modal:si}),void 0!==gi&&Object.assign(Si,{popover:gi})}else Object.assign(Si,Xt);if(on)for(const si of on)Nn.classList.add(si);const Vi=Kt(re,Si,Nn);return mt.appendChild(Nn),ie.attachView(pi.hostView),Ke.set(Nn,pi),Te.set(Nn,Vi),Nn},Tt=[Ve.L,Ve.a,Ve.b,Ve.c,Ve.d],Kt=(re,ee,H)=>re.run(()=>{const ie=Tt.filter(Ke=>"function"==typeof ee[Ke]).map(Ke=>{const Te=mt=>ee[Ke](mt.detail);return H.addEventListener(Ke,Te),()=>H.removeEventListener(Ke,Te)});return()=>ie.forEach(Ke=>Ke())}),Ht=new C.nKC("NavParamsToken"),cr=re=>[{provide:Ht,useValue:re},{provide:sn,useFactory:zn,deps:[Ht]}],zn=re=>new sn(re),fn=(re,ee)=>{const H=re.prototype;ee.forEach(ie=>{Object.defineProperty(H,ie,{get(){return this.el[ie]},set(Ke){this.z.runOutsideAngular(()=>this.el[ie]=Ke)}})})},gn=(re,ee)=>{const H=re.prototype;ee.forEach(ie=>{H[ie]=function(){const Ke=arguments;return this.z.runOutsideAngular(()=>this.el[ie].apply(this.el,Ke))}})},Un=(re,ee,H)=>{H.forEach(ie=>re[ie]=(0,Ye.R)(ee,ie))};function Yn(re){return function(H){const{defineCustomElementFn:ie,inputs:Ke,methods:Te}=re;return void 0!==ie&&ie(),Ke&&fn(H,Ke),Te&&gn(H,Te),H}}const Rn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Jn=["present","dismiss","onDidDismiss","onWillDismiss"];let wn=(()=>{let re=class fE{z;template;isCmpOpen=!1;el;constructor(H,ie,Ke){this.z=Ke,this.el=ie.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),Un(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ie){return new(ie||fE)(C.rXU(C.gRc),C.rXU(C.aKT),C.rXU(C.SKi))};static \u0275dir=C.FsC({type:fE,selectors:[["ion-popover"]],contentQueries:function(ie,Ke,Te){if(1&ie&&C.wni(Te,C.C4Q,5),2&ie){let mt;C.mGM(mt=C.lsd())&&(Ke.template=mt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return re=(0,At.Cg)([Yn({inputs:Rn,methods:Jn})],re),re})();const Vt=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],_t=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ut=(()=>{let re=class pE{z;template;isCmpOpen=!1;el;constructor(H,ie,Ke){this.z=Ke,this.el=ie.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),Un(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ie){return new(ie||pE)(C.rXU(C.gRc),C.rXU(C.aKT),C.rXU(C.SKi))};static \u0275dir=C.FsC({type:pE,selectors:[["ion-modal"]],contentQueries:function(ie,Ke,Te){if(1&ie&&C.wni(Te,C.C4Q,5),2&ie){let mt;C.mGM(mt=C.lsd())&&(Ke.template=mt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return re=(0,At.Cg)([Yn({inputs:Vt,methods:_t})],re),re})();const qt=(re,ee)=>((re=re.filter(H=>H.stackId!==ee.stackId)).push(ee),re),Dn=(re,ee)=>{const H=re.createUrlTree(["."],{relativeTo:ee});return re.serializeUrl(H)},Fn=(re,ee)=>!ee||re.stackId!==ee.stackId,Tr=(re,ee)=>{if(!re)return;const H=tr(ee);for(let ie=0;ie<H.length;ie++){if(ie>=re.length)return H[ie];if(H[ie]!==re[ie])return}},tr=re=>re.split("/").map(ee=>ee.trim()).filter(ee=>""!==ee),nt=re=>{re&&(re.ref.destroy(),re.unlistenEvents())};class dt{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(ee,H,ie,Ke,Te,mt){this.containerEl=H,this.router=ie,this.navCtrl=Ke,this.zone=Te,this.location=mt,this.tabsPrefix=void 0!==ee?tr(ee):void 0}createView(ee,H){const ie=Dn(this.router,H),Ke=ee?.location?.nativeElement,Te=Kt(this.zone,ee.instance,Ke);return{id:this.nextId++,stackId:Tr(this.tabsPrefix,ie),unlistenEvents:Te,element:Ke,ref:ee,url:ie}}getExistingView(ee){const H=Dn(this.router,ee),ie=this.views.find(Ke=>Ke.url===H);return ie&&ie.ref.changeDetectorRef.reattach(),ie}setActive(ee){const H=this.navCtrl.consumeTransition();let{direction:ie,animation:Ke,animationBuilder:Te}=H;const mt=this.activeView,zt=Fn(ee,mt);zt&&(ie="back",Ke=void 0);const Xt=this.views.slice();let on;const ir=this.router;ir.getCurrentNavigation?on=ir.getCurrentNavigation():ir.navigations?.value&&(on=ir.navigations.value),on?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Zn=this.views.includes(ee),qr=this.insertView(ee,ie);Zn||ee.ref.changeDetectorRef.detectChanges();const pi=ee.animationBuilder;return void 0===Te&&"back"===ie&&!zt&&void 0!==pi&&(Te=pi),mt&&(mt.animationBuilder=Te),this.zone.runOutsideAngular(()=>this.wait(()=>(mt&&mt.ref.changeDetectorRef.detach(),ee.ref.changeDetectorRef.reattach(),this.transition(ee,mt,Ke,this.canGoBack(1),!1,Te).then(()=>Me(ee,qr,Xt,this.location,this.zone)).then(()=>({enteringView:ee,direction:ie,animation:Ke,tabSwitch:zt})))))}canGoBack(ee,H=this.getActiveStackId()){return this.getStack(H).length>ee}pop(ee,H=this.getActiveStackId()){return this.zone.run(()=>{const ie=this.getStack(H);if(ie.length<=ee)return Promise.resolve(!1);const Ke=ie[ie.length-ee-1];let Te=Ke.url;const mt=Ke.savedData;if(mt){const Xt=mt.get("primary");Xt?.route?._routerState?.snapshot.url&&(Te=Xt.route._routerState.snapshot.url)}const{animationBuilder:zt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Te,{...Ke.savedExtras,animation:zt}).then(()=>!0)})}startBackTransition(){const ee=this.activeView;if(ee){const H=this.getStack(ee.stackId),ie=H[H.length-2],Ke=ie.animationBuilder;return this.wait(()=>this.transition(ie,ee,"back",this.canGoBack(2),!0,Ke))}return Promise.resolve()}endBackTransition(ee){ee?(this.skipTransition=!0,this.pop(1)):this.activeView&&ut(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ee){const H=this.getStack(ee);return H.length>0?H[H.length-1]:void 0}getRootUrl(ee){const H=this.getStack(ee);return H.length>0?H[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(nt),this.activeView=void 0,this.views=[]}getStack(ee){return this.views.filter(H=>H.stackId===ee)}insertView(ee,H){return this.activeView=ee,this.views=((re,ee,H)=>"root"===H?qt(re,ee):"forward"===H?((re,ee)=>(re.indexOf(ee)>=0?re=re.filter(ie=>ie.stackId!==ee.stackId||ie.id<=ee.id):re.push(ee),re))(re,ee):((re,ee)=>re.indexOf(ee)>=0?re.filter(ie=>ie.stackId!==ee.stackId||ie.id<=ee.id):qt(re,ee))(re,ee))(this.views,ee,H),this.views.slice()}transition(ee,H,ie,Ke,Te,mt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(H===ee)return Promise.resolve(!1);const zt=ee?ee.element:void 0,Xt=H?H.element:void 0,on=this.containerEl;return zt&&zt!==Xt&&(zt.classList.add("ion-page"),zt.classList.add("ion-page-invisible"),on.commit)?on.commit(zt,Xt,{duration:void 0===ie?0:void 0,direction:ie,showGoBack:Ke,progressAnimation:Te,animationBuilder:mt}):Promise.resolve(!1)}wait(ee){var H=this;return(0,a.A)(function*(){void 0!==H.runningTask&&(yield H.runningTask,H.runningTask=void 0);const ie=H.runningTask=ee();return ie.finally(()=>H.runningTask=void 0),ie})()}}const Me=(re,ee,H,ie,Ke)=>"function"==typeof requestAnimationFrame?new Promise(Te=>{requestAnimationFrame(()=>{ut(re,ee,H,ie,Ke),Te()})}):Promise.resolve(),ut=(re,ee,H,ie,Ke)=>{Ke.run(()=>H.filter(Te=>!ee.includes(Te)).forEach(nt)),ee.forEach(Te=>{const zt=ie.path().split("?")[0].split("#")[0];if(Te!==re&&Te.url!==zt){const Xt=Te.element;Xt.setAttribute("aria-hidden","true"),Xt.classList.add("ion-page-hidden"),Te.ref.changeDetectorRef.detach()}})};let pe=(()=>{class re{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new ot.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=V.Xk;stackWillChange=new C.bkB;stackDidChange=new C.bkB;activateEvents=new C.bkB;deactivateEvents=new C.bkB;parentContexts=(0,C.WQX)(V.Zp);location=(0,C.WQX)(C.c1b);environmentInjector=(0,C.WQX)(C.uvJ);inputBinder=(0,C.WQX)(ne,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,C.WQX)(en);navCtrl=(0,C.WQX)(ln);set animation(H){this.nativeEl.animation=H}set animated(H){this.nativeEl.animated=H}set swipeGesture(H){this._swipeGesture=H,this.nativeEl.swipeHandler=H?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ie=>this.stackCtrl.endBackTransition(ie)}:void 0}constructor(H,ie,Ke,Te,mt,zt,Xt,on){this.parentOutlet=on,this.nativeEl=Te.nativeElement,this.name=H||V.Xk,this.tabsPrefix="true"===ie?Dn(mt,Xt):void 0,this.stackCtrl=new dt(this.tabsPrefix,this.nativeEl,mt,this.navCtrl,zt,Ke),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const H=this.getContext();H?.route&&this.activateWith(H.route,H.injector)}new Promise(H=>((re,ee)=>{re.componentOnReady?re.componentOnReady().then(H=>ee(H)):(re=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(re):"function"==typeof requestAnimationFrame?requestAnimationFrame(re):setTimeout(re)})(()=>ee(re))})(this.nativeEl,H)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(H,ie){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ie=this.getContext();this.activatedView.savedData=new Map(ie.children.contexts);const Ke=this.activatedView.savedData.get("primary");if(Ke&&ie.route&&(Ke.route={...ie.route}),this.activatedView.savedExtras={},ie.route){const Te=ie.route.snapshot;this.activatedView.savedExtras.queryParams=Te.queryParams,this.activatedView.savedExtras.fragment=Te.fragment}}const H=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,ie){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;let Ke,Te=this.stackCtrl.getExistingView(H);if(Te){Ke=this.activated=Te.ref;const zt=Te.savedData;zt&&(this.getContext().children.contexts=zt),this.updateActivatedRouteProxy(Ke.instance,H)}else{const zt=H._futureSnapshot,Xt=this.parentContexts.getOrCreateContext(this.name).children,on=new ot.t(null),ir=this.createActivatedRouteProxy(on,H),Zn=new ve(ir,Xt,this.location.injector);Ke=this.activated=this.outletContent.createComponent(zt.routeConfig.component??zt.component,{index:this.outletContent.length,injector:Zn,environmentInjector:ie??this.environmentInjector}),on.next(Ke.instance),Te=this.stackCtrl.createView(this.activated,H),this.proxyMap.set(Ke.instance,ir),this.currentActivatedRoute$.next({component:Ke.instance,activatedRoute:H})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=Te,this.navCtrl.setTopOutlet(this);const mt=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Te,tabSwitch:Fn(Te,mt)}),this.stackCtrl.setActive(Te).then(zt=>{this.activateEvents.emit(Ke.instance),this.stackDidChange.emit(zt)})}canGoBack(H=1,ie){return this.stackCtrl.canGoBack(H,ie)}pop(H=1,ie){return this.stackCtrl.pop(H,ie)}getLastUrl(H){const ie=this.stackCtrl.getLastUrl(H);return ie?ie.url:void 0}getLastRouteView(H){return this.stackCtrl.getLastUrl(H)}getRootView(H){return this.stackCtrl.getRootUrl(H)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(H,ie){const Ke=new V.nX;return Ke._futureSnapshot=ie._futureSnapshot,Ke._routerState=ie._routerState,Ke.snapshot=ie.snapshot,Ke.outlet=ie.outlet,Ke.component=ie.component,Ke._paramMap=this.proxyObservable(H,"paramMap"),Ke._queryParamMap=this.proxyObservable(H,"queryParamMap"),Ke.url=this.proxyObservable(H,"url"),Ke.params=this.proxyObservable(H,"params"),Ke.queryParams=this.proxyObservable(H,"queryParams"),Ke.fragment=this.proxyObservable(H,"fragment"),Ke.data=this.proxyObservable(H,"data"),Ke}proxyObservable(H,ie){return H.pipe((0,Ie.p)(Ke=>!!Ke),(0,W.n)(Ke=>this.currentActivatedRoute$.pipe((0,Ie.p)(Te=>null!==Te&&Te.component===Ke),(0,W.n)(Te=>Te&&Te.activatedRoute[ie]),(0,M.F)())))}updateActivatedRouteProxy(H,ie){const Ke=this.proxyMap.get(H);if(!Ke)throw new Error("Could not find activated route proxy for view");Ke._futureSnapshot=ie._futureSnapshot,Ke._routerState=ie._routerState,Ke.snapshot=ie.snapshot,Ke.outlet=ie.outlet,Ke.component=ie.component,this.currentActivatedRoute$.next({component:H,activatedRoute:ie})}static \u0275fac=function(ie){return new(ie||re)(C.kS0("name"),C.kS0("tabs"),C.rXU(le.aZ),C.rXU(C.aKT),C.rXU(V.Ix),C.rXU(C.SKi),C.rXU(V.nX),C.rXU(re,12))};static \u0275dir=C.FsC({type:re,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return re})();class ve{route;childContexts;parent;constructor(ee,H,ie){this.route=ee,this.childContexts=H,this.parent=ie}get(ee,H){return ee===V.nX?this.route:ee===V.Zp?this.childContexts:this.parent.get(ee,H)}}const ne=new C.nKC("");let de=(()=>{class re{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(H){this.unsubscribeFromRouteData(H),this.subscribeToRouteData(H)}unsubscribeFromRouteData(H){this.outletDataSubscriptions.get(H)?.unsubscribe(),this.outletDataSubscriptions.delete(H)}subscribeToRouteData(H){const{activatedRoute:ie}=H,Ke=(0,Je.z)([ie.queryParams,ie.params,ie.data]).pipe((0,W.n)(([Te,mt,zt],Xt)=>(zt={...Te,...mt,...zt},0===Xt?(0,We.of)(zt):Promise.resolve(zt)))).subscribe(Te=>{if(!H.isActivated||!H.activatedComponentRef||H.activatedRoute!==ie||null===ie.component)return void this.unsubscribeFromRouteData(H);const mt=(0,C.HJs)(ie.component);if(mt)for(const{templateName:zt}of mt.inputs)H.activatedComponentRef.setInput(zt,Te[zt]);else this.unsubscribeFromRouteData(H)});this.outletDataSubscriptions.set(H,Ke)}static \u0275fac=function(ie){return new(ie||re)};static \u0275prov=C.jDH({token:re,factory:re.\u0275fac})}return re})();const J=()=>({provide:ne,useFactory:rt,deps:[V.Ix]});function rt(re){return re?.componentInputBindingEnabled?new de:null}const Mt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let hn=(()=>{let re=class gE{routerOutlet;navCtrl;config;r;z;el;constructor(H,ie,Ke,Te,mt,zt){this.routerOutlet=H,this.navCtrl=ie,this.config=Ke,this.r=Te,this.z=mt,zt.detach(),this.el=this.r.nativeElement}onClick(H){const ie=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),H.preventDefault()):null!=ie&&(this.navCtrl.navigateBack(ie,{animation:this.routerAnimation}),H.preventDefault())}static \u0275fac=function(ie){return new(ie||gE)(C.rXU(pe,8),C.rXU(ln),C.rXU(en),C.rXU(C.aKT),C.rXU(C.SKi),C.rXU(C.gRc))};static \u0275dir=C.FsC({type:gE,hostBindings:function(ie,Ke){1&ie&&C.bIt("click",function(mt){return Ke.onClick(mt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return re=(0,At.Cg)([Yn({inputs:Mt})],re),re})(),An=(()=>{class re{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(H,ie,Ke,Te,mt){this.locationStrategy=H,this.navCtrl=ie,this.elementRef=Ke,this.router=Te,this.routerLink=mt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(H){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),H.preventDefault()}static \u0275fac=function(ie){return new(ie||re)(C.rXU(le.hb),C.rXU(ln),C.rXU(C.aKT),C.rXU(V.Ix),C.rXU(V.Wk,8))};static \u0275dir=C.FsC({type:re,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ie,Ke){1&ie&&C.bIt("click",function(mt){return Ke.onClick(mt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[C.OA$]})}return re})(),nr=(()=>{class re{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(H,ie,Ke,Te,mt){this.locationStrategy=H,this.navCtrl=ie,this.elementRef=Ke,this.router=Te,this.routerLink=mt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(ie){return new(ie||re)(C.rXU(le.hb),C.rXU(ln),C.rXU(C.aKT),C.rXU(V.Ix),C.rXU(V.Wk,8))};static \u0275dir=C.FsC({type:re,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ie,Ke){1&ie&&C.bIt("click",function(){return Ke.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[C.OA$]})}return re})();const mr=["animated","animation","root","rootParams","swipeGesture"],En=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let yn=(()=>{let re=class mE{z;el;constructor(H,ie,Ke,Te,mt,zt){this.z=mt,zt.detach(),this.el=H.nativeElement,H.nativeElement.delegate=Te.create(ie,Ke),Un(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(ie){return new(ie||mE)(C.rXU(C.aKT),C.rXU(C.uvJ),C.rXU(C.zZn),C.rXU($t),C.rXU(C.SKi),C.rXU(C.gRc))};static \u0275dir=C.FsC({type:mE,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return re=(0,At.Cg)([Yn({inputs:mr,methods:En})],re),re})(),Hn=(()=>{class re{navCtrl;tabsInner;ionTabsWillChange=new C.bkB;ionTabsDidChange=new C.bkB;tabBarSlot="bottom";constructor(H){this.navCtrl=H}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:H,tabSwitch:ie}){const Ke=H.stackId;ie&&void 0!==Ke&&this.ionTabsWillChange.emit({tab:Ke})}onStackDidChange({enteringView:H,tabSwitch:ie}){const Ke=H.stackId;ie&&void 0!==Ke&&(this.tabBar&&(this.tabBar.selectedTab=Ke),this.ionTabsDidChange.emit({tab:Ke}))}select(H){const ie="string"==typeof H,Ke=ie?H:H.detail.tab,Te=this.outlet.getActiveStackId()===Ke,mt=`${this.outlet.tabsPrefix}/${Ke}`;if(ie||H.stopPropagation(),Te){const zt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(zt)?.url===mt)return;const on=this.outlet.getRootView(Ke);return this.navCtrl.navigateRoot(mt,{...on&&mt===on.url&&on.savedExtras,animated:!0,animationDirection:"back"})}{const zt=this.outlet.getLastRouteView(Ke),Xt=zt?.url||mt,on=zt?.savedExtras;return this.navCtrl.navigateRoot(Xt,{...on,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(H=>{const ie=H.el.getAttribute("slot");ie!==this.tabBarSlot&&(this.tabBarSlot=ie,this.relocateTabBar())})}relocateTabBar(){const H=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(H):this.tabsInner.nativeElement.after(H)}static \u0275fac=function(ie){return new(ie||re)(C.rXU(ln))};static \u0275dir=C.FsC({type:re,selectors:[["ion-tabs"]],viewQuery:function(ie,Ke){if(1&ie&&C.GBs(L,7,C.aKT),2&ie){let Te;C.mGM(Te=C.lsd())&&(Ke.tabsInner=Te.first)}},hostBindings:function(ie,Ke){1&ie&&C.bIt("ionTabButtonClick",function(mt){return Ke.select(mt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return re})();const Or=re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(re):"function"==typeof requestAnimationFrame?requestAnimationFrame(re):setTimeout(re);let jr=(()=>{class re{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(H,ie){this.injector=H,this.elementRef=ie}writeValue(H){this.elementRef.nativeElement.value=this.lastValue=H,Ci(this.elementRef)}handleValueChange(H,ie){H===this.elementRef.nativeElement&&(ie!==this.lastValue&&(this.lastValue=ie,this.onChange(ie)),Ci(this.elementRef))}_handleBlurEvent(H){H===this.elementRef.nativeElement&&(this.onTouched(),Ci(this.elementRef))}registerOnChange(H){this.onChange=H}registerOnTouched(H){this.onTouched=H}setDisabledState(H){this.elementRef.nativeElement.disabled=H}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let H;try{H=this.injector.get(S.vO)}catch{}if(!H)return;H.statusChanges&&(this.statusChanges=H.statusChanges.subscribe(()=>Ci(this.elementRef)));const ie=H.control;ie&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Te=>{if(typeof ie[Te]<"u"){const mt=ie[Te].bind(ie);ie[Te]=(...zt)=>{mt(...zt),Ci(this.elementRef)}}})}static \u0275fac=function(ie){return new(ie||re)(C.rXU(C.zZn),C.rXU(C.aKT))};static \u0275dir=C.FsC({type:re,hostBindings:function(ie,Ke){1&ie&&C.bIt("ionBlur",function(mt){return Ke._handleBlurEvent(mt.target)})}})}return re})();const Ci=re=>{Or(()=>{const ee=re.nativeElement,H=null!=ee.value&&ee.value.toString().length>0,ie=bi(ee);pr(ee,ie);const Ke=ee.closest("ion-item");Ke&&pr(Ke,H?[...ie,"item-has-value"]:ie)})},bi=re=>{const ee=re.classList,H=[];for(let ie=0;ie<ee.length;ie++){const Ke=ee.item(ie);null!==Ke&&Mi(Ke,"ng-")&&H.push(`ion-${Ke.substring(3)}`)}return H},pr=(re,ee)=>{const H=re.classList;H.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),H.add(...ee)},Mi=(re,ee)=>re.substring(0,ee.length)===ee;class oi{shouldDetach(ee){return!1}shouldAttach(ee){return!1}store(ee,H){}retrieve(ee){return null}shouldReuseRoute(ee,H){if(ee.routeConfig!==H.routeConfig)return!1;const ie=ee.params,Ke=H.params,Te=Object.keys(ie),mt=Object.keys(Ke);if(Te.length!==mt.length)return!1;for(const zt of Te)if(Ke[zt]!==ie[zt])return!1;return!0}}class Di{ctrl;constructor(ee){this.ctrl=ee}create(ee){return this.ctrl.create(ee||{})}dismiss(ee,H,ie){return this.ctrl.dismiss(ee,H,ie)}getTop(){return this.ctrl.getTop()}}},5150:(vn,gt,x)=>{"use strict";x.d(gt,{hG:()=>Ri,U1:()=>rn,Jm:()=>sn,b_:()=>ct,I9:()=>st,ME:()=>Tt,HW:()=>Kt,tN:()=>Ht,W9:()=>gn,A9:()=>Un,Q8:()=>Rn,YW:()=>Jn,eU:()=>Ut,iq:()=>wt,$w:()=>Dn,uz:()=>Tr,he:()=>pe,Rg:()=>gi,ln:()=>re,Jq:()=>on,qW:()=>ir,p4:()=>zr,IO:()=>Zn,BC:()=>Si,ai:()=>si,bv:()=>oo,N7:()=>Hr,oY:()=>_r,Je:()=>W,Gw:()=>M,K_:()=>ho});var a=x(4438),C=x(4341),V=x(2872),le=x(1635),Se=x(3726),Ve=x(177),ue=x(4964),Fe=(x(9986),x(2116),x(7602),x(9499),x(8607),x(6482)),ke=x(464),et=(x(6687),x(9540)),Be=(x(8476),x(3649));x(1970),x(8103);var xe=x(467);const Pe=Fe.i,lt=function(){var j=(0,xe.A)(function*(sr,Y){if(!(typeof window>"u"))return yield Pe(),(0,Be.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Y)});return function(Y,O){return j.apply(this,arguments)}}(),Ne=["*"],me=["outletContent"],Et=["outlet"],Ye=[[["","slot","top"]],"*"],ot=["[slot=top]","*"];let W=(()=>{class j extends V.fL{constructor(Y,O){super(Y,O)}_handleChangeEvent(Y){this.handleValueChange(Y,Y.value)}static \u0275fac=function(O){return new(O||j)(a.rXU(a.zZn),a.rXU(a.aKT))};static \u0275dir=a.FsC({type:j,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(O,Ee){1&O&&a.bIt("ionChange",function(wr){return Ee._handleChangeEvent(wr.target)})},features:[a.Jv_([{provide:C.kq,useExisting:j,multi:!0}]),a.Vt3]})}return j})(),M=(()=>{class j extends V.fL{constructor(Y,O){super(Y,O)}_handleInputEvent(Y){this.handleValueChange(Y,Y.value)}static \u0275fac=function(O){return new(O||j)(a.rXU(a.zZn),a.rXU(a.aKT))};static \u0275dir=a.FsC({type:j,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(O,Ee){1&O&&a.bIt("ionInput",function(wr){return Ee._handleInputEvent(wr.target)})},features:[a.Jv_([{provide:C.kq,useExisting:j,multi:!0}]),a.Vt3]})}return j})();const S=(j,sr)=>{const Y=j.prototype;sr.forEach(O=>{Object.defineProperty(Y,O,{get(){return this.el[O]},set(Ee){this.z.runOutsideAngular(()=>this.el[O]=Ee)},configurable:!0})})},L=(j,sr)=>{const Y=j.prototype;sr.forEach(O=>{Y[O]=function(){const Ee=arguments;return this.z.runOutsideAngular(()=>this.el[O].apply(this.el,Ee))}})},se=(j,sr,Y)=>{Y.forEach(O=>j[O]=(0,Se.R)(sr,O))};function we(j){return function(Y){const{defineCustomElementFn:O,inputs:Ee,methods:Kn}=j;return void 0!==O&&O(),Ee&&S(Y,Ee),Kn&&L(Y,Kn),Y}}let rn=(()=>{let j=class EE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||EE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:EE,selectors:[["ion-app"]],ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({})],j),j})(),sn=(()=>{let j=class bE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement,se(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(O){return new(O||bE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:bE,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],j),j})(),ct=(()=>{let j=class RE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||RE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:RE,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],j),j})(),st=(()=>{let j=class PE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||PE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:PE,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["mode"]})],j),j})(),Tt=(()=>{let j=class ME{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||ME)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:ME,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode","translucent"]})],j),j})(),Kt=(()=>{let j=class xE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||xE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:xE,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode"]})],j),j})(),Ht=(()=>{let j=class OE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||OE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:OE,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode"]})],j),j})(),gn=(()=>{let j=class LE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement,se(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(O){return new(O||LE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:LE,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],j),j})(),Un=(()=>{let j=class VE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement,se(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}static \u0275fac=function(O){return new(O||VE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:VE,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],j),j})(),Rn=(()=>{let j=class $E{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||$E)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:$E,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],j),j})(),Jn=(()=>{let j=class BE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement,se(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(O){return new(O||BE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:BE,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],j),j})(),Ut=(()=>{let j=class WE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||WE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:WE,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["collapse","mode","translucent"]})],j),j})(),wt=(()=>{let j=class GE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||GE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:GE,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],j),j})(),Dn=(()=>{let j=class QE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement,se(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(O){return new(O||QE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:QE,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],j),j})(),Tr=(()=>{let j=class JE{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||JE)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:JE,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],j),j})(),pe=(()=>{let j=class o0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||o0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:o0,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode","position"]})],j),j})(),re=(()=>{let j=class b0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||b0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:b0,selectors:[["ion-row"]],ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({})],j),j})(),on=(()=>{let j=class F0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||F0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:F0,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode","selectedTab","translucent"]})],j),j})(),ir=(()=>{let j=class L0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||L0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:L0,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],j),j})(),Zn=(()=>{let j=class V0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||V0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:V0,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode"]})],j),j})(),Si=(()=>{let j=class B0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||B0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:B0,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","size"]})],j),j})(),si=(()=>{let j=class H0{z;el;constructor(Y,O,Ee){this.z=Ee,Y.detach(),this.el=O.nativeElement}static \u0275fac=function(O){return new(O||H0)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:H0,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ne,decls:1,vars:0,template:function(O,Ee){1&O&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return j=(0,le.Cg)([we({inputs:["color","mode"]})],j),j})(),gi=(()=>{class j extends V.Rg{parentOutlet;outletContent;constructor(Y,O,Ee,Kn,wr,Ur,so,$){super(Y,O,Ee,Kn,wr,Ur,so,$),this.parentOutlet=$}static \u0275fac=function(O){return new(O||j)(a.kS0("name"),a.kS0("tabs"),a.rXU(Ve.aZ),a.rXU(a.aKT),a.rXU(ue.Ix),a.rXU(a.SKi),a.rXU(ue.nX),a.rXU(j,12))};static \u0275cmp=a.VBU({type:j,selectors:[["ion-router-outlet"]],viewQuery:function(O,Ee){if(1&O&&a.GBs(me,7,a.c1b),2&O){let Kn;a.mGM(Kn=a.lsd())&&(Ee.outletContent=Kn.first)}},features:[a.Vt3],ngContentSelectors:Ne,decls:3,vars:0,consts:[["outletContent",""]],template:function(O,Ee){1&O&&(a.NAR(),a.qex(0,null,0),a.SdG(2),a.bVm())},encapsulation:2})}return j})(),zr=(()=>{class j extends V.p4{outlet;tabBar;tabBars;static \u0275fac=(()=>{let Y;return function(Ee){return(Y||(Y=a.xGo(j)))(Ee||j)}})();static \u0275cmp=a.VBU({type:j,selectors:[["ion-tabs"]],contentQueries:function(O,Ee,Kn){if(1&O&&(a.wni(Kn,on,5),a.wni(Kn,on,4)),2&O){let wr;a.mGM(wr=a.lsd())&&(Ee.tabBar=wr.first),a.mGM(wr=a.lsd())&&(Ee.tabBars=wr)}},viewQuery:function(O,Ee){if(1&O&&a.GBs(Et,5,gi),2&O){let Kn;a.mGM(Kn=a.lsd())&&(Ee.outlet=Kn.first)}},features:[a.Vt3],ngContentSelectors:ot,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(O,Ee){if(1&O){const Kn=a.RV6();a.NAR(Ye),a.SdG(0),a.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),a.bIt("stackWillChange",function(Ur){return a.eBV(Kn),a.Njj(Ee.onStackWillChange(Ur))})("stackDidChange",function(Ur){return a.eBV(Kn),a.Njj(Ee.onStackDidChange(Ur))}),a.k0s()(),a.SdG(5,1)}},dependencies:[gi],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return j})(),Hr=(()=>{class j extends V.CE{static \u0275fac=(()=>{let Y;return function(Ee){return(Y||(Y=a.xGo(j)))(Ee||j)}})();static \u0275dir=a.FsC({type:j,selectors:[["","routerLink","",5,"a",5,"area"]],features:[a.Vt3]})}return j})(),_r=(()=>{class j extends V.pF{static \u0275fac=(()=>{let Y;return function(Ee){return(Y||(Y=a.xGo(j)))(Ee||j)}})();static \u0275dir=a.FsC({type:j,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[a.Vt3]})}return j})();const Vr={provide:C.cz,useExisting:(0,a.Rfq)(()=>ur),multi:!0};let ur=(()=>{class j extends C.zX{static \u0275fac=(()=>{let Y;return function(Ee){return(Y||(Y=a.xGo(j)))(Ee||j)}})();static \u0275dir=a.FsC({type:j,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(O,Ee){2&O&&a.BMQ("max",Ee._enabled?Ee.max:null)},features:[a.Jv_([Vr]),a.Vt3]})}return j})();const Sr={provide:C.cz,useExisting:(0,a.Rfq)(()=>mi),multi:!0};let mi=(()=>{class j extends C.VZ{static \u0275fac=(()=>{let Y;return function(Ee){return(Y||(Y=a.xGo(j)))(Ee||j)}})();static \u0275dir=a.FsC({type:j,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(O,Ee){2&O&&a.BMQ("min",Ee._enabled?Ee.min:null)},features:[a.Jv_([Sr]),a.Vt3]})}return j})(),Ri=(()=>{class j extends V.Kb{constructor(){super(et.a)}static \u0275fac=function(O){return new(O||j)};static \u0275prov=a.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),Rr=(()=>{class j extends V.Kb{angularDelegate=(0,a.WQX)(V.Yq);injector=(0,a.WQX)(a.zZn);environmentInjector=(0,a.WQX)(a.uvJ);constructor(){super(et.m)}create(Y){return super.create({...Y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(O){return new(O||j)};static \u0275prov=a.jDH({token:j,factory:j.\u0275fac})}return j})();class qn extends V.Kb{angularDelegate=(0,a.WQX)(V.Yq);injector=(0,a.WQX)(a.zZn);environmentInjector=(0,a.WQX)(a.uvJ);constructor(){super(et.c)}create(sr){return super.create({...sr,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let ho=(()=>{class j extends V.Kb{constructor(){super(et.t)}static \u0275fac=function(O){return new(O||j)};static \u0275prov=a.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();const io=(j,sr,Y)=>()=>{const O=sr.defaultView;if(O&&typeof window<"u"){(0,ke.s)({...j,_zoneGate:Kn=>Y.run(Kn)});const Ee="__zone_symbol__addEventListener"in sr.body?"__zone_symbol__addEventListener":"addEventListener";return function _e(){var j=[];if(typeof window<"u"){var sr=window;(!sr.customElements||sr.Element&&(!sr.Element.prototype.closest||!sr.Element.prototype.matches||!sr.Element.prototype.remove||!sr.Element.prototype.getRootNode))&&j.push(x.e(7278).then(x.t.bind(x,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||sr.NodeList&&!sr.NodeList.prototype.forEach||!sr.fetch||!function(){try{var O=new URL("b","http://a");return O.pathname="c%20d","http://a/c%20d"===O.href&&O.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&j.push(x.e(9329).then(x.t.bind(x,7783,23)))}return Promise.all(j)}().then(()=>lt(O,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:V.er,jmp:Kn=>Y.runOutsideAngular(Kn),ael(Kn,wr,Ur,so){Kn[Ee](wr,Ur,so)},rel(Kn,wr,Ur,so){Kn.removeEventListener(wr,Ur,so)}}))}};let oo=(()=>{class j{static forRoot(Y={}){return{ngModule:j,providers:[{provide:V.sR,useValue:Y},{provide:a.hnV,useFactory:io,multi:!0,deps:[V.sR,Ve.qQ,a.SKi]},V.Yq,(0,V.YV)()]}}static \u0275fac=function(O){return new(O||j)};static \u0275mod=a.$C({type:j});static \u0275inj=a.G2t({providers:[Rr,qn],imports:[Ve.MD]})}return j})()},2214:(vn,gt,x)=>{"use strict";x.d(gt,{Dk:()=>a.getApps,KO:()=>a.registerVersion,Sx:()=>a.getApp,Wp:()=>a.initializeApp});var a=x(7852);(0,a.registerVersion)("firebase","10.12.2","app")},7935:(vn,gt,x)=>{"use strict";x.d(gt,{A:()=>a.A});var a=x(3345);a.A.registerVersion("firebase","10.12.2","app-compat")},2438:(vn,gt,x)=>{"use strict";x.r(gt);var a=x(467),C=x(3345),V=x(4033),le=x(1076),ue=(x(7852),x(8041),x(1362));function Oe(){return window}function he(){return he=(0,a.A)(function*(ne,de,J){var rt;const{BuildInfo:Mt}=Oe();(0,V.au)(de.sessionId,"AuthEvent did not contain a session ID");const hn=yield function Be(ne){return It.apply(this,arguments)}(de.sessionId),An={};return(0,V.av)()?An.ibi=Mt.packageName:(0,V.aw)()?An.apn=Mt.packageName:(0,V.ax)(ne,"operation-not-supported-in-this-environment"),Mt.displayName&&(An.appDisplayName=Mt.displayName),An.sessionId=hn,(0,V.ay)(ne,J,de.type,void 0,null!==(rt=de.eventId)&&void 0!==rt?rt:void 0,An)}),he.apply(this,arguments)}function Fe(){return(Fe=(0,a.A)(function*(ne){const{BuildInfo:de}=Oe(),J={};(0,V.av)()?J.iosBundleId=de.packageName:(0,V.aw)()?J.androidPackageName=de.packageName:(0,V.ax)(ne,"operation-not-supported-in-this-environment"),yield(0,V.az)(ne,J)})).apply(this,arguments)}function et(){return(et=(0,a.A)(function*(ne,de,J){const{cordova:rt}=Oe();let Mt=()=>{};try{yield new Promise((hn,An)=>{let nr=null;function mr(){var Hn;hn();const Or=null===(Hn=rt.plugins.browsertab)||void 0===Hn?void 0:Hn.close;"function"==typeof Or&&Or(),"function"==typeof J?.close&&J.close()}function En(){nr||(nr=window.setTimeout(()=>{An((0,V.aB)(ne,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===document?.visibilityState&&En()}de.addPassiveListener(mr),document.addEventListener("resume",En,!1),(0,V.aw)()&&document.addEventListener("visibilitychange",yn,!1),Mt=()=>{de.removePassiveListener(mr),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",yn,!1),nr&&window.clearTimeout(nr)}})}finally{Mt()}})).apply(this,arguments)}function It(){return(It=(0,a.A)(function*(ne){const de=function Ge(ne){if((0,V.au)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ne);const de=new ArrayBuffer(ne.length),J=new Uint8Array(de);for(let rt=0;rt<ne.length;rt++)J[rt]=ne.charCodeAt(rt);return J}(ne),J=yield crypto.subtle.digest("SHA-256",de);return Array.from(new Uint8Array(J)).map(Mt=>Mt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _e extends V.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(de=>{this.resolveInialized=de})}addPassiveListener(de){this.passiveListeners.add(de)}removePassiveListener(de){this.passiveListeners.delete(de)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(de){return this.resolveInialized(),this.passiveListeners.forEach(J=>J(de)),super.onEvent(de)}initialized(){var de=this;return(0,a.A)(function*(){yield de.initPromise})()}}function lt(ne){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.A)(function*(ne){const de=yield Ye()._get(ot(ne));return de&&(yield Ye()._remove(ot(ne))),de})).apply(this,arguments)}function Et(){const ne=[];for(let J=0;J<20;J++){const rt=Math.floor(62*Math.random());ne.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(rt))}return ne.join("")}function Ye(){return(0,V.aE)(V.b)}function ot(ne){return(0,V.aF)("authEvent",ne.config.apiKey,ne.name)}function At(ne){if(!ne?.includes("?"))return{};const[de,...J]=ne.split("?");return(0,le.I9)(J.join("?"))}const M=class W{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(de){var J=this;return(0,a.A)(function*(){const rt=de._key();let Mt=J.eventManagers.get(rt);return Mt||(Mt=new _e(de),J.eventManagers.set(rt,Mt),J.attachCallbackListeners(de,Mt)),Mt})()}_openPopup(de){(0,V.ax)(de,"operation-not-supported-in-this-environment")}_openRedirect(de,J,rt,Mt){var hn=this;return(0,a.A)(function*(){!function qe(ne){var de,J,rt,Mt,hn,An,nr,mr,En,yn;const Hn=Oe();(0,V.aC)("function"==typeof(null===(de=Hn?.universalLinks)||void 0===de?void 0:de.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aC)(typeof(null===(J=Hn?.BuildInfo)||void 0===J?void 0:J.packageName)<"u",ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aC)("function"==typeof(null===(hn=null===(Mt=null===(rt=Hn?.cordova)||void 0===rt?void 0:rt.plugins)||void 0===Mt?void 0:Mt.browsertab)||void 0===hn?void 0:hn.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(mr=null===(nr=null===(An=Hn?.cordova)||void 0===An?void 0:An.plugins)||void 0===nr?void 0:nr.browsertab)||void 0===mr?void 0:mr.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(yn=null===(En=Hn?.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===yn?void 0:yn.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(de);const An=yield hn._initialize(de);yield An.initialized(),An.resetRedirect(),(0,V.aI)(),yield hn._originValidation(de);const nr=function xe(ne,de,J=null){return{type:de,eventId:J,urlResponse:null,sessionId:Et(),postBody:null,tenantId:ne.tenantId,error:(0,V.aB)(ne,"no-auth-event")}}(de,rt,Mt);yield function Pe(ne,de){return Ye()._set(ot(ne),de)}(de,nr);const mr=yield function De(ne,de,J){return he.apply(this,arguments)}(de,nr,J),En=yield function ke(ne){const{cordova:de}=Oe();return new Promise(J=>{de.plugins.browsertab.isAvailable(rt=>{let Mt=null;rt?de.plugins.browsertab.openUrl(ne):Mt=de.InAppBrowser.open(ne,(0,V.aA)()?"_blank":"_system","location=yes"),J(Mt)})})}(mr);return function Xe(ne,de,J){return et.apply(this,arguments)}(de,An,En)})()}_isIframeWebStorageSupported(de,J){throw new Error("Method not implemented.")}_originValidation(de){const J=de._key();return this.originValidationPromises[J]||(this.originValidationPromises[J]=function Le(ne){return Fe.apply(this,arguments)}(de)),this.originValidationPromises[J]}attachCallbackListeners(de,J){const{universalLinks:rt,handleOpenURL:Mt,BuildInfo:hn}=Oe(),An=setTimeout((0,a.A)(function*(){yield lt(de),J.onEvent(S())}),500),nr=function(){var yn=(0,a.A)(function*(Hn){clearTimeout(An);const Or=yield lt(de);let jr=null;Or&&Hn?.url&&(jr=function me(ne,de){var J,rt;const Mt=function We(ne){const de=At(ne),J=de.link?decodeURIComponent(de.link):void 0,rt=At(J).link,Mt=de.deep_link_id?decodeURIComponent(de.deep_link_id):void 0;return At(Mt).link||Mt||rt||J||ne}(de);if(Mt.includes("/__/auth/callback")){const hn=At(Mt),An=hn.firebaseError?function Je(ne){try{return JSON.parse(ne)}catch{return null}}(decodeURIComponent(hn.firebaseError)):null,nr=null===(rt=null===(J=An?.code)||void 0===J?void 0:J.split("auth/"))||void 0===rt?void 0:rt[1],mr=nr?(0,V.aB)(nr):null;return mr?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:mr,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:Mt,postBody:null}}return null}(Or,Hn.url)),J.onEvent(jr||S())});return function(Or){return yn.apply(this,arguments)}}();typeof rt<"u"&&"function"==typeof rt.subscribe&&rt.subscribe(null,nr);const mr=Mt,En=`${hn.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var yn=(0,a.A)(function*(Hn){if(Hn.toLowerCase().startsWith(En)&&nr({url:Hn}),"function"==typeof mr)try{mr(Hn)}catch(Or){console.error(Or)}});return function(Hn){return yn.apply(this,arguments)}}()}};function S(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aB)("no-auth-event")}}function Bt(){var ne;return(null===(ne=self?.location)||void 0===ne?void 0:ne.protocol)||null}function Cn(ne=(0,le.ZQ)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function en(){try{const ne=self.localStorage,de=V.aN();if(ne)return ne.setItem(de,"1"),ne.removeItem(de),!function hr(ne=(0,le.ZQ)()){return function rn(){return(0,le.lT)()&&11===document?.documentMode}()||function Pn(ne=(0,le.ZQ)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,le.zW)()}catch{return kn()&&(0,le.zW)()}return!1}function kn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function tn(){return"http:"===Bt()||"https:"===Bt()}()||(0,le.sr)()||Cn())&&!function ln(){return(0,le.lV)()||(0,le.Ll)()}()&&en()&&!kn()}function sn(){return Cn()&&typeof document<"u"}function ct(){return(ct=(0,a.A)(function*(){return!!sn()&&new Promise(ne=>{const de=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(de),ne(!0)})})})).apply(this,arguments)}const Tt={LOCAL:"local",NONE:"none",SESSION:"session"},Kt=V.aC,Ht="persistence";function zn(ne){return fn.apply(this,arguments)}function fn(){return(fn=(0,a.A)(function*(ne){yield ne._initializationPromise;const de=Un(),J=V.aF(Ht,ne.config.apiKey,ne.name);de&&de.setItem(J,ne._getPersistence())})).apply(this,arguments)}function Un(){var ne;try{return(null===(ne=function st(){return typeof window<"u"?window:null}())||void 0===ne?void 0:ne.sessionStorage)||null}catch{return null}}const Yn=V.aC;class Rn{constructor(){this.browserResolver=V.aE(V.k),this.cordovaResolver=V.aE(M),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(de){var J=this;return(0,a.A)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._initialize(de)})()}_openPopup(de,J,rt,Mt){var hn=this;return(0,a.A)(function*(){return yield hn.selectUnderlyingResolver(),hn.assertedUnderlyingResolver._openPopup(de,J,rt,Mt)})()}_openRedirect(de,J,rt,Mt){var hn=this;return(0,a.A)(function*(){return yield hn.selectUnderlyingResolver(),hn.assertedUnderlyingResolver._openRedirect(de,J,rt,Mt)})()}_isIframeWebStorageSupported(de,J){this.assertedUnderlyingResolver._isIframeWebStorageSupported(de,J)}_originValidation(de){return this.assertedUnderlyingResolver._originValidation(de)}get _shouldInitProactively(){return sn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var de=this;return(0,a.A)(function*(){if(de.underlyingResolver)return;const J=yield function $t(){return ct.apply(this,arguments)}();de.underlyingResolver=J?de.cordovaResolver:de.browserResolver})()}}function Jn(ne){return ne.unwrap()}function Vt(ne){return Ut(ne)}function Ut(ne){const{_tokenResponse:de}=ne instanceof le.g?ne.customData:ne;if(!de)return null;if(!(ne instanceof le.g)&&"temporaryProof"in de&&"phoneNumber"in de)return V.P.credentialFromResult(ne);const J=de.providerId;if(!J||J===V.p.PASSWORD)return null;let rt;switch(J){case V.p.GOOGLE:rt=V.X;break;case V.p.FACEBOOK:rt=V.W;break;case V.p.GITHUB:rt=V.Y;break;case V.p.TWITTER:rt=V.$;break;default:const{oauthIdToken:Mt,oauthAccessToken:hn,oauthTokenSecret:An,pendingToken:nr,nonce:mr}=de;return hn||An||Mt||nr?nr?J.startsWith("saml.")?V.aQ._create(J,nr):V.N._fromParams({providerId:J,signInMethod:J,pendingToken:nr,idToken:Mt,accessToken:hn}):new V.Z(J).credential({idToken:Mt,accessToken:hn,rawNonce:mr}):null}return ne instanceof le.g?rt.credentialFromError(ne):rt.credentialFromResult(ne)}function wt(ne,de){return de.catch(J=>{throw J instanceof le.g&&function _t(ne,de){var J;const rt=null===(J=de.customData)||void 0===J?void 0:J._tokenResponse;if("auth/multi-factor-auth-required"===de?.code)de.resolver=new $e(ne,V.as(ne,de));else if(rt){const Mt=Ut(de),hn=de;Mt&&(hn.credential=Mt,hn.tenantId=rt.tenantId||void 0,hn.email=rt.email||void 0,hn.phoneNumber=rt.phoneNumber||void 0)}}(ne,J),J}).then(J=>{const Mt=J.user;return{operationType:J.operationType,credential:Vt(J),additionalUserInfo:V.aq(J),user:Dn.getOrCreate(Mt)}})}function qt(ne,de){return $n.apply(this,arguments)}function $n(){return($n=(0,a.A)(function*(ne,de){const J=yield de;return{verificationId:J.verificationId,confirm:rt=>wt(ne,J.confirm(rt))}})).apply(this,arguments)}class $e{constructor(de,J){this.resolver=J,this.auth=function wn(ne){return ne.wrapped()}(de)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(de){return wt(Jn(this.auth),this.resolver.resolveSignIn(de))}}class Dn{constructor(de){this._delegate=de,this.multiFactor=V.at(de)}static getOrCreate(de){return Dn.USER_MAP.has(de)||Dn.USER_MAP.set(de,new Dn(de)),Dn.USER_MAP.get(de)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(de){return this._delegate.getIdTokenResult(de)}getIdToken(de){return this._delegate.getIdToken(de)}linkAndRetrieveDataWithCredential(de){return this.linkWithCredential(de)}linkWithCredential(de){var J=this;return(0,a.A)(function*(){return wt(J.auth,V.a2(J._delegate,de))})()}linkWithPhoneNumber(de,J){var rt=this;return(0,a.A)(function*(){return qt(rt.auth,V.l(rt._delegate,de,J))})()}linkWithPopup(de){var J=this;return(0,a.A)(function*(){return wt(J.auth,V.d(J._delegate,de,Rn))})()}linkWithRedirect(de){var J=this;return(0,a.A)(function*(){return yield zn(V.aJ(J.auth)),V.g(J._delegate,de,Rn)})()}reauthenticateAndRetrieveDataWithCredential(de){return this.reauthenticateWithCredential(de)}reauthenticateWithCredential(de){var J=this;return(0,a.A)(function*(){return wt(J.auth,V.a3(J._delegate,de))})()}reauthenticateWithPhoneNumber(de,J){return qt(this.auth,V.r(this._delegate,de,J))}reauthenticateWithPopup(de){return wt(this.auth,V.e(this._delegate,de,Rn))}reauthenticateWithRedirect(de){var J=this;return(0,a.A)(function*(){return yield zn(V.aJ(J.auth)),V.h(J._delegate,de,Rn)})()}sendEmailVerification(de){return V.ag(this._delegate,de)}unlink(de){var J=this;return(0,a.A)(function*(){return yield V.ap(J._delegate,de),J})()}updateEmail(de){return V.al(this._delegate,de)}updatePassword(de){return V.am(this._delegate,de)}updatePhoneNumber(de){return V.u(this._delegate,de)}updateProfile(de){return V.ak(this._delegate,de)}verifyBeforeUpdateEmail(de,J){return V.ah(this._delegate,de,J)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dn.USER_MAP=new WeakMap;const Fn=V.aC;let Tr=(()=>{class ne{constructor(J,rt){if(this.app=J,rt.isInitialized())return this._delegate=rt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Mt}=J.options;Fn(Mt,"invalid-api-key",{appName:J.name}),Fn(Mt,"invalid-api-key",{appName:J.name});const hn=typeof window<"u"?Rn:void 0;this._delegate=rt.initialize({options:{persistence:nt(Mt,J.name),popupRedirectResolver:hn}}),this._delegate._updateErrorMap(V.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(J){this._delegate.languageCode=J}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(J){this._delegate.tenantId=J}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(J,rt){V.K(this._delegate,J,rt)}applyActionCode(J){return V.a7(this._delegate,J)}checkActionCode(J){return V.a8(this._delegate,J)}confirmPasswordReset(J,rt){return V.a6(this._delegate,J,rt)}createUserWithEmailAndPassword(J,rt){var Mt=this;return(0,a.A)(function*(){return wt(Mt._delegate,V.aa(Mt._delegate,J,rt))})()}fetchProvidersForEmail(J){return this.fetchSignInMethodsForEmail(J)}fetchSignInMethodsForEmail(J){return V.af(this._delegate,J)}isSignInWithEmailLink(J){return V.ad(this._delegate,J)}getRedirectResult(){var J=this;return(0,a.A)(function*(){Fn(Gn(),J._delegate,"operation-not-supported-in-this-environment");const rt=yield V.j(J._delegate,Rn);return rt?wt(J._delegate,Promise.resolve(rt)):{credential:null,user:null}})()}addFrameworkForLogging(J){!function L(ne,de){(0,V.aJ)(ne)._logFramework(de)}(this._delegate,J)}onAuthStateChanged(J,rt,Mt){const{next:hn,error:An,complete:nr}=tr(J,rt,Mt);return this._delegate.onAuthStateChanged(hn,An,nr)}onIdTokenChanged(J,rt,Mt){const{next:hn,error:An,complete:nr}=tr(J,rt,Mt);return this._delegate.onIdTokenChanged(hn,An,nr)}sendSignInLinkToEmail(J,rt){return V.ac(this._delegate,J,rt)}sendPasswordResetEmail(J,rt){return V.a5(this._delegate,J,rt||void 0)}setPersistence(J){var rt=this;return(0,a.A)(function*(){let Mt;switch(function cr(ne,de){Kt(Object.values(Tt).includes(de),ne,"invalid-persistence-type"),(0,le.lV)()?Kt(de!==Tt.SESSION,ne,"unsupported-persistence-type"):(0,le.Ll)()?Kt(de===Tt.NONE,ne,"unsupported-persistence-type"):kn()?Kt(de===Tt.NONE||de===Tt.LOCAL&&(0,le.zW)(),ne,"unsupported-persistence-type"):Kt(de===Tt.NONE||en(),ne,"unsupported-persistence-type")}(rt._delegate,J),J){case Tt.SESSION:Mt=V.a;break;case Tt.LOCAL:Mt=(yield V.aE(V.i)._isAvailable())?V.i:V.b;break;case Tt.NONE:Mt=V.U;break;default:return V.ax("argument-error",{appName:rt._delegate.name})}return rt._delegate.setPersistence(Mt)})()}signInAndRetrieveDataWithCredential(J){return this.signInWithCredential(J)}signInAnonymously(){return wt(this._delegate,V.a0(this._delegate))}signInWithCredential(J){return wt(this._delegate,V.a1(this._delegate,J))}signInWithCustomToken(J){return wt(this._delegate,V.a4(this._delegate,J))}signInWithEmailAndPassword(J,rt){return wt(this._delegate,V.ab(this._delegate,J,rt))}signInWithEmailLink(J,rt){return wt(this._delegate,V.ae(this._delegate,J,rt))}signInWithPhoneNumber(J,rt){return qt(this._delegate,V.s(this._delegate,J,rt))}signInWithPopup(J){var rt=this;return(0,a.A)(function*(){return Fn(Gn(),rt._delegate,"operation-not-supported-in-this-environment"),wt(rt._delegate,V.c(rt._delegate,J,Rn))})()}signInWithRedirect(J){var rt=this;return(0,a.A)(function*(){return Fn(Gn(),rt._delegate,"operation-not-supported-in-this-environment"),yield zn(rt._delegate),V.f(rt._delegate,J,Rn)})()}updateCurrentUser(J){return this._delegate.updateCurrentUser(J)}verifyPasswordResetCode(J){return V.a9(this._delegate,J)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=Tt,ne})();function tr(ne,de,J){let rt=ne;"function"!=typeof ne&&({next:rt,error:de,complete:J}=ne);const Mt=rt;return{next:An=>Mt(An&&Dn.getOrCreate(An)),error:de,complete:J}}function nt(ne,de){const J=function gn(ne,de){const J=Un();if(!J)return[];const rt=V.aF(Ht,ne,de);switch(J.getItem(rt)){case Tt.NONE:return[V.U];case Tt.LOCAL:return[V.i,V.a];case Tt.SESSION:return[V.a];default:return[]}}(ne,de);if(typeof self<"u"&&!J.includes(V.i)&&J.push(V.i),typeof window<"u")for(const rt of[V.b,V.a])J.includes(rt)||J.push(rt);return J.includes(V.U)||J.push(V.U),J}class dt{constructor(){this.providerId="phone",this._delegate=new V.P(Jn(C.A.auth()))}static credential(de,J){return V.P.credential(de,J)}verifyPhoneNumber(de,J){return this._delegate.verifyPhoneNumber(de,J)}unwrap(){return this._delegate}}dt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,dt.PROVIDER_ID=V.P.PROVIDER_ID;const Me=V.aC;class ut{constructor(de,J,rt=C.A.app()){var Mt;Me(null===(Mt=rt.options)||void 0===Mt?void 0:Mt.apiKey,"invalid-api-key",{appName:rt.name}),this._delegate=new V.R(rt.auth(),de,J),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ve(ne){ne.INTERNAL.registerComponent(new ue.uA("auth-compat",de=>{const J=de.getProvider("app-compat").getImmediate(),rt=de.getProvider("auth");return new Tr(J,rt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.V,FacebookAuthProvider:V.W,GithubAuthProvider:V.Y,GoogleAuthProvider:V.X,OAuthProvider:V.Z,SAMLAuthProvider:V._,PhoneAuthProvider:dt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:ut,TwitterAuthProvider:V.$,Auth:Tr,AuthCredential:V.L,Error:le.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.5.9")}(C.A)},3011:(vn,gt,x)=>{"use strict";var a=x(3345),C=x(9583),V=x(1076),le=x(1362);function ue(M,S){if(void 0===S)return{merge:!1};if(void 0!==S.mergeFields&&void 0!==S.merge)throw new C.W6("invalid-argument",`Invalid options passed to function ${M}(): You cannot specify both "merge" and "mergeFields".`);return S}function Oe(){if(typeof Uint8Array>"u")throw new C.W6("unimplemented","Uint8Arrays are not available in this environment.")}function ze(){if(!(0,C.qG)())throw new C.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class De{constructor(S){this._delegate=S}static fromBase64String(S){return ze(),new De(C.Ix.fromBase64String(S))}static fromUint8Array(S){return Oe(),new De(C.Ix.fromUint8Array(S))}toBase64(){return ze(),this._delegate.toBase64()}toUint8Array(){return Oe(),this._delegate.toUint8Array()}isEqual(S){return this._delegate.isEqual(S._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function he(M){return function Le(M,S){if("object"!=typeof M||null===M)return!1;const L=M;for(const se of S)if(se in L&&"function"==typeof L[se])return!0;return!1}(M,["next","error","complete"])}class Fe{enableIndexedDbPersistence(S,L){return(0,C.ol)(S._delegate,{forceOwnership:L})}enableMultiTabIndexedDbPersistence(S){return(0,C.Q5)(S._delegate)}clearIndexedDbPersistence(S){return(0,C.me)(S._delegate)}}class ke{constructor(S,L,se){this._delegate=L,this._persistenceProvider=se,this.INTERNAL={delete:()=>this.terminate()},S instanceof C.cm||(this._appCompat=S)}get _databaseId(){return this._delegate._databaseId}settings(S){const L=this._delegate._getSettings();!S.merge&&L.host!==S.host&&(0,C.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),S.merge&&delete(S=Object.assign(Object.assign({},L),S)).merge,this._delegate._setSettings(S)}useEmulator(S,L,se={}){(0,C.vN)(this._delegate,S,L,se)}enableNetwork(){return(0,C.Os)(this._delegate)}disableNetwork(){return(0,C.LA)(this._delegate)}enablePersistence(S){let L=!1,se=!1;return S&&(L=!!S.synchronizeTabs,se=!!S.experimentalForceOwningTab,(0,C.c8)("synchronizeTabs",L,"experimentalForceOwningTab",se)),L?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,se)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,C.iB)(this._delegate)}onSnapshotsInSync(S){return(0,C.FC)(this._delegate,S)}get app(){if(!this._appCompat)throw new C.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(S){try{return new Ye(this,(0,C.rJ)(this._delegate,S))}catch(L){throw tt(L,"collection()","Firestore.collection()")}}doc(S){try{return new Ge(this,(0,C.H9)(this._delegate,S))}catch(L){throw tt(L,"doc()","Firestore.doc()")}}collectionGroup(S){try{return new Ne(this,(0,C.Cs)(this._delegate,S))}catch(L){throw tt(L,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(S){return(0,C.c4)(this._delegate,L=>S(new qe(this,L)))}batch(){return(0,C.Ws)(this._delegate),new Be(new C.GA(this._delegate,S=>(0,C.z6)(this._delegate,S)))}loadBundle(S){return(0,C.po)(this._delegate,S)}namedQuery(S){return(0,C.St)(this._delegate,S).then(L=>L?new Ne(this,L):null)}}class Xe extends C.fS{constructor(S){super(),this.firestore=S}convertBytes(S){return new De(new C.Ix(S))}convertReference(S){const L=this.convertDocumentKey(S,this.firestore._databaseId);return Ge.forKey(L,this.firestore,null)}}class qe{constructor(S,L){this._firestore=S,this._delegate=L,this._userDataWriter=new Xe(S)}get(S){const L=ot(S);return this._delegate.get(L).then(se=>new Pe(this._firestore,new C.Wq(this._firestore._delegate,this._userDataWriter,se._key,se._document,se.metadata,L.converter)))}set(S,L,se){const je=ot(S);return se?(ue("Transaction.set",se),this._delegate.set(je,L,se)):this._delegate.set(je,L),this}update(S,L,se,...je){const we=ot(S);return 2===arguments.length?this._delegate.update(we,L):this._delegate.update(we,L,se,...je),this}delete(S){const L=ot(S);return this._delegate.delete(L),this}}class Be{constructor(S){this._delegate=S}set(S,L,se){const je=ot(S);return se?(ue("WriteBatch.set",se),this._delegate.set(je,L,se)):this._delegate.set(je,L),this}update(S,L,se,...je){const we=ot(S);return 2===arguments.length?this._delegate.update(we,L):this._delegate.update(we,L,se,...je),this}delete(S){const L=ot(S);return this._delegate.delete(L),this}commit(){return this._delegate.commit()}}class It{constructor(S,L,se){this._firestore=S,this._userDataWriter=L,this._delegate=se}fromFirestore(S,L){const se=new C.YQ(this._firestore._delegate,this._userDataWriter,S._key,S._document,S.metadata,null);return this._delegate.fromFirestore(new lt(this._firestore,se),L??{})}toFirestore(S,L){return L?this._delegate.toFirestore(S,L):this._delegate.toFirestore(S)}static getInstance(S,L){const se=It.INSTANCES;let je=se.get(S);je||(je=new WeakMap,se.set(S,je));let we=je.get(L);return we||(we=new It(S,new Xe(S),L),je.set(L,we)),we}}It.INSTANCES=new WeakMap;class Ge{constructor(S,L){this.firestore=S,this._delegate=L,this._userDataWriter=new Xe(S)}static forPath(S,L,se){if(S.length%2!=0)throw new C.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${S.canonicalString()} has ${S.length}`);return new Ge(L,new C.T1(L._delegate,se,new C.K$(S)))}static forKey(S,L,se){return new Ge(L,new C.T1(L._delegate,se,S))}get id(){return this._delegate.id}get parent(){return new Ye(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(S){try{return new Ye(this.firestore,(0,C.rJ)(this._delegate,S))}catch(L){throw tt(L,"collection()","DocumentReference.collection()")}}isEqual(S){return(S=(0,V.Ku)(S))instanceof C.T1&&(0,C.yx)(this._delegate,S)}set(S,L){L=ue("DocumentReference.set",L);try{return L?(0,C.BN)(this._delegate,S,L):(0,C.BN)(this._delegate,S)}catch(se){throw tt(se,"setDoc()","DocumentReference.set()")}}update(S,L,...se){try{return 1===arguments.length?(0,C.mZ)(this._delegate,S):(0,C.mZ)(this._delegate,S,L,...se)}catch(je){throw tt(je,"updateDoc()","DocumentReference.update()")}}delete(){return(0,C.kd)(this._delegate)}onSnapshot(...S){const L=_e(S),se=xe(S,je=>new Pe(this.firestore,new C.Wq(this.firestore._delegate,this._userDataWriter,je._key,je._document,je.metadata,this._delegate.converter)));return(0,C.aQ)(this._delegate,L,se)}get(S){let L;return L="cache"===S?.source?(0,C.nY)(this._delegate):"server"===S?.source?(0,C._e)(this._delegate):(0,C.x7)(this._delegate),L.then(se=>new Pe(this.firestore,new C.Wq(this.firestore._delegate,this._userDataWriter,se._key,se._document,se.metadata,this._delegate.converter)))}withConverter(S){return new Ge(this.firestore,this._delegate.withConverter(S?It.getInstance(this.firestore,S):null))}}function tt(M,S,L){return M.message=M.message.replace(S,L),M}function _e(M){for(const S of M)if("object"==typeof S&&!he(S))return S;return{}}function xe(M,S){var L,se;let je;return je=he(M[0])?M[0]:he(M[1])?M[1]:"function"==typeof M[0]?{next:M[0],error:M[1],complete:M[2]}:{next:M[1],error:M[2],complete:M[3]},{next:we=>{je.next&&je.next(S(we))},error:null===(L=je.error)||void 0===L?void 0:L.bind(je),complete:null===(se=je.complete)||void 0===se?void 0:se.bind(je)}}class Pe{constructor(S,L){this._firestore=S,this._delegate=L}get ref(){return new Ge(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(S){return this._delegate.data(S)}get(S,L){return this._delegate.get(S,L)}isEqual(S){return(0,C.lN)(this._delegate,S._delegate)}}class lt extends Pe{data(S){const L=this._delegate.data(S);return this._delegate._converter||(0,C.bI)(void 0!==L,"Document in a QueryDocumentSnapshot should exist"),L}}class Ne{constructor(S,L){this.firestore=S,this._delegate=L,this._userDataWriter=new Xe(S)}where(S,L,se){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C._M)(S,L,se)))}catch(je){throw tt(je,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(S,L){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.My)(S,L)))}catch(se){throw tt(se,/(orderBy|where)\(\)/,"Query.$1()")}}limit(S){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.AB)(S)))}catch(L){throw tt(L,"limit()","Query.limit()")}}limitToLast(S){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.$1)(S)))}catch(L){throw tt(L,"limitToLast()","Query.limitToLast()")}}startAt(...S){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.EO)(...S)))}catch(L){throw tt(L,"startAt()","Query.startAt()")}}startAfter(...S){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.HM)(...S)))}catch(L){throw tt(L,"startAfter()","Query.startAfter()")}}endBefore(...S){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.rf)(...S)))}catch(L){throw tt(L,"endBefore()","Query.endBefore()")}}endAt(...S){try{return new Ne(this.firestore,(0,C.P)(this._delegate,(0,C.FD)(...S)))}catch(L){throw tt(L,"endAt()","Query.endAt()")}}isEqual(S){return(0,C.B)(this._delegate,S._delegate)}get(S){let L;return L="cache"===S?.source?(0,C.kU)(this._delegate):"server"===S?.source?(0,C.Rr)(this._delegate):(0,C.GG)(this._delegate),L.then(se=>new Et(this.firestore,new C.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,se._snapshot)))}onSnapshot(...S){const L=_e(S),se=xe(S,je=>new Et(this.firestore,new C.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,je._snapshot)));return(0,C.aQ)(this._delegate,L,se)}withConverter(S){return new Ne(this.firestore,this._delegate.withConverter(S?It.getInstance(this.firestore,S):null))}}class me{constructor(S,L){this._firestore=S,this._delegate=L}get type(){return this._delegate.type}get doc(){return new lt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Et{constructor(S,L){this._firestore=S,this._delegate=L}get query(){return new Ne(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(S=>new lt(this._firestore,S))}docChanges(S){return this._delegate.docChanges(S).map(L=>new me(this._firestore,L))}forEach(S,L){this._delegate.forEach(se=>{S.call(L,new lt(this._firestore,se))})}isEqual(S){return(0,C.lN)(this._delegate,S._delegate)}}class Ye extends Ne{constructor(S,L){super(S,L),this.firestore=S,this._delegate=L}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const S=this._delegate.parent;return S?new Ge(this.firestore,S):null}doc(S){try{return new Ge(this.firestore,void 0===S?(0,C.H9)(this._delegate):(0,C.H9)(this._delegate,S))}catch(L){throw tt(L,"doc()","CollectionReference.doc()")}}add(S){return(0,C.gS)(this._delegate,S).then(L=>new Ge(this.firestore,L))}isEqual(S){return(0,C.yx)(this._delegate,S._delegate)}withConverter(S){return new Ye(this.firestore,this._delegate.withConverter(S?It.getInstance(this.firestore,S):null))}}function ot(M){return(0,C.lo)(M,C.T1)}class Je{constructor(...S){this._delegate=new C.uY(...S)}static documentId(){return new Je(C.FA.keyField().canonicalString())}isEqual(S){return(S=(0,V.Ku)(S))instanceof C.uY&&this._delegate._internalPath.isEqual(S._internalPath)}}class We{constructor(S){this._delegate=S}static serverTimestamp(){const S=(0,C.O5)();return S._methodName="FieldValue.serverTimestamp",new We(S)}static delete(){const S=(0,C.CL)();return S._methodName="FieldValue.delete",new We(S)}static arrayUnion(...S){const L=(0,C.hq)(...S);return L._methodName="FieldValue.arrayUnion",new We(L)}static arrayRemove(...S){const L=(0,C.C3)(...S);return L._methodName="FieldValue.arrayRemove",new We(L)}static increment(S){const L=(0,C.GV)(S);return L._methodName="FieldValue.increment",new We(L)}isEqual(S){return this._delegate.isEqual(S._delegate)}}const At={Firestore:ke,GeoPoint:C.Ci,Timestamp:C.Dc,Blob:De,Transaction:qe,WriteBatch:Be,DocumentReference:Ge,DocumentSnapshot:Pe,Query:Ne,QueryDocumentSnapshot:lt,QuerySnapshot:Et,CollectionReference:Ye,FieldPath:Je,FieldValue:We,setLogLevel:function et(M){(0,C.He)(M)},CACHE_SIZE_UNLIMITED:C.H6};!function W(M){(function Ie(M,S){M.INTERNAL.registerComponent(new le.uA("firestore-compat",L=>{const se=L.getProvider("app-compat").getImmediate(),je=L.getProvider("firestore").getImmediate();return S(se,je)},"PUBLIC").setServiceProps(Object.assign({},At)))})(M,(S,L)=>new ke(S,L,new Fe)),M.registerVersion("@firebase/firestore-compat","0.3.32")}(a.A)},467:(vn,gt,x)=>{"use strict";function a(V,le,Se,Ve,ue,Oe,ze){try{var De=V[Oe](ze),he=De.value}catch(Le){return void Se(Le)}De.done?le(he):Promise.resolve(he).then(Ve,ue)}function C(V){return function(){var le=this,Se=arguments;return new Promise(function(Ve,ue){var Oe=V.apply(le,Se);function ze(he){a(Oe,Ve,ue,ze,De,"next",he)}function De(he){a(Oe,Ve,ue,ze,De,"throw",he)}ze(void 0)})}}x.d(gt,{A:()=>C})},1635:(vn,gt,x)=>{"use strict";function le(M,S){var L={};for(var se in M)Object.prototype.hasOwnProperty.call(M,se)&&S.indexOf(se)<0&&(L[se]=M[se]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(se=Object.getOwnPropertySymbols(M);je<se.length;je++)S.indexOf(se[je])<0&&Object.prototype.propertyIsEnumerable.call(M,se[je])&&(L[se[je]]=M[se[je]])}return L}function Se(M,S,L,se){var Bt,je=arguments.length,we=je<3?S:null===se?se=Object.getOwnPropertyDescriptor(S,L):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)we=Reflect.decorate(M,S,L,se);else for(var tn=M.length-1;tn>=0;tn--)(Bt=M[tn])&&(we=(je<3?Bt(we):je>3?Bt(S,L,we):Bt(S,L))||we);return je>3&&we&&Object.defineProperty(S,L,we),we}function Le(M,S,L,se){return new(L||(L=Promise))(function(we,Bt){function tn(rn){try{ln(se.next(rn))}catch(Pn){Bt(Pn)}}function Cn(rn){try{ln(se.throw(rn))}catch(Pn){Bt(Pn)}}function ln(rn){rn.done?we(rn.value):function je(we){return we instanceof L?we:new L(function(Bt){Bt(we)})}(rn.value).then(tn,Cn)}ln((se=se.apply(M,S||[])).next())})}function tt(M){return this instanceof tt?(this.v=M,this):new tt(M)}function _e(M,S,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,se=L.apply(M,S||[]),we=[];return je={},tn("next"),tn("throw"),tn("return",function Bt(en){return function(kn){return Promise.resolve(kn).then(en,Pn)}}),je[Symbol.asyncIterator]=function(){return this},je;function tn(en,kn){se[en]&&(je[en]=function(Gn){return new Promise(function(sn,$t){we.push([en,Gn,sn,$t])>1||Cn(en,Gn)})},kn&&(je[en]=kn(je[en])))}function Cn(en,kn){try{!function ln(en){en.value instanceof tt?Promise.resolve(en.value.v).then(rn,Pn):hr(we[0][2],en)}(se[en](kn))}catch(Gn){hr(we[0][3],Gn)}}function rn(en){Cn("next",en)}function Pn(en){Cn("throw",en)}function hr(en,kn){en(kn),we.shift(),we.length&&Cn(we[0][0],we[0][1])}}function Pe(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,S=M[Symbol.asyncIterator];return S?S.call(M):(M=function et(M){var S="function"==typeof Symbol&&Symbol.iterator,L=S&&M[S],se=0;if(L)return L.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&se>=M.length&&(M=void 0),{value:M&&M[se++],done:!M}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")}(M),L={},se("next"),se("throw"),se("return"),L[Symbol.asyncIterator]=function(){return this},L);function se(we){L[we]=M[we]&&function(Bt){return new Promise(function(tn,Cn){!function je(we,Bt,tn,Cn){Promise.resolve(Cn).then(function(ln){we({value:ln,done:tn})},Bt)}(tn,Cn,(Bt=M[we](Bt)).done,Bt.value)})}}}x.d(gt,{AQ:()=>_e,Cg:()=>Se,N3:()=>tt,Tt:()=>le,sH:()=>Le,xN:()=>Pe}),"function"==typeof SuppressedError&&SuppressedError}},vn=>{vn(vn.s=3310)}]);